# Logfile created on 2020-04-19 15:11:24 +0000 by logger.rb/61378
D, [2020-04-19T15:11:24.052661 #21198] DEBUG -- :   [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-19T15:13:54.912152 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-19T15:13:55.318374 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.318898 #21360]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-19T15:13:55.318954 #21360]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-04-19T15:13:55.318986 #21360]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-19T15:13:55.342281 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.343346 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.344041 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.344335 #21360]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-19T15:13:55.344373 #21360]  INFO -- : EmployeeTest: test_: Employee should allow :ssn to be â€¹"123456789"â€º. 
I, [2020-04-19T15:13:55.344395 #21360]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-19T15:13:55.346964 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "123456789"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.347949 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.348478 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.348730 #21360]  INFO -- : -----------------------------------------------------------------------------
I, [2020-04-19T15:13:55.348814 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-04-19T15:13:55.348840 #21360]  INFO -- : -----------------------------------------------------------------------------
D, [2020-04-19T15:13:55.351879 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.352767 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.353395 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.353635 #21360]  INFO -- : -------------------------------------------------------------------
I, [2020-04-19T15:13:55.353673 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"vp"â€º. 
I, [2020-04-19T15:13:55.353708 #21360]  INFO -- : -------------------------------------------------------------------
D, [2020-04-19T15:13:55.356318 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.357174 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.357767 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.358000 #21360]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-19T15:13:55.358037 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"1234567890"â€º. 
I, [2020-04-19T15:13:55.358058 #21360]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-19T15:13:55.360718 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "1234567890"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.361742 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.362269 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.362546 #21360]  INFO -- : --------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.362583 #21360]  INFO -- : EmployeeTest: test_: Employee should validate that :first_name cannot be empty/falsy. 
I, [2020-04-19T15:13:55.362605 #21360]  INFO -- : --------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.366090 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.366938 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.367411 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.367671 #21360]  INFO -- : ------------------------------------------------------------
I, [2020-04-19T15:13:55.367715 #21360]  INFO -- : EmployeeTest: test_: Employee should have many assignments. 
I, [2020-04-19T15:13:55.367735 #21360]  INFO -- : ------------------------------------------------------------
D, [2020-04-19T15:13:55.373557 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.374057 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.374273 #21360]  INFO -- : -----------------------------------------------------------------
I, [2020-04-19T15:13:55.374307 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹nilâ€º. 
I, [2020-04-19T15:13:55.374331 #21360]  INFO -- : -----------------------------------------------------------------
D, [2020-04-19T15:13:55.377175 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.378040 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.378585 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.378808 #21360]  INFO -- : ----------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.378843 #21360]  INFO -- : EmployeeTest: test_: Given context should not allow an improper edit of employee to kick in deletion protocols. 
I, [2020-04-19T15:13:55.378863 #21360]  INFO -- : ----------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.379942 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.380959 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "175492755"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.382257 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "175492755"], ["date_of_birth", "2001-04-19"], ["phone", "2984341220"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.383266 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.384515 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.385477 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.385748 #21360]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.385791 #21360]  INFO -- : EmployeeTest: test_: Given context should shows that there are 2 managers: Ben and Kathryn. 
I, [2020-04-19T15:13:55.385812 #21360]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.386301 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.387240 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "095186329"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.388248 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "095186329"], ["date_of_birth", "2001-04-19"], ["phone", "9637902370"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.389220 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.390317 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.391191 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.391407 #21360]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.391476 #21360]  INFO -- : EmployeeTest: test_: Given context should have all inactive employees accounted for. 
I, [2020-04-19T15:13:55.391496 #21360]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.392002 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.392925 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "167902815"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.393954 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "167902815"], ["date_of_birth", "2001-04-19"], ["phone", "4380248186"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.394912 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.396054 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.396881 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.397095 #21360]  INFO -- : -----------------------------------------------------------------------------
I, [2020-04-19T15:13:55.397129 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹"bad"â€º. 
I, [2020-04-19T15:13:55.397148 #21360]  INFO -- : -----------------------------------------------------------------------------
D, [2020-04-19T15:13:55.400086 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.400894 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.401433 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.401644 #21360]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.401678 #21360]  INFO -- : EmployeeTest: test_: Given context should show there are four employees over 18. 
I, [2020-04-19T15:13:55.401708 #21360]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.402211 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.403124 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "377949841"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.404111 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "377949841"], ["date_of_birth", "2001-04-19"], ["phone", "8289641721"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.405148 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.406318 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.407205 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.407620 #21360]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.407672 #21360]  INFO -- : EmployeeTest: test_: Given context should shows that Ben's phone is stripped of non-digits. 
I, [2020-04-19T15:13:55.407710 #21360]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.408198 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.409124 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091032087"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.410145 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "091032087"], ["date_of_birth", "2001-04-19"], ["phone", "8371968692"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.411154 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.412299 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.413176 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.413478 #21360]  INFO -- : ----------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.413514 #21360]  INFO -- : EmployeeTest: test_: Given context should shows that there are 4 regular employees: Ed, Cindy, Chuck and Ralph. 
I, [2020-04-19T15:13:55.413534 #21360]  INFO -- : ----------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.414038 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.414988 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "180249869"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.416001 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "180249869"], ["date_of_birth", "2001-04-19"], ["phone", "1149950930"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.416958 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.418181 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.419091 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.419320 #21360]  INFO -- : -----------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.419355 #21360]  INFO -- : EmployeeTest: test_: Employee should have many pay_grade_rates through pay_grades. 
I, [2020-04-19T15:13:55.419374 #21360]  INFO -- : -----------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.419747 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.420510 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.420732 #21360]  INFO -- : --------------------------------------------------------------------
I, [2020-04-19T15:13:55.420767 #21360]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"manager"â€º. 
I, [2020-04-19T15:13:55.420786 #21360]  INFO -- : --------------------------------------------------------------------
D, [2020-04-19T15:13:55.423373 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.423912 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.424512 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.424733 #21360]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.424772 #21360]  INFO -- : EmployeeTest: test_: Employee should validate that :last_name cannot be empty/falsy. 
I, [2020-04-19T15:13:55.424800 #21360]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.427991 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.428926 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.429443 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.429656 #21360]  INFO -- : ----------------------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.429701 #21360]  INFO -- : EmployeeTest: test_: Given context should shows return employee's current assignment, if it exists. 
I, [2020-04-19T15:13:55.429721 #21360]  INFO -- : ----------------------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.430252 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.431189 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "196438740"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.432216 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "196438740"], ["date_of_birth", "2001-04-19"], ["phone", "7588563376"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.433178 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.434370 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.435283 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.435537 #21360]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.435573 #21360]  INFO -- : EmployeeTest: test_: Employee should validate that :username cannot be empty/falsy. 
I, [2020-04-19T15:13:55.435593 #21360]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.436177 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.437046 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.437344 #21360]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.437382 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-04-19T15:13:55.437402 #21360]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.440190 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.441173 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.441734 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.441943 #21360]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.441978 #21360]  INFO -- : EmployeeTest: test_: Given context should shows return employee's current pay rate as a float, if it exists. 
I, [2020-04-19T15:13:55.441998 #21360]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.442518 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.443444 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "095310788"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.444502 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "095310788"], ["date_of_birth", "2001-04-19"], ["phone", "0552596295"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.445500 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.446653 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.447547 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.447912 #21360]  INFO -- : ---------------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.447964 #21360]  INFO -- : EmployeeTest: test_: Given context should shows return employee's pay rate on a given date as a float, if it exists. 
I, [2020-04-19T15:13:55.448005 #21360]  INFO -- : ---------------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.448778 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.449727 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "336699855"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.450736 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "336699855"], ["date_of_birth", "2001-04-19"], ["phone", "4433100345"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.451724 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.452805 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.453677 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.453904 #21360]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-19T15:13:55.453938 #21360]  INFO -- : EmployeeTest: test_: Given context should list employees alphabetically. 
I, [2020-04-19T15:13:55.453958 #21360]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-19T15:13:55.454486 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.455419 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "021288482"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.456513 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "021288482"], ["date_of_birth", "2001-04-19"], ["phone", "7047181911"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.457640 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.458933 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.459917 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.460187 #21360]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.460224 #21360]  INFO -- : EmployeeTest: test_: Given context should shows that there is one admin: Alex. 
I, [2020-04-19T15:13:55.460247 #21360]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.460776 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.461739 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "028326332"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.462754 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "028326332"], ["date_of_birth", "2001-04-19"], ["phone", "8558568735"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.463752 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.464934 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.465850 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.466130 #21360]  INFO -- : -----------------------------------------------------------------
I, [2020-04-19T15:13:55.466165 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹10â€º. 
I, [2020-04-19T15:13:55.466185 #21360]  INFO -- : -----------------------------------------------------------------
D, [2020-04-19T15:13:55.468701 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.469613 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.470150 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.470395 #21360]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-19T15:13:55.470430 #21360]  INFO -- : EmployeeTest: test_: Given context should have a make_active method. 
I, [2020-04-19T15:13:55.470454 #21360]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-19T15:13:55.470964 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.472297 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "282601797"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.473445 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "282601797"], ["date_of_birth", "2001-04-19"], ["phone", "1193494440"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.474587 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.475770 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.476618 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.476875 #21360]  INFO -- : -----------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.476913 #21360]  INFO -- : EmployeeTest: test_: Given context should have all active employees accounted for. 
I, [2020-04-19T15:13:55.476932 #21360]  INFO -- : -----------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.477460 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.478506 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "370190412"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.479658 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "370190412"], ["date_of_birth", "2001-04-19"], ["phone", "7197549659"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.480643 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.481853 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.482765 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.483045 #21360]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.483084 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-04-19T15:13:55.483120 #21360]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.486063 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.486975 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.487451 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.487710 #21360]  INFO -- : -----------------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.487745 #21360]  INFO -- : EmployeeTest: test_: Given context should shows return employee's pay grade on a given date as a string, if it exists. 
I, [2020-04-19T15:13:55.487765 #21360]  INFO -- : -----------------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.488305 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.489250 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "342824354"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.490348 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "342824354"], ["date_of_birth", "2001-04-19"], ["phone", "0650944344"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.491414 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.492611 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.493494 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.493711 #21360]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.493747 #21360]  INFO -- : EmployeeTest: test_: Given context should shows that age method returns the correct value. 
I, [2020-04-19T15:13:55.493766 #21360]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.494271 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.495236 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "289185875"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.496240 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "289185875"], ["date_of_birth", "2001-04-19"], ["phone", "4939365203"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.497337 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.498506 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.499403 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.499615 #21360]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.499659 #21360]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Sat, 19 Apr 2003â€º. 
I, [2020-04-19T15:13:55.499696 #21360]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.504278 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.505785 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.506767 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.507166 #21360]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-19T15:13:55.507222 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-04-19T15:13:55.507255 #21360]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-19T15:13:55.515075 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.516018 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.516634 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.516897 #21360]  INFO -- : ---------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.516952 #21360]  INFO -- : EmployeeTest: test_: Given context should shows return employee's current pay grade as a string, if it exists. 
I, [2020-04-19T15:13:55.516975 #21360]  INFO -- : ---------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.517693 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.518985 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "099582731"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.520181 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "099582731"], ["date_of_birth", "2001-04-19"], ["phone", "6037823006"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.532581 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.534183 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.535149 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.535377 #21360]  INFO -- : ------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.535411 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹Thu, 19 Apr 2007 11:13:55 EDT -04:00â€º. 
I, [2020-04-19T15:13:55.535432 #21360]  INFO -- : ------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.538827 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.539694 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.540244 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.540490 #21360]  INFO -- : -------------------------------------------------------------------
I, [2020-04-19T15:13:55.540524 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹nilâ€º. 
I, [2020-04-19T15:13:55.540545 #21360]  INFO -- : -------------------------------------------------------------------
D, [2020-04-19T15:13:55.543348 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.544160 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.544691 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.544902 #21360]  INFO -- : --------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.544937 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-04-19T15:13:55.544957 #21360]  INFO -- : --------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.547698 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.548498 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.549001 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.549237 #21360]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.549274 #21360]  INFO -- : EmployeeTest: test_: Given context should shows that over_18? boolean method works. 
I, [2020-04-19T15:13:55.549305 #21360]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.550122 #21360] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.551115 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "172058257"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.552319 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "172058257"], ["date_of_birth", "2001-04-19"], ["phone", "7662801851"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.553388 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.554887 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.555768 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.556008 #21360]  INFO -- : -------------------------------------------------------------------
I, [2020-04-19T15:13:55.556048 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"bad"â€º. 
I, [2020-04-19T15:13:55.556069 #21360]  INFO -- : -------------------------------------------------------------------
D, [2020-04-19T15:13:55.558705 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "bad"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.559557 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.560114 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.560365 #21360]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-19T15:13:55.560402 #21360]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-04-19T15:13:55.560423 #21360]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-19T15:13:55.563068 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.563925 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.564422 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.564658 #21360]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.564702 #21360]  INFO -- : EmployeeTest: test_: Given context should force employees to have unique ssn. 
I, [2020-04-19T15:13:55.564724 #21360]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.565374 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.566333 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "191984171"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.567416 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "191984171"], ["date_of_birth", "2001-04-19"], ["phone", "9984135545"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.568397 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.569561 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.570420 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.570647 #21360]  INFO -- : ----------------------------------------------------------------------------
I, [2020-04-19T15:13:55.570691 #21360]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-04-19T15:13:55.570714 #21360]  INFO -- : ----------------------------------------------------------------------------
D, [2020-04-19T15:13:55.573341 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.574154 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.574698 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.574915 #21360]  INFO -- : --------------------------------------------------------------------
I, [2020-04-19T15:13:55.574948 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"bad"â€º. 
I, [2020-04-19T15:13:55.574968 #21360]  INFO -- : --------------------------------------------------------------------
D, [2020-04-19T15:13:55.577526 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.578314 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.578831 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.579038 #21360]  INFO -- : ------------------------------------------------------------------
I, [2020-04-19T15:13:55.579071 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹nilâ€º. 
I, [2020-04-19T15:13:55.579091 #21360]  INFO -- : ------------------------------------------------------------------
D, [2020-04-19T15:13:55.581915 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.582752 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.583212 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.583447 #21360]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-19T15:13:55.583497 #21360]  INFO -- : EmployeeTest: test_: Given context should shows name as last, first name. 
I, [2020-04-19T15:13:55.583517 #21360]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-19T15:13:55.584196 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.585944 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "090379203"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.587111 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "090379203"], ["date_of_birth", "2001-04-19"], ["phone", "6811950987"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.588713 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.589893 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.590774 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.590987 #21360]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.591021 #21360]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Tue, 19 Apr 2005â€º. 
I, [2020-04-19T15:13:55.591048 #21360]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.593741 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.594569 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.595125 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.595355 #21360]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-19T15:13:55.595389 #21360]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"employee"â€º. 
I, [2020-04-19T15:13:55.595408 #21360]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-19T15:13:55.598005 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.598574 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.599061 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.599282 #21360]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.599327 #21360]  INFO -- : EmployeeTest: test_: Employee should have many pay_grades through assignments. 
I, [2020-04-19T15:13:55.599345 #21360]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.599741 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.600434 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.600671 #21360]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-19T15:13:55.600716 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹nilâ€º. 
I, [2020-04-19T15:13:55.600736 #21360]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-19T15:13:55.603625 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.604425 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.604935 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.605167 #21360]  INFO -- : -----------------------------------------------------------------------
I, [2020-04-19T15:13:55.605221 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"hacker"â€º. 
I, [2020-04-19T15:13:55.605243 #21360]  INFO -- : -----------------------------------------------------------------------
D, [2020-04-19T15:13:55.607921 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.608774 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.609318 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.609539 #21360]  INFO -- : -------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.609573 #21360]  INFO -- : EmployeeTest: test_: Given context should not allow employees who have worked a shift to be destroyed. 
I, [2020-04-19T15:13:55.609593 #21360]  INFO -- : -------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.610231 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.611196 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "367136517"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.612331 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "367136517"], ["date_of_birth", "2001-04-19"], ["phone", "0200206508"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.613370 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.614560 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.615523 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.615752 #21360]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.615788 #21360]  INFO -- : EmployeeTest: test_: Given context should shows proper name as first and last name. 
I, [2020-04-19T15:13:55.615807 #21360]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.616373 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.617314 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "303077215"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.618936 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "303077215"], ["date_of_birth", "2001-04-19"], ["phone", "8348237404"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.619947 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.621362 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.622293 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.622588 #21360]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.622625 #21360]  INFO -- : EmployeeTest: test_: Given context should shows that Cindy's ssn is stripped of non-digits. 
I, [2020-04-19T15:13:55.622645 #21360]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.623224 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.624549 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "145646039"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.625762 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "145646039"], ["date_of_birth", "2001-04-19"], ["phone", "0084771802"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.626856 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.628139 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.629085 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.629331 #21360]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.629375 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-04-19T15:13:55.629397 #21360]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.632465 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.633295 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.633827 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.634079 #21360]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.634113 #21360]  INFO -- : EmployeeTest: test_: Employee should validate that :ssn cannot be empty/falsy. 
I, [2020-04-19T15:13:55.634132 #21360]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.637518 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.638432 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.638994 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.639215 #21360]  INFO -- : --------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.639254 #21360]  INFO -- : EmployeeTest: test_: Given context should allow employees who have yet to work a shift to be destroyed. 
I, [2020-04-19T15:13:55.639273 #21360]  INFO -- : --------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.640000 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.641070 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "334674269"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.642326 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "334674269"], ["date_of_birth", "2001-04-19"], ["phone", "5426349207"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.643408 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.644653 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.645565 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.645836 #21360]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.645871 #21360]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Wed, 19 Apr 2006â€º. 
I, [2020-04-19T15:13:55.645892 #21360]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.648617 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.649909 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.650442 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.650659 #21360]  INFO -- : ------------------------------------------------------------------
I, [2020-04-19T15:13:55.650704 #21360]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"admin"â€º. 
I, [2020-04-19T15:13:55.650725 #21360]  INFO -- : ------------------------------------------------------------------
D, [2020-04-19T15:13:55.653118 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.653664 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.654223 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.654464 #21360]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-19T15:13:55.654509 #21360]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-04-19T15:13:55.654530 #21360]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-19T15:13:55.657149 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.658007 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.658508 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.658759 #21360]  INFO -- : -------------------------------------------------------------
I, [2020-04-19T15:13:55.658794 #21360]  INFO -- : EmployeeTest: test_: Employee should have a secure password. 
I, [2020-04-19T15:13:55.658813 #21360]  INFO -- : -------------------------------------------------------------
D, [2020-04-19T15:13:55.659341 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.660040 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.660260 #21360]  INFO -- : --------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.660297 #21360]  INFO -- : EmployeeTest: test_: Employee should validate that :role cannot be empty/falsy. 
I, [2020-04-19T15:13:55.660318 #21360]  INFO -- : --------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.663732 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:13:55.664626 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.665150 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.665416 #21360]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-19T15:13:55.665452 #21360]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"12345678"â€º. 
I, [2020-04-19T15:13:55.665473 #21360]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-19T15:13:55.668058 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "12345678"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.668976 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.669484 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.669715 #21360]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-04-19T15:13:55.669751 #21360]  INFO -- : EmployeeTest: test_: Given context should show there are two employees under 18. 
I, [2020-04-19T15:13:55.669771 #21360]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-04-19T15:13:55.670382 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.671307 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "346405531"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.672410 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "346405531"], ["date_of_birth", "2001-04-19"], ["phone", "9254619267"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.673507 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.674656 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.675514 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.675752 #21360]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-19T15:13:55.675787 #21360]  INFO -- : EmployeeTest: test_: Employee should have many stores through assignments. 
I, [2020-04-19T15:13:55.675807 #21360]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-19T15:13:55.679788 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.680619 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.680879 #21360]  INFO -- : -----------------------------------------------------------------------
I, [2020-04-19T15:13:55.680917 #21360]  INFO -- : EmployeeTest: test_: Given context should have a make_inactive method. 
I, [2020-04-19T15:13:55.680937 #21360]  INFO -- : -----------------------------------------------------------------------
D, [2020-04-19T15:13:55.681556 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.682694 #21360] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "054203940"], ["LIMIT", 1]]
D, [2020-04-19T15:13:55.683826 #21360] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "054203940"], ["date_of_birth", "2001-04-19"], ["phone", "3601482700"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:13:55.684955 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:13:55.686800 #21360] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:13:55.688107 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:13:55.688349 #21360]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-19T15:13:55.688386 #21360]  INFO -- : EmployeeTest: test_: Employee should have many shifts through assignments. 
I, [2020-04-19T15:13:55.688406 #21360]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-19T15:13:55.688784 #21360] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:09.657518 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-19T15:14:09.843049 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:09.843405 #21398]  INFO -- : ------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:09.843445 #21398]  INFO -- : ShiftTest: test_: Given context should ensure that shift are only given to current assignments. 
I, [2020-04-19T15:14:09.843468 #21398]  INFO -- : ------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:09.856666 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.858699 #21398] DEBUG -- :   [1m[36mStore Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.860064 #21398] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3211593266"], ["active", 1]]
D, [2020-04-19T15:14:09.861178 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.862023 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.862860 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.863932 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:09.864945 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.865701 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.866505 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.867465 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9981996893"], ["active", 0]]
D, [2020-04-19T15:14:09.868495 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.880543 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.882641 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "345745571"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.883840 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "345745571"], ["date_of_birth", "2001-04-19"], ["phone", "3113040185"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:09.884877 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.886369 #21398] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:09.888544 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:09.888872 #21398]  INFO -- : ----------------------------------------------------------------
I, [2020-04-19T15:14:09.888911 #21398]  INFO -- : ShiftTest: test_: Shift should allow :status to be â€¹"pending"â€º. 
I, [2020-04-19T15:14:09.888932 #21398]  INFO -- : ----------------------------------------------------------------
D, [2020-04-19T15:14:09.889767 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:09.891497 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:09.891780 #21398]  INFO -- : ----------------------------------------------------------------------------
I, [2020-04-19T15:14:09.891824 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope to order by store name. 
I, [2020-04-19T15:14:09.891848 #21398]  INFO -- : ----------------------------------------------------------------------------
D, [2020-04-19T15:14:09.892275 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.893313 #21398] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.894452 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2503846643"], ["active", 1]]
D, [2020-04-19T15:14:09.895487 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.896227 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.897065 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.898027 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:09.899037 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.899752 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.900510 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.901484 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0054796714"], ["active", 0]]
D, [2020-04-19T15:14:09.902475 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.903348 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.904391 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "081202240"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.905450 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "081202240"], ["date_of_birth", "2001-04-19"], ["phone", "3489199375"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:09.906482 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.907742 #21398] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:09.909759 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:09.910044 #21398]  INFO -- : -------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:09.910094 #21398]  INFO -- : ShiftTest: test_: Given context should not allow shifts that have started or finished to be destroyed. 
I, [2020-04-19T15:14:09.910134 #21398]  INFO -- : -------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:09.910545 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.911490 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.912572 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1473725255"], ["active", 1]]
D, [2020-04-19T15:14:09.913654 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.914399 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.915213 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.916133 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:09.917198 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.917931 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.918758 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.919711 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9208231266"], ["active", 0]]
D, [2020-04-19T15:14:09.920717 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.921637 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.922662 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "232488054"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.923710 #21398] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "232488054"], ["date_of_birth", "2001-04-19"], ["phone", "8901200254"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:09.924731 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.926037 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:09.928021 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:09.928254 #21398]  INFO -- : -----------------------------------------------------------------------------
I, [2020-04-19T15:14:09.928289 #21398]  INFO -- : ShiftTest: test_: Given context should only accept time data for start time. 
I, [2020-04-19T15:14:09.928310 #21398]  INFO -- : -----------------------------------------------------------------------------
D, [2020-04-19T15:14:09.928810 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.929753 #21398] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.930870 #21398] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3934470340"], ["active", 1]]
D, [2020-04-19T15:14:09.931871 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.932537 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.933401 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.934357 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:09.935341 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.936106 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.936841 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.937854 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2367262834"], ["active", 0]]
D, [2020-04-19T15:14:09.938860 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.939725 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.940798 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "174032670"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.941893 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "174032670"], ["date_of_birth", "2001-04-19"], ["phone", "9411345261"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:09.942984 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.944257 #21398] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:09.946257 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:09.946510 #21398]  INFO -- : -------------------------------------------------------------
I, [2020-04-19T15:14:09.946547 #21398]  INFO -- : ShiftTest: test_: Shift should not allow :status to be â€¹10â€º. 
I, [2020-04-19T15:14:09.946567 #21398]  INFO -- : -------------------------------------------------------------
D, [2020-04-19T15:14:09.947434 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:09.949035 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:09.949335 #21398]  INFO -- : ----------------------------------------------------------------------
I, [2020-04-19T15:14:09.949394 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope called for_dates. 
I, [2020-04-19T15:14:09.949430 #21398]  INFO -- : ----------------------------------------------------------------------
D, [2020-04-19T15:14:09.949855 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.950795 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.951896 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4580730125"], ["active", 1]]
D, [2020-04-19T15:14:09.952945 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.953705 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.954484 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.955414 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:09.956431 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.957218 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.958073 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.959038 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6656352776"], ["active", 0]]
D, [2020-04-19T15:14:09.960065 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.960921 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.962044 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "338787747"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.963118 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "338787747"], ["date_of_birth", "2001-04-19"], ["phone", "0194044795"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:09.964172 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.965461 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:09.967404 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:09.967633 #21398]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-19T15:14:09.967702 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope to order by employee name. 
I, [2020-04-19T15:14:09.967734 #21398]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-19T15:14:09.968178 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.969069 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.970199 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4552952838"], ["active", 1]]
D, [2020-04-19T15:14:09.971224 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.971907 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.972724 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.973700 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:09.974701 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.975420 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.976240 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.977176 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7173965140"], ["active", 0]]
D, [2020-04-19T15:14:09.978200 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.979058 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.980072 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "136742609"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.981109 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "136742609"], ["date_of_birth", "2001-04-19"], ["phone", "3789481298"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:09.982167 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.983420 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:09.985397 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:09.985716 #21398]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-19T15:14:09.985755 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope for past shifts. 
I, [2020-04-19T15:14:09.985777 #21398]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-19T15:14:09.986177 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.987107 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.988221 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6793531779"], ["active", 1]]
D, [2020-04-19T15:14:09.989296 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.990113 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.990935 #21398] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.991849 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:09.992861 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.993570 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.994373 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.995356 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4769549323"], ["active", 0]]
D, [2020-04-19T15:14:09.996389 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.997253 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:09.998305 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "359529074"], ["LIMIT", 1]]
D, [2020-04-19T15:14:09.999378 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "359529074"], ["date_of_birth", "2001-04-19"], ["phone", "0367966789"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.000421 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.001711 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.003760 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.004024 #21398]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-19T15:14:10.004061 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope for upcoming shifts. 
I, [2020-04-19T15:14:10.004082 #21398]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-19T15:14:10.004525 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.005501 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.006619 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7453877076"], ["active", 1]]
D, [2020-04-19T15:14:10.007664 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.008387 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.009235 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.010201 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.011226 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.011999 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.012857 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.013882 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6767848524"], ["active", 0]]
D, [2020-04-19T15:14:10.015025 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.015924 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.017040 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "341825797"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.018180 #21398] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "341825797"], ["date_of_birth", "2001-04-19"], ["phone", "9368595485"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.019310 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.020827 #21398] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.022994 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.023248 #21398]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-19T15:14:10.023292 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope to order chronologically. 
I, [2020-04-19T15:14:10.023317 #21398]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-19T15:14:10.023820 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.024794 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.036911 #21398] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9947400061"], ["active", 1]]
D, [2020-04-19T15:14:10.038034 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.038879 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.039782 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.040718 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.041787 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.042525 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.043301 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.044211 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2397877263"], ["active", 0]]
D, [2020-04-19T15:14:10.045267 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.046182 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.047183 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "116160859"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.048237 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "116160859"], ["date_of_birth", "2001-04-19"], ["phone", "6682586176"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.049341 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.050580 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.052591 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.052878 #21398]  INFO -- : ---------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:10.052916 #21398]  INFO -- : ShiftTest: test_: Given context should ensure that shift dates do not precede the assignment start date. 
I, [2020-04-19T15:14:10.052938 #21398]  INFO -- : ---------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:10.053383 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.054267 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.055345 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8906719527"], ["active", 1]]
D, [2020-04-19T15:14:10.056427 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.057152 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.057962 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.058854 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.059880 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.060583 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.061429 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.062363 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9276003223"], ["active", 0]]
D, [2020-04-19T15:14:10.063351 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.064123 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.065149 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "357181801"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.066255 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "357181801"], ["date_of_birth", "2001-04-19"], ["phone", "0589167723"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.067289 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.068543 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.070509 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.070743 #21398]  INFO -- : ------------------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:10.070790 #21398]  INFO -- : ShiftTest: test_: Given context should have a callback which sets end time to three hours on create, but not on update. 
I, [2020-04-19T15:14:10.070810 #21398]  INFO -- : ------------------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:10.071257 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.072156 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.073261 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1017091009"], ["active", 1]]
D, [2020-04-19T15:14:10.074336 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.075036 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.075862 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.076822 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.077862 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.078543 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.079338 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.080308 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6404080519"], ["active", 0]]
D, [2020-04-19T15:14:10.081420 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.082266 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.083304 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "294746843"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.084343 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "294746843"], ["date_of_birth", "2001-04-19"], ["phone", "9572847200"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.085443 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.086631 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.088607 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.088844 #21398]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-19T15:14:10.088881 #21398]  INFO -- : ShiftTest: test_: Shift should have one employee through assignment. 
I, [2020-04-19T15:14:10.088905 #21398]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-19T15:14:10.089794 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.091488 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.091717 #21398]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-19T15:14:10.091762 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope for finished shifts. 
I, [2020-04-19T15:14:10.091789 #21398]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-19T15:14:10.092283 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.093252 #21398] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.094331 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9192339572"], ["active", 1]]
D, [2020-04-19T15:14:10.095356 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.096033 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.096830 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.097807 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.098835 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.099581 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.100383 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.101318 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4714274787"], ["active", 0]]
D, [2020-04-19T15:14:10.102331 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.103154 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.104199 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "191308976"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.105267 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "191308976"], ["date_of_birth", "2001-04-19"], ["phone", "5167249544"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.106318 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.107567 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.109504 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.109789 #21398]  INFO -- : ------------------------------------------------------------------
I, [2020-04-19T15:14:10.109831 #21398]  INFO -- : ShiftTest: test_: Given context should allow end time can be nil. 
I, [2020-04-19T15:14:10.109852 #21398]  INFO -- : ------------------------------------------------------------------
D, [2020-04-19T15:14:10.110274 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.111187 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.112269 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9850624379"], ["active", 1]]
D, [2020-04-19T15:14:10.113339 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.114105 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.114920 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.115890 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.116862 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.117604 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.118437 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.119410 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5986488284"], ["active", 0]]
D, [2020-04-19T15:14:10.120516 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.121428 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.122449 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "303785504"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.123496 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "303785504"], ["date_of_birth", "2001-04-19"], ["phone", "6611888996"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.124555 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.125783 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.127753 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.128000 #21398]  INFO -- : -----------------------------------------------------------------
I, [2020-04-19T15:14:10.128035 #21398]  INFO -- : ShiftTest: test_: Given context should not allow date to be nil. 
I, [2020-04-19T15:14:10.128056 #21398]  INFO -- : -----------------------------------------------------------------
D, [2020-04-19T15:14:10.128509 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.129478 #21398] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.130542 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0709663922"], ["active", 1]]
D, [2020-04-19T15:14:10.131657 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.132383 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.133239 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.134193 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.135268 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.136013 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.136864 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.137876 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1464817599"], ["active", 0]]
D, [2020-04-19T15:14:10.138917 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.139716 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.140712 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "300370853"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.141762 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "300370853"], ["date_of_birth", "2001-04-19"], ["phone", "3076821140"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.142897 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.144216 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.146289 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.146552 #21398]  INFO -- : -----------------------------------------------------------------------------
I, [2020-04-19T15:14:10.146589 #21398]  INFO -- : ShiftTest: test_: Given context should only accept date data for date field. 
I, [2020-04-19T15:14:10.146615 #21398]  INFO -- : -----------------------------------------------------------------------------
D, [2020-04-19T15:14:10.147088 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.147970 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.149030 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4103363970"], ["active", 1]]
D, [2020-04-19T15:14:10.150154 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.150869 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.151739 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.152703 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.153860 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.154626 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.155481 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.156456 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1930735975"], ["active", 0]]
D, [2020-04-19T15:14:10.157504 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.158354 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.159365 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "380497450"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.160438 #21398] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "380497450"], ["date_of_birth", "2001-04-19"], ["phone", "2452208653"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.161505 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.162781 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.164779 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.165047 #21398]  INFO -- : ----------------------------------------------------------------
I, [2020-04-19T15:14:10.165082 #21398]  INFO -- : ShiftTest: test_: Shift should not allow :status to be â€¹"bad"â€º. 
I, [2020-04-19T15:14:10.165103 #21398]  INFO -- : ----------------------------------------------------------------
D, [2020-04-19T15:14:10.165990 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.167719 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.167942 #21398]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-19T15:14:10.167977 #21398]  INFO -- : ShiftTest: test_: Given context should only accept time data for end time. 
I, [2020-04-19T15:14:10.167998 #21398]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-19T15:14:10.168454 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.169463 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.170624 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0549305516"], ["active", 1]]
D, [2020-04-19T15:14:10.171712 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.172398 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.173242 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.174193 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.175249 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.175975 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.176732 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.177676 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3116015054"], ["active", 0]]
D, [2020-04-19T15:14:10.178734 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.179579 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.180635 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "222922178"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.181814 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "222922178"], ["date_of_birth", "2001-04-19"], ["phone", "4031281754"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.182943 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.184230 #21398] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.186239 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.186501 #21398]  INFO -- : -------------------------------------------------------------
I, [2020-04-19T15:14:10.186537 #21398]  INFO -- : ShiftTest: test_: Shift should not allow :status to be â€¹""â€º. 
I, [2020-04-19T15:14:10.186557 #21398]  INFO -- : -------------------------------------------------------------
D, [2020-04-19T15:14:10.187418 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.189060 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.189351 #21398]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-19T15:14:10.189392 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope called for_next_days. 
I, [2020-04-19T15:14:10.189413 #21398]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-19T15:14:10.189844 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.190812 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.191908 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2754460820"], ["active", 1]]
D, [2020-04-19T15:14:10.193016 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.193859 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.194718 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.195711 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.196786 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.197518 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.198348 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.199319 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6080989373"], ["active", 0]]
D, [2020-04-19T15:14:10.200440 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.201358 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.202395 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "350998626"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.203473 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "350998626"], ["date_of_birth", "2001-04-19"], ["phone", "8518773438"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.204625 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.205983 #21398] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.207952 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.208232 #21398]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-19T15:14:10.208268 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope for pending shifts. 
I, [2020-04-19T15:14:10.208289 #21398]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-19T15:14:10.208696 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.209661 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.210821 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6030709055"], ["active", 1]]
D, [2020-04-19T15:14:10.211929 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.212649 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.213508 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.214533 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.215648 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.216371 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.217231 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.218260 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9754148467"], ["active", 0]]
D, [2020-04-19T15:14:10.219530 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.224232 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.225355 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "334784812"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.226397 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "334784812"], ["date_of_birth", "2001-04-19"], ["phone", "8916655583"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.227573 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.228968 #21398] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.230992 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.231253 #21398]  INFO -- : -----------------------------------------------------------------------
I, [2020-04-19T15:14:10.231289 #21398]  INFO -- : ShiftTest: test_: Given context should not allow start time to be nil. 
I, [2020-04-19T15:14:10.231310 #21398]  INFO -- : -----------------------------------------------------------------------
D, [2020-04-19T15:14:10.231790 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.232697 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.233881 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2078652722"], ["active", 1]]
D, [2020-04-19T15:14:10.234927 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.235623 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.236453 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.237449 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.238459 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.239212 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.240035 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.240961 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3659660033"], ["active", 0]]
D, [2020-04-19T15:14:10.242070 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.242849 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.243856 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "372301607"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.244918 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "372301607"], ["date_of_birth", "2001-04-19"], ["phone", "0685444077"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.246010 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.247269 #21398] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.249257 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.249511 #21398]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-19T15:14:10.249548 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope called for_past_days. 
I, [2020-04-19T15:14:10.249569 #21398]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-19T15:14:10.250018 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.250957 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.252040 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6030177801"], ["active", 1]]
D, [2020-04-19T15:14:10.253057 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.253827 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.254625 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.255562 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.256558 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.257260 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.258109 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.259100 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9245455013"], ["active", 0]]
D, [2020-04-19T15:14:10.260151 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.260968 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.262012 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "089920680"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.263062 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "089920680"], ["date_of_birth", "2001-04-19"], ["phone", "2745622266"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.264153 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.265397 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.267376 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.267607 #21398]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-19T15:14:10.267643 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope for completed shifts. 
I, [2020-04-19T15:14:10.267664 #21398]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-19T15:14:10.268141 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.269060 #21398] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.270142 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4101583841"], ["active", 1]]
D, [2020-04-19T15:14:10.271179 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.271861 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.272696 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.273707 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.274771 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.275523 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.276362 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.277353 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3504014951"], ["active", 0]]
D, [2020-04-19T15:14:10.278426 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.279266 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.280254 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "071834231"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.281294 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "071834231"], ["date_of_birth", "2001-04-19"], ["phone", "4695438223"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.282404 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.283649 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.285655 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.285938 #21398]  INFO -- : --------------------------------------------------------------
I, [2020-04-19T15:14:10.285974 #21398]  INFO -- : ShiftTest: test_: Shift should not allow :status to be â€¹nilâ€º. 
I, [2020-04-19T15:14:10.285994 #21398]  INFO -- : --------------------------------------------------------------
D, [2020-04-19T15:14:10.286907 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.288533 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.288817 #21398]  INFO -- : --------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:10.288854 #21398]  INFO -- : ShiftTest: test_: Given context should ensure that shift end times do not precede the shift start time. 
I, [2020-04-19T15:14:10.288874 #21398]  INFO -- : --------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:10.289332 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.290257 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.291329 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7953890190"], ["active", 1]]
D, [2020-04-19T15:14:10.292411 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.293204 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.293995 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.294923 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.296027 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.296774 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.297585 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.298533 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1013734929"], ["active", 0]]
D, [2020-04-19T15:14:10.299587 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.300418 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.301499 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "372197871"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.302552 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "372197871"], ["date_of_birth", "2001-04-19"], ["phone", "9551609240"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.303588 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.304867 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.306855 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.307115 #21398]  INFO -- : ---------------------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:10.307166 #21398]  INFO -- : ShiftTest: test_: Given context should have a method which calculates the duration of the shift, rounded to quarter-hours. 
I, [2020-04-19T15:14:10.307201 #21398]  INFO -- : ---------------------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:10.307658 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.308551 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.309734 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9799418102"], ["active", 1]]
D, [2020-04-19T15:14:10.310837 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.311545 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.312288 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.313270 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.314393 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.315142 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.315991 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.316928 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4822230112"], ["active", 0]]
D, [2020-04-19T15:14:10.318071 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.318912 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.319969 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "199547102"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.321061 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "199547102"], ["date_of_birth", "2001-04-19"], ["phone", "7893172069"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.322186 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.323502 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.325500 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.325762 #21398]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:10.325813 #21398]  INFO -- : ShiftTest: test_: Given context should have a report_completed? method that works properly. 
I, [2020-04-19T15:14:10.325848 #21398]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:10.326248 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.327203 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.328307 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4066687324"], ["active", 1]]
D, [2020-04-19T15:14:10.329444 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.330192 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.331045 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.332081 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.333355 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.334075 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.334864 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.335794 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1187024842"], ["active", 0]]
D, [2020-04-19T15:14:10.336910 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.337809 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.338865 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "031833152"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.339893 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "031833152"], ["date_of_birth", "2001-04-19"], ["phone", "0234547748"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.341076 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.342570 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.344473 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.344712 #21398]  INFO -- : ----------------------------------------------------------------
I, [2020-04-19T15:14:10.344749 #21398]  INFO -- : ShiftTest: test_: Shift should allow :status to be â€¹"started"â€º. 
I, [2020-04-19T15:14:10.344771 #21398]  INFO -- : ----------------------------------------------------------------
D, [2020-04-19T15:14:10.345706 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.347363 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.347661 #21398]  INFO -- : -----------------------------------------------------
I, [2020-04-19T15:14:10.347708 #21398]  INFO -- : ShiftTest: test_: Shift should belong to assignment. 
I, [2020-04-19T15:14:10.347731 #21398]  INFO -- : -----------------------------------------------------
D, [2020-04-19T15:14:10.348456 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.350111 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.350342 #21398]  INFO -- : ----------------------------------------------------------------------
I, [2020-04-19T15:14:10.350377 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope called for_store. 
I, [2020-04-19T15:14:10.350405 #21398]  INFO -- : ----------------------------------------------------------------------
D, [2020-04-19T15:14:10.350883 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.351874 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.353047 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5735477030"], ["active", 1]]
D, [2020-04-19T15:14:10.354252 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.355038 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.355910 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.356925 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.358039 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.358744 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.359588 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.360556 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9520012896"], ["active", 0]]
D, [2020-04-19T15:14:10.361648 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.362474 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.363537 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "182818630"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.364648 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "182818630"], ["date_of_birth", "2001-04-19"], ["phone", "6768634628"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.365741 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.367057 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.369009 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.369321 #21398]  INFO -- : -----------------------------------------------------------------
I, [2020-04-19T15:14:10.369361 #21398]  INFO -- : ShiftTest: test_: Shift should allow :status to be â€¹"finished"â€º. 
I, [2020-04-19T15:14:10.369383 #21398]  INFO -- : -----------------------------------------------------------------
D, [2020-04-19T15:14:10.370142 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.371834 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.372100 #21398]  INFO -- : ------------------------------------------------------------------
I, [2020-04-19T15:14:10.372136 #21398]  INFO -- : ShiftTest: test_: Shift should not allow :status to be â€¹"start"â€º. 
I, [2020-04-19T15:14:10.372158 #21398]  INFO -- : ------------------------------------------------------------------
D, [2020-04-19T15:14:10.372939 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.374642 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.374876 #21398]  INFO -- : -----------------------------------------------------------------------------------
I, [2020-04-19T15:14:10.374912 #21398]  INFO -- : ShiftTest: test_: Shift should validate that :assignment_id cannot be empty/falsy. 
I, [2020-04-19T15:14:10.374933 #21398]  INFO -- : -----------------------------------------------------------------------------------
D, [2020-04-19T15:14:10.375743 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.377465 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.377730 #21398]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-19T15:14:10.377767 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope called for_employee. 
I, [2020-04-19T15:14:10.377788 #21398]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-19T15:14:10.378269 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.379321 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.380475 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7624185289"], ["active", 1]]
D, [2020-04-19T15:14:10.381631 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.382382 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.383260 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.384302 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.385403 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.386187 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.387032 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.388044 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6696134103"], ["active", 0]]
D, [2020-04-19T15:14:10.389115 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.390073 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.391159 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "140254903"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.392282 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "140254903"], ["date_of_birth", "2001-04-19"], ["phone", "2072554165"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.393449 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.394818 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.396814 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.397070 #21398]  INFO -- : --------------------------------------------------------------------------------------
I, [2020-04-19T15:14:10.397121 #21398]  INFO -- : ShiftTest: test_: Given context should allow shifts that are pending to be destroyed. 
I, [2020-04-19T15:14:10.397158 #21398]  INFO -- : --------------------------------------------------------------------------------------
D, [2020-04-19T15:14:10.397634 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.398570 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.399673 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0903659521"], ["active", 1]]
D, [2020-04-19T15:14:10.400789 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.401592 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.402439 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.403422 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.404534 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.405305 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.406181 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.407207 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5302625267"], ["active", 0]]
D, [2020-04-19T15:14:10.411867 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.412760 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.413799 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "315141045"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.414849 #21398] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "315141045"], ["date_of_birth", "2001-04-19"], ["phone", "1018059586"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.415924 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.417236 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.419203 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.419461 #21398]  INFO -- : -----------------------------------------------------
I, [2020-04-19T15:14:10.419501 #21398]  INFO -- : ShiftTest: test_: Shift should have many shift_jobs. 
I, [2020-04-19T15:14:10.419521 #21398]  INFO -- : -----------------------------------------------------
D, [2020-04-19T15:14:10.420375 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.422016 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.422240 #21398]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-19T15:14:10.422276 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope for started shifts. 
I, [2020-04-19T15:14:10.422297 #21398]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-19T15:14:10.422709 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.423615 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.424774 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3548501462"], ["active", 1]]
D, [2020-04-19T15:14:10.425834 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.426570 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.427389 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.428350 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.429412 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.430081 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.430892 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.431874 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2723129746"], ["active", 0]]
D, [2020-04-19T15:14:10.432919 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.433765 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.434810 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "304055691"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.435857 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "304055691"], ["date_of_birth", "2001-04-19"], ["phone", "3737403549"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.436991 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.438232 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.440118 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.440390 #21398]  INFO -- : ------------------------------------------------------------------
I, [2020-04-19T15:14:10.440426 #21398]  INFO -- : ShiftTest: test_: Shift should have one store through assignment. 
I, [2020-04-19T15:14:10.440447 #21398]  INFO -- : ------------------------------------------------------------------
D, [2020-04-19T15:14:10.441394 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.443018 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.443263 #21398]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-19T15:14:10.443298 #21398]  INFO -- : ShiftTest: test_: Given context should have a scope for incomplete shifts. 
I, [2020-04-19T15:14:10.443324 #21398]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-19T15:14:10.443805 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.444680 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.445795 #21398] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5058972220"], ["active", 1]]
D, [2020-04-19T15:14:10.446888 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.447596 #21398] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.448403 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.449333 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:14:10.450449 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.451212 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.452053 #21398] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.452972 #21398] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9515054045"], ["active", 0]]
D, [2020-04-19T15:14:10.454068 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.454851 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.455903 #21398] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "124931552"], ["LIMIT", 1]]
D, [2020-04-19T15:14:10.456957 #21398] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "124931552"], ["date_of_birth", "2001-04-19"], ["phone", "9138838138"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:10.458017 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:10.459345 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:10.461302 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:10.461529 #21398]  INFO -- : ------------------------------------------------------------------
I, [2020-04-19T15:14:10.461565 #21398]  INFO -- : ShiftTest: test_: Shift should have many jobs through shift_jobs. 
I, [2020-04-19T15:14:10.461586 #21398]  INFO -- : ------------------------------------------------------------------
D, [2020-04-19T15:14:10.462361 #21398] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.086535 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-19T15:14:18.257320 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.257706 #21419]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-19T15:14:18.257756 #21419]  INFO -- : EmployeeTest: test_: Given context should list employees alphabetically. 
I, [2020-04-19T15:14:18.257823 #21419]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-19T15:14:18.271699 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.274039 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238687127"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.275362 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "238687127"], ["date_of_birth", "2001-04-19"], ["phone", "4468351984"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.276363 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.277751 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.278793 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.279030 #21419]  INFO -- : -----------------------------------------------------------------------
I, [2020-04-19T15:14:18.279087 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"hacker"â€º. 
I, [2020-04-19T15:14:18.279118 #21419]  INFO -- : -----------------------------------------------------------------------
D, [2020-04-19T15:14:18.282263 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.283134 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.283701 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.283921 #21419]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.283956 #21419]  INFO -- : EmployeeTest: test_: Given context should shows that age method returns the correct value. 
I, [2020-04-19T15:14:18.283982 #21419]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.284515 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.285484 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "160179067"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.286602 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "160179067"], ["date_of_birth", "2001-04-19"], ["phone", "3624412090"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.287589 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.288767 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.289615 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.289870 #21419]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.289908 #21419]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Tue, 19 Apr 2005â€º. 
I, [2020-04-19T15:14:18.289930 #21419]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.292622 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.293479 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.293977 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.294199 #21419]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-19T15:14:18.294234 #21419]  INFO -- : EmployeeTest: test_: Employee should have many shifts through assignments. 
I, [2020-04-19T15:14:18.294276 #21419]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-19T15:14:18.294618 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.295318 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.295543 #21419]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.295578 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-04-19T15:14:18.295598 #21419]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.298341 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.299164 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.299666 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.299906 #21419]  INFO -- : ---------------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.299968 #21419]  INFO -- : EmployeeTest: test_: Given context should shows return employee's pay rate on a given date as a float, if it exists. 
I, [2020-04-19T15:14:18.299994 #21419]  INFO -- : ---------------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.300493 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.301525 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "168865683"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.302540 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "168865683"], ["date_of_birth", "2001-04-19"], ["phone", "7702857270"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.303482 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.304607 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.305495 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.305725 #21419]  INFO -- : -----------------------------------------------------------------
I, [2020-04-19T15:14:18.305764 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹nilâ€º. 
I, [2020-04-19T15:14:18.305784 #21419]  INFO -- : -----------------------------------------------------------------
D, [2020-04-19T15:14:18.308523 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.309370 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.309872 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.310091 #21419]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.310126 #21419]  INFO -- : EmployeeTest: test_: Given context should have all inactive employees accounted for. 
I, [2020-04-19T15:14:18.310150 #21419]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.310755 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.311710 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "185733924"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.312766 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "185733924"], ["date_of_birth", "2001-04-19"], ["phone", "7524080929"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.313789 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.314939 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.315797 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.316024 #21419]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.316067 #21419]  INFO -- : EmployeeTest: test_: Given context should shows that Cindy's ssn is stripped of non-digits. 
I, [2020-04-19T15:14:18.316090 #21419]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.316632 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.317581 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "015051965"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.318676 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "015051965"], ["date_of_birth", "2001-04-19"], ["phone", "6359538152"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.319651 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.320815 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.321652 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.321919 #21419]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-19T15:14:18.321954 #21419]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-04-19T15:14:18.321980 #21419]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-19T15:14:18.324554 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.325344 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.325869 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.326087 #21419]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.326122 #21419]  INFO -- : EmployeeTest: test_: Employee should validate that :ssn cannot be empty/falsy. 
I, [2020-04-19T15:14:18.326143 #21419]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.329450 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.330275 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.330810 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.331082 #21419]  INFO -- : -----------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.331119 #21419]  INFO -- : EmployeeTest: test_: Given context should have all active employees accounted for. 
I, [2020-04-19T15:14:18.331140 #21419]  INFO -- : -----------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.331636 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.332596 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "194600893"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.333646 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "194600893"], ["date_of_birth", "2001-04-19"], ["phone", "0161259359"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.334651 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.335800 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.336667 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.336904 #21419]  INFO -- : -----------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.336940 #21419]  INFO -- : EmployeeTest: test_: Employee should have many pay_grade_rates through pay_grades. 
I, [2020-04-19T15:14:18.336961 #21419]  INFO -- : -----------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.337350 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.338063 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.338279 #21419]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.338314 #21419]  INFO -- : EmployeeTest: test_: Given context should shows that there is one admin: Alex. 
I, [2020-04-19T15:14:18.338340 #21419]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.338844 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.339809 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "060683590"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.340845 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "060683590"], ["date_of_birth", "2001-04-19"], ["phone", "2608182547"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.341877 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.343041 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.343900 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.344119 #21419]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.344155 #21419]  INFO -- : EmployeeTest: test_: Given context should shows return employee's current pay rate as a float, if it exists. 
I, [2020-04-19T15:14:18.344179 #21419]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.344674 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.345645 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "362137570"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.346681 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "362137570"], ["date_of_birth", "2001-04-19"], ["phone", "0133918412"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.347649 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.348806 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.349698 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.349923 #21419]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.349965 #21419]  INFO -- : EmployeeTest: test_: Given context should shows that Ben's phone is stripped of non-digits. 
I, [2020-04-19T15:14:18.349988 #21419]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.350519 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.351497 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "289044769"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.352553 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "289044769"], ["date_of_birth", "2001-04-19"], ["phone", "0262924932"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.353574 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.354738 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.355592 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.355819 #21419]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-19T15:14:18.355856 #21419]  INFO -- : EmployeeTest: test_: Given context should have a make_active method. 
I, [2020-04-19T15:14:18.355881 #21419]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-19T15:14:18.356421 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.357336 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "056215305"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.358389 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "056215305"], ["date_of_birth", "2001-04-19"], ["phone", "6413086878"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.359359 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.360509 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.361394 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.361618 #21419]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.361654 #21419]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Sat, 19 Apr 2003â€º. 
I, [2020-04-19T15:14:18.361675 #21419]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.364378 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.365216 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.365722 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.365948 #21419]  INFO -- : ----------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.366031 #21419]  INFO -- : EmployeeTest: test_: Given context should shows that there are 4 regular employees: Ed, Cindy, Chuck and Ralph. 
I, [2020-04-19T15:14:18.366053 #21419]  INFO -- : ----------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.366566 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.367496 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "048511721"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.368543 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "048511721"], ["date_of_birth", "2001-04-19"], ["phone", "2504210723"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.369573 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.370685 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.371587 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.371818 #21419]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-19T15:14:18.371854 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"12345678"â€º. 
I, [2020-04-19T15:14:18.371875 #21419]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-19T15:14:18.374428 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "12345678"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.375305 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.375881 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.376098 #21419]  INFO -- : ----------------------------------------------------------------------------
I, [2020-04-19T15:14:18.376136 #21419]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-04-19T15:14:18.376157 #21419]  INFO -- : ----------------------------------------------------------------------------
D, [2020-04-19T15:14:18.378851 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.379651 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.380184 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.380441 #21419]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.380476 #21419]  INFO -- : EmployeeTest: test_: Employee should validate that :last_name cannot be empty/falsy. 
I, [2020-04-19T15:14:18.380497 #21419]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.383737 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.384567 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.385127 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.385365 #21419]  INFO -- : ----------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.385405 #21419]  INFO -- : EmployeeTest: test_: Given context should shows return employee's current assignment, if it exists. 
I, [2020-04-19T15:14:18.385425 #21419]  INFO -- : ----------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.386013 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.386955 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "250787156"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.388040 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "250787156"], ["date_of_birth", "2001-04-19"], ["phone", "4109255696"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.389063 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.390232 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.391134 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.391356 #21419]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.391391 #21419]  INFO -- : EmployeeTest: test_: Given context should shows that there are 2 managers: Ben and Kathryn. 
I, [2020-04-19T15:14:18.391412 #21419]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.391936 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.392872 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "188068979"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.393984 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "188068979"], ["date_of_birth", "2001-04-19"], ["phone", "2668888483"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.395000 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.396160 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.397027 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.397346 #21419]  INFO -- : ------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.397386 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹Thu, 19 Apr 2007 11:14:18 EDT -04:00â€º. 
I, [2020-04-19T15:14:18.397408 #21419]  INFO -- : ------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.400397 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.401234 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.401778 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.401995 #21419]  INFO -- : -------------------------------------------------------------------
I, [2020-04-19T15:14:18.402030 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹nilâ€º. 
I, [2020-04-19T15:14:18.402051 #21419]  INFO -- : -------------------------------------------------------------------
D, [2020-04-19T15:14:18.404868 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.405703 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.406215 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.406432 #21419]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-19T15:14:18.406474 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-04-19T15:14:18.406499 #21419]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-19T15:14:18.409371 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.410163 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.410668 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.410903 #21419]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-19T15:14:18.410938 #21419]  INFO -- : EmployeeTest: test_: Employee should have many stores through assignments. 
I, [2020-04-19T15:14:18.410959 #21419]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-19T15:14:18.418135 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.418681 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.418939 #21419]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-19T15:14:18.418975 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"1234567890"â€º. 
I, [2020-04-19T15:14:18.418996 #21419]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-19T15:14:18.421545 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "1234567890"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.422423 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.422989 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.423204 #21419]  INFO -- : -------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.423240 #21419]  INFO -- : EmployeeTest: test_: Given context should not allow employees who have worked a shift to be destroyed. 
I, [2020-04-19T15:14:18.423259 #21419]  INFO -- : -------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.423881 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.424844 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "151084306"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.425974 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "151084306"], ["date_of_birth", "2001-04-19"], ["phone", "6676610188"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.426977 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.428118 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.429040 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.429282 #21419]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.429319 #21419]  INFO -- : EmployeeTest: test_: Given context should show there are two employees under 18. 
I, [2020-04-19T15:14:18.429340 #21419]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.429867 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.430853 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "296571646"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.431896 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "296571646"], ["date_of_birth", "2001-04-19"], ["phone", "0894001470"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.432877 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.434057 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.434901 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.435134 #21419]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-19T15:14:18.435173 #21419]  INFO -- : EmployeeTest: test_: Employee should allow :ssn to be â€¹"123456789"â€º. 
I, [2020-04-19T15:14:18.435194 #21419]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-19T15:14:18.437498 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "123456789"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.438427 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.438971 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.439227 #21419]  INFO -- : ----------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.439262 #21419]  INFO -- : EmployeeTest: test_: Given context should not allow an improper edit of employee to kick in deletion protocols. 
I, [2020-04-19T15:14:18.439283 #21419]  INFO -- : ----------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.439817 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.440730 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "140180854"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.441823 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "140180854"], ["date_of_birth", "2001-04-19"], ["phone", "7914011213"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.442816 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.443954 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.444829 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.445048 #21419]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.445095 #21419]  INFO -- : EmployeeTest: test_: Given context should shows proper name as first and last name. 
I, [2020-04-19T15:14:18.445114 #21419]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.445654 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.446600 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037642813"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.447606 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "037642813"], ["date_of_birth", "2001-04-19"], ["phone", "6452211093"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.448576 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.449720 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.450579 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.450808 #21419]  INFO -- : ---------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.450845 #21419]  INFO -- : EmployeeTest: test_: Given context should shows return employee's current pay grade as a string, if it exists. 
I, [2020-04-19T15:14:18.450866 #21419]  INFO -- : ---------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.451368 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.452309 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "007103840"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.453335 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "007103840"], ["date_of_birth", "2001-04-19"], ["phone", "2205454540"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.454321 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.455475 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.456311 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.456548 #21419]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-19T15:14:18.456583 #21419]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-04-19T15:14:18.456603 #21419]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-19T15:14:18.459199 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.460020 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.460550 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.460800 #21419]  INFO -- : -----------------------------------------------------------------------------
I, [2020-04-19T15:14:18.460836 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹"bad"â€º. 
I, [2020-04-19T15:14:18.460858 #21419]  INFO -- : -----------------------------------------------------------------------------
D, [2020-04-19T15:14:18.463670 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.464516 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.465037 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.465293 #21419]  INFO -- : -----------------------------------------------------------------------
I, [2020-04-19T15:14:18.465331 #21419]  INFO -- : EmployeeTest: test_: Given context should have a make_inactive method. 
I, [2020-04-19T15:14:18.465360 #21419]  INFO -- : -----------------------------------------------------------------------
D, [2020-04-19T15:14:18.465907 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.466857 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "069704252"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.467918 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "069704252"], ["date_of_birth", "2001-04-19"], ["phone", "8727317781"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.468907 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.470127 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.470987 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.471207 #21419]  INFO -- : -------------------------------------------------------------
I, [2020-04-19T15:14:18.471246 #21419]  INFO -- : EmployeeTest: test_: Employee should have a secure password. 
I, [2020-04-19T15:14:18.471270 #21419]  INFO -- : -------------------------------------------------------------
D, [2020-04-19T15:14:18.471821 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.472498 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.472724 #21419]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-19T15:14:18.472760 #21419]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-04-19T15:14:18.472789 #21419]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-19T15:14:18.475452 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.476272 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.476793 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.477007 #21419]  INFO -- : --------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.477043 #21419]  INFO -- : EmployeeTest: test_: Employee should validate that :role cannot be empty/falsy. 
I, [2020-04-19T15:14:18.477064 #21419]  INFO -- : --------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.480325 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.481156 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.481685 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.481928 #21419]  INFO -- : --------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.481965 #21419]  INFO -- : EmployeeTest: test_: Employee should validate that :first_name cannot be empty/falsy. 
I, [2020-04-19T15:14:18.481985 #21419]  INFO -- : --------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.485080 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.485962 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.486463 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.486697 #21419]  INFO -- : --------------------------------------------------------------------
I, [2020-04-19T15:14:18.486734 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"bad"â€º. 
I, [2020-04-19T15:14:18.486755 #21419]  INFO -- : --------------------------------------------------------------------
D, [2020-04-19T15:14:18.489234 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.490047 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.490556 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.490810 #21419]  INFO -- : -----------------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.490847 #21419]  INFO -- : EmployeeTest: test_: Given context should shows return employee's pay grade on a given date as a string, if it exists. 
I, [2020-04-19T15:14:18.490868 #21419]  INFO -- : -----------------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.491425 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.492392 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "369149802"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.493493 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "369149802"], ["date_of_birth", "2001-04-19"], ["phone", "4003000097"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.494519 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.495685 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.496522 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.496770 #21419]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.496806 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-04-19T15:14:18.496827 #21419]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.499632 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.500459 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.500942 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.501163 #21419]  INFO -- : --------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.501219 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-04-19T15:14:18.501243 #21419]  INFO -- : --------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.504083 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.504916 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.505451 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.505662 #21419]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.505714 #21419]  INFO -- : EmployeeTest: test_: Employee should validate that :username cannot be empty/falsy. 
I, [2020-04-19T15:14:18.505743 #21419]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.506284 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.507108 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.507333 #21419]  INFO -- : -------------------------------------------------------------------
I, [2020-04-19T15:14:18.507368 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"vp"â€º. 
I, [2020-04-19T15:14:18.507414 #21419]  INFO -- : -------------------------------------------------------------------
D, [2020-04-19T15:14:18.509953 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.510763 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.511296 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.511539 #21419]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-19T15:14:18.511574 #21419]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"employee"â€º. 
I, [2020-04-19T15:14:18.511594 #21419]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-19T15:14:18.514154 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.514756 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.515293 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.515525 #21419]  INFO -- : -------------------------------------------------------------------
I, [2020-04-19T15:14:18.515559 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"bad"â€º. 
I, [2020-04-19T15:14:18.515581 #21419]  INFO -- : -------------------------------------------------------------------
D, [2020-04-19T15:14:18.518182 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "bad"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.519094 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.519658 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.519906 #21419]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.519942 #21419]  INFO -- : EmployeeTest: test_: Given context should force employees to have unique ssn. 
I, [2020-04-19T15:14:18.519966 #21419]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.520540 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.521533 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "279299184"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.522617 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "279299184"], ["date_of_birth", "2001-04-19"], ["phone", "0384081380"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.533509 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.534903 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.535816 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.536070 #21419]  INFO -- : ------------------------------------------------------------------
I, [2020-04-19T15:14:18.536105 #21419]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"admin"â€º. 
I, [2020-04-19T15:14:18.536127 #21419]  INFO -- : ------------------------------------------------------------------
D, [2020-04-19T15:14:18.538785 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.539360 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.539875 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.540089 #21419]  INFO -- : --------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.540125 #21419]  INFO -- : EmployeeTest: test_: Given context should allow employees who have yet to work a shift to be destroyed. 
I, [2020-04-19T15:14:18.540147 #21419]  INFO -- : --------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.540677 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.541653 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "119056006"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.542797 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "119056006"], ["date_of_birth", "2001-04-19"], ["phone", "3848532892"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.543781 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.544919 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.545816 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.546061 #21419]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-19T15:14:18.546097 #21419]  INFO -- : EmployeeTest: test_: Given context should shows name as last, first name. 
I, [2020-04-19T15:14:18.546117 #21419]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-19T15:14:18.546672 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.547588 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "197842712"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.548653 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "197842712"], ["date_of_birth", "2001-04-19"], ["phone", "9181112671"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.549667 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.550804 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.551661 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.551890 #21419]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.551933 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-04-19T15:14:18.551988 #21419]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.554933 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.555777 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.556317 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.556550 #21419]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.556587 #21419]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Wed, 19 Apr 2006â€º. 
I, [2020-04-19T15:14:18.556608 #21419]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.559320 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.560147 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.560720 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.560938 #21419]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.561003 #21419]  INFO -- : EmployeeTest: test_: Given context should show there are four employees over 18. 
I, [2020-04-19T15:14:18.561025 #21419]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.561672 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.562713 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "386419889"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.563854 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "386419889"], ["date_of_birth", "2001-04-19"], ["phone", "5693521619"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.564867 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.566120 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.567023 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.567272 #21419]  INFO -- : ------------------------------------------------------------
I, [2020-04-19T15:14:18.567307 #21419]  INFO -- : EmployeeTest: test_: Employee should have many assignments. 
I, [2020-04-19T15:14:18.567328 #21419]  INFO -- : ------------------------------------------------------------
D, [2020-04-19T15:14:18.568818 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.569343 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.569580 #21419]  INFO -- : ------------------------------------------------------------------
I, [2020-04-19T15:14:18.569616 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹nilâ€º. 
I, [2020-04-19T15:14:18.569636 #21419]  INFO -- : ------------------------------------------------------------------
D, [2020-04-19T15:14:18.572546 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.573406 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.573944 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.574156 #21419]  INFO -- : --------------------------------------------------------------------
I, [2020-04-19T15:14:18.574191 #21419]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"manager"â€º. 
I, [2020-04-19T15:14:18.574212 #21419]  INFO -- : --------------------------------------------------------------------
D, [2020-04-19T15:14:18.576756 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.577324 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.577808 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.578046 #21419]  INFO -- : -----------------------------------------------------------------------------
I, [2020-04-19T15:14:18.578082 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-04-19T15:14:18.578104 #21419]  INFO -- : -----------------------------------------------------------------------------
D, [2020-04-19T15:14:18.580854 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.581700 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.582246 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.582458 #21419]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.582494 #21419]  INFO -- : EmployeeTest: test_: Given context should shows that over_18? boolean method works. 
I, [2020-04-19T15:14:18.582515 #21419]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.583195 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.584148 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "241953147"], ["LIMIT", 1]]
D, [2020-04-19T15:14:18.585351 #21419] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "241953147"], ["date_of_birth", "2001-04-19"], ["phone", "0451909575"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:14:18.586397 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:14:18.587611 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.588512 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.588767 #21419]  INFO -- : -----------------------------------------------------------------
I, [2020-04-19T15:14:18.588803 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹10â€º. 
I, [2020-04-19T15:14:18.588824 #21419]  INFO -- : -----------------------------------------------------------------
D, [2020-04-19T15:14:18.591370 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.592184 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.592699 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.592939 #21419]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-19T15:14:18.592980 #21419]  INFO -- : EmployeeTest: test_: Employee should have many pay_grades through assignments. 
I, [2020-04-19T15:14:18.593004 #21419]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-19T15:14:18.593365 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:14:18.594030 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:14:18.594271 #21419]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-19T15:14:18.594307 #21419]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹nilâ€º. 
I, [2020-04-19T15:14:18.594329 #21419]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-19T15:14:18.597092 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-19T15:14:18.597960 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.085073 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-19T15:15:23.251090 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.251449 #21500]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-19T15:15:23.251488 #21500]  INFO -- : ShiftTest: test_: Given context should only accept time data for end time. 
I, [2020-04-19T15:15:23.251510 #21500]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-19T15:15:23.264276 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.265767 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.267071 #21500] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9036788282"], ["active", 1]]
D, [2020-04-19T15:15:23.268102 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.268893 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.269658 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.270641 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.271621 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.272323 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.273101 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.274019 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7922909116"], ["active", 0]]
D, [2020-04-19T15:15:23.275047 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.286381 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.288300 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "264581232"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.289428 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "264581232"], ["date_of_birth", "2001-04-19"], ["phone", "9915909130"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.290406 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.291748 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.293504 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.293751 #21500]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-19T15:15:23.293791 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope called for_past_days. 
I, [2020-04-19T15:15:23.293811 #21500]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-19T15:15:23.294251 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.295103 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.296150 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6881531986"], ["active", 1]]
D, [2020-04-19T15:15:23.297105 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.297819 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.298589 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.299515 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.300482 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.301216 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.301981 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.302914 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5708197254"], ["active", 0]]
D, [2020-04-19T15:15:23.303855 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.304645 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.305658 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "155858990"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.306672 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "155858990"], ["date_of_birth", "2001-04-19"], ["phone", "8784069726"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.307633 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.308771 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.309999 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.310223 #21500]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-19T15:15:23.310257 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope for upcoming shifts. 
I, [2020-04-19T15:15:23.310276 #21500]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-19T15:15:23.310695 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.311526 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.312571 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9391580235"], ["active", 1]]
D, [2020-04-19T15:15:23.313538 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.314234 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.314989 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.315927 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.316881 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.317561 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.318362 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.319325 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7249897155"], ["active", 0]]
D, [2020-04-19T15:15:23.320309 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.321106 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.322086 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "073244608"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.323161 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "073244608"], ["date_of_birth", "2001-04-19"], ["phone", "5049480583"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.324134 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.325293 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.326618 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.326857 #21500]  INFO -- : ----------------------------------------------------------------
I, [2020-04-19T15:15:23.326891 #21500]  INFO -- : ShiftTest: test_: Shift should allow :status to be â€¹"started"â€º. 
I, [2020-04-19T15:15:23.326911 #21500]  INFO -- : ----------------------------------------------------------------
D, [2020-04-19T15:15:23.327697 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.328874 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.329097 #21500]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-19T15:15:23.329131 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope for completed shifts. 
I, [2020-04-19T15:15:23.329153 #21500]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-19T15:15:23.329594 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.330491 #21500] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.331535 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3798187381"], ["active", 1]]
D, [2020-04-19T15:15:23.332505 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.333234 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.334042 #21500] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.334972 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.335921 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.336640 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.337467 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.338354 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1658173086"], ["active", 0]]
D, [2020-04-19T15:15:23.339311 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.340116 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.341120 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "182171791"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.342128 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "182171791"], ["date_of_birth", "2001-04-19"], ["phone", "3533742060"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.343127 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.344301 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.345496 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.345731 #21500]  INFO -- : -----------------------------------------------------------------------------
I, [2020-04-19T15:15:23.345767 #21500]  INFO -- : ShiftTest: test_: Given context should only accept time data for start time. 
I, [2020-04-19T15:15:23.345787 #21500]  INFO -- : -----------------------------------------------------------------------------
D, [2020-04-19T15:15:23.346219 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.347088 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.348105 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0030584431"], ["active", 1]]
D, [2020-04-19T15:15:23.349080 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.349771 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.350542 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.351459 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.352430 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.353135 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.353931 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.354808 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3948453404"], ["active", 0]]
D, [2020-04-19T15:15:23.355776 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.356603 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.357664 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091132620"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.358660 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "091132620"], ["date_of_birth", "2001-04-19"], ["phone", "8287907574"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.359647 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.360930 #21500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.362508 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.362802 #21500]  INFO -- : --------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:15:23.362840 #21500]  INFO -- : ShiftTest: test_: Given context should ensure that shift end times do not precede the shift start time. 
I, [2020-04-19T15:15:23.362860 #21500]  INFO -- : --------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:15:23.363292 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.364315 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.365471 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9379639087"], ["active", 1]]
D, [2020-04-19T15:15:23.366473 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.367175 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.368012 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.368911 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.369883 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.370587 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.371357 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.372239 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9230692149"], ["active", 0]]
D, [2020-04-19T15:15:23.373177 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.374141 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.375223 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "144556952"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.376251 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "144556952"], ["date_of_birth", "2001-04-19"], ["phone", "9646902124"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.377388 #21500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.378807 #21500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.380312 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.380563 #21500]  INFO -- : -----------------------------------------------------------------
I, [2020-04-19T15:15:23.380597 #21500]  INFO -- : ShiftTest: test_: Given context should not allow date to be nil. 
I, [2020-04-19T15:15:23.380616 #21500]  INFO -- : -----------------------------------------------------------------
D, [2020-04-19T15:15:23.381064 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.382096 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.383197 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6618167940"], ["active", 1]]
D, [2020-04-19T15:15:23.384162 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.384882 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.385682 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.386633 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.387610 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.388311 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.389082 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.390064 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3900702867"], ["active", 0]]
D, [2020-04-19T15:15:23.391051 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.391916 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.392934 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "027148043"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.393994 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "027148043"], ["date_of_birth", "2001-04-19"], ["phone", "3135802288"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.394984 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.396214 #21500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.397774 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.398007 #21500]  INFO -- : --------------------------------------------------------------
I, [2020-04-19T15:15:23.398041 #21500]  INFO -- : ShiftTest: test_: Shift should not allow :status to be â€¹nilâ€º. 
I, [2020-04-19T15:15:23.398060 #21500]  INFO -- : --------------------------------------------------------------
D, [2020-04-19T15:15:23.398885 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.400065 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.400281 #21500]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-19T15:15:23.400316 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope to order chronologically. 
I, [2020-04-19T15:15:23.400336 #21500]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-19T15:15:23.400809 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.401803 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.402848 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6961416213"], ["active", 1]]
D, [2020-04-19T15:15:23.403833 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.404534 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.405331 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.406251 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.407209 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.407902 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.408641 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.409618 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4755134813"], ["active", 0]]
D, [2020-04-19T15:15:23.410619 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.411481 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.412554 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "378265274"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.413638 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "378265274"], ["date_of_birth", "2001-04-19"], ["phone", "0866222703"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.414754 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.416057 #21500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.417498 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.417773 #21500]  INFO -- : -----------------------------------------------------------------
I, [2020-04-19T15:15:23.417821 #21500]  INFO -- : ShiftTest: test_: Shift should allow :status to be â€¹"finished"â€º. 
I, [2020-04-19T15:15:23.417842 #21500]  INFO -- : -----------------------------------------------------------------
D, [2020-04-19T15:15:23.418736 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.420058 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.420295 #21500]  INFO -- : ------------------------------------------------------------------------------------------------
I, [2020-04-19T15:15:23.420330 #21500]  INFO -- : ShiftTest: test_: Given context should ensure that shift are only given to current assignments. 
I, [2020-04-19T15:15:23.420357 #21500]  INFO -- : ------------------------------------------------------------------------------------------------
D, [2020-04-19T15:15:23.420869 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.421921 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.423135 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7195858594"], ["active", 1]]
D, [2020-04-19T15:15:23.434006 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.434888 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.435835 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.436793 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.437806 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.438482 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.439236 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.440128 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9793089572"], ["active", 0]]
D, [2020-04-19T15:15:23.441161 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.442033 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.443045 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "002512938"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.444074 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "002512938"], ["date_of_birth", "2001-04-19"], ["phone", "6540989683"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.445066 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.446374 #21500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.447878 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.448103 #21500]  INFO -- : ----------------------------------------------------------------------
I, [2020-04-19T15:15:23.448138 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope called for_store. 
I, [2020-04-19T15:15:23.448159 #21500]  INFO -- : ----------------------------------------------------------------------
D, [2020-04-19T15:15:23.448586 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.449479 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.450532 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0437039728"], ["active", 1]]
D, [2020-04-19T15:15:23.451513 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.452187 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.452953 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.453853 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.454844 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.455521 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.456275 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.457177 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8383033935"], ["active", 0]]
D, [2020-04-19T15:15:23.458180 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.458982 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.459975 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "048724459"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.460978 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "048724459"], ["date_of_birth", "2001-04-19"], ["phone", "2615356485"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.461986 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.463185 #21500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.464484 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.464762 #21500]  INFO -- : ----------------------------------------------------------------------------
I, [2020-04-19T15:15:23.464799 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope to order by store name. 
I, [2020-04-19T15:15:23.464819 #21500]  INFO -- : ----------------------------------------------------------------------------
D, [2020-04-19T15:15:23.465248 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.466143 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.467198 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2376817847"], ["active", 1]]
D, [2020-04-19T15:15:23.468242 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.468938 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.469727 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.470646 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.471597 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.472258 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.473013 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.473941 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3784547373"], ["active", 0]]
D, [2020-04-19T15:15:23.474880 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.475744 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.476722 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "200522265"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.477776 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "200522265"], ["date_of_birth", "2001-04-19"], ["phone", "0783563103"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.478768 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.480003 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.481292 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.481543 #21500]  INFO -- : ------------------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:15:23.481578 #21500]  INFO -- : ShiftTest: test_: Given context should have a callback which sets end time to three hours on create, but not on update. 
I, [2020-04-19T15:15:23.481598 #21500]  INFO -- : ------------------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:15:23.481985 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.482905 #21500] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.483929 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2447431698"], ["active", 1]]
D, [2020-04-19T15:15:23.484941 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.485635 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.486421 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.487392 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.488396 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.489103 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.489951 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.490852 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2692595036"], ["active", 0]]
D, [2020-04-19T15:15:23.491821 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.492593 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.493571 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "345765165"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.494555 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "345765165"], ["date_of_birth", "2001-04-19"], ["phone", "2452948938"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.495529 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.496654 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.498247 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.498464 #21500]  INFO -- : -----------------------------------------------------------------------
I, [2020-04-19T15:15:23.498498 #21500]  INFO -- : ShiftTest: test_: Given context should not allow start time to be nil. 
I, [2020-04-19T15:15:23.498518 #21500]  INFO -- : -----------------------------------------------------------------------
D, [2020-04-19T15:15:23.498953 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.499846 #21500] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.500857 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3208584333"], ["active", 1]]
D, [2020-04-19T15:15:23.501890 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.502544 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.503314 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.504270 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.505228 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.505916 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.506701 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.507630 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6842793229"], ["active", 0]]
D, [2020-04-19T15:15:23.508634 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.509435 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.510399 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "204858087"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.511429 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "204858087"], ["date_of_birth", "2001-04-19"], ["phone", "7437203723"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.512490 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.513748 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.515025 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.515247 #21500]  INFO -- : ------------------------------------------------------------------
I, [2020-04-19T15:15:23.515304 #21500]  INFO -- : ShiftTest: test_: Given context should allow end time can be nil. 
I, [2020-04-19T15:15:23.515324 #21500]  INFO -- : ------------------------------------------------------------------
D, [2020-04-19T15:15:23.515742 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.516660 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.517754 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9200059460"], ["active", 1]]
D, [2020-04-19T15:15:23.518781 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.519496 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.520293 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.521256 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.522265 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.523046 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.523835 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.524733 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2580140980"], ["active", 0]]
D, [2020-04-19T15:15:23.525816 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.526645 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.527620 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "171911989"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.528733 #21500] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "171911989"], ["date_of_birth", "2001-04-19"], ["phone", "0568222326"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.529879 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.531012 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.532295 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.532523 #21500]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-19T15:15:23.532558 #21500]  INFO -- : ShiftTest: test_: Shift should have one employee through assignment. 
I, [2020-04-19T15:15:23.532578 #21500]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-19T15:15:23.533443 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.534600 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.534855 #21500]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-19T15:15:23.534892 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope for pending shifts. 
I, [2020-04-19T15:15:23.534918 #21500]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-19T15:15:23.535358 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.536288 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.537453 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9156817065"], ["active", 1]]
D, [2020-04-19T15:15:23.538543 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.539235 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.540008 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.540982 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.542039 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.542735 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.543534 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.544485 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2178101489"], ["active", 0]]
D, [2020-04-19T15:15:23.545582 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.546406 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.547407 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "192481628"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.548429 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "192481628"], ["date_of_birth", "2001-04-19"], ["phone", "3502602925"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.549493 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.550716 #21500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.551841 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.552062 #21500]  INFO -- : -----------------------------------------------------------------------------
I, [2020-04-19T15:15:23.552098 #21500]  INFO -- : ShiftTest: test_: Given context should only accept date data for date field. 
I, [2020-04-19T15:15:23.552118 #21500]  INFO -- : -----------------------------------------------------------------------------
D, [2020-04-19T15:15:23.552565 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.553449 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.554511 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9006346355"], ["active", 1]]
D, [2020-04-19T15:15:23.555585 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.556276 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.557078 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.558011 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.559053 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.559760 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.560567 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.561476 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8802100733"], ["active", 0]]
D, [2020-04-19T15:15:23.562511 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.563323 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.564300 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "149988054"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.565371 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "149988054"], ["date_of_birth", "2001-04-19"], ["phone", "6751356247"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.566365 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.567608 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.568890 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.569115 #21500]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-19T15:15:23.569150 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope to order by employee name. 
I, [2020-04-19T15:15:23.569169 #21500]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-19T15:15:23.569653 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.570543 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.571639 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4433912330"], ["active", 1]]
D, [2020-04-19T15:15:23.572648 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.573367 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.574167 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.575046 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.576081 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.576776 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.577544 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.578430 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5877485782"], ["active", 0]]
D, [2020-04-19T15:15:23.579439 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.580254 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.581264 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "297361364"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.582299 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "297361364"], ["date_of_birth", "2001-04-19"], ["phone", "9440574505"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.583388 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.584606 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.585991 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.586224 #21500]  INFO -- : ----------------------------------------------------------------------
I, [2020-04-19T15:15:23.586259 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope called for_dates. 
I, [2020-04-19T15:15:23.586279 #21500]  INFO -- : ----------------------------------------------------------------------
D, [2020-04-19T15:15:23.586701 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.587643 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.588743 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0762577454"], ["active", 1]]
D, [2020-04-19T15:15:23.589845 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.590576 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.591409 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.592377 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.593491 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.594214 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.595062 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.595997 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1117540088"], ["active", 0]]
D, [2020-04-19T15:15:23.597079 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.597858 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.598902 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "364036778"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.599971 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "364036778"], ["date_of_birth", "2001-04-19"], ["phone", "3756672932"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.601155 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.602595 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.604024 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.604299 #21500]  INFO -- : ------------------------------------------------------------------
I, [2020-04-19T15:15:23.604339 #21500]  INFO -- : ShiftTest: test_: Shift should not allow :status to be â€¹"start"â€º. 
I, [2020-04-19T15:15:23.604364 #21500]  INFO -- : ------------------------------------------------------------------
D, [2020-04-19T15:15:23.608865 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.610087 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.610313 #21500]  INFO -- : ---------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:15:23.610348 #21500]  INFO -- : ShiftTest: test_: Given context should ensure that shift dates do not precede the assignment start date. 
I, [2020-04-19T15:15:23.610367 #21500]  INFO -- : ---------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:15:23.610823 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.611782 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.612873 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3909337628"], ["active", 1]]
D, [2020-04-19T15:15:23.613886 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.614601 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.615438 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.616374 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.617375 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.618104 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.618866 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.619796 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6357743635"], ["active", 0]]
D, [2020-04-19T15:15:23.620760 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.621593 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.622622 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238930043"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.623690 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "238930043"], ["date_of_birth", "2001-04-19"], ["phone", "2521321413"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.624719 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.625928 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.627410 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.627662 #21500]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-19T15:15:23.627698 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope for started shifts. 
I, [2020-04-19T15:15:23.627733 #21500]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-19T15:15:23.628111 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.629066 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.630109 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8566866276"], ["active", 1]]
D, [2020-04-19T15:15:23.631094 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.631788 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.632574 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.633482 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.634428 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.635153 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.635958 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.636867 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2233210161"], ["active", 0]]
D, [2020-04-19T15:15:23.637883 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.638631 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.639684 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "229103482"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.640762 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "229103482"], ["date_of_birth", "2001-04-19"], ["phone", "4476835414"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.641840 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.643105 #21500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.644255 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.644483 #21500]  INFO -- : -----------------------------------------------------
I, [2020-04-19T15:15:23.644517 #21500]  INFO -- : ShiftTest: test_: Shift should belong to assignment. 
I, [2020-04-19T15:15:23.644536 #21500]  INFO -- : -----------------------------------------------------
D, [2020-04-19T15:15:23.645416 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.646478 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.646695 #21500]  INFO -- : -------------------------------------------------------------
I, [2020-04-19T15:15:23.646740 #21500]  INFO -- : ShiftTest: test_: Shift should not allow :status to be â€¹10â€º. 
I, [2020-04-19T15:15:23.646761 #21500]  INFO -- : -------------------------------------------------------------
D, [2020-04-19T15:15:23.647457 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.648577 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.648854 #21500]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-19T15:15:23.648892 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope for incomplete shifts. 
I, [2020-04-19T15:15:23.648912 #21500]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-19T15:15:23.649358 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.650262 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.651322 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7946883413"], ["active", 1]]
D, [2020-04-19T15:15:23.652328 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.653020 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.653786 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.654722 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.655746 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.656414 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.657236 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.658141 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5035442621"], ["active", 0]]
D, [2020-04-19T15:15:23.659157 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.659930 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.660922 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "053296158"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.661975 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "053296158"], ["date_of_birth", "2001-04-19"], ["phone", "2294974237"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.662992 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.664220 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.665557 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.665831 #21500]  INFO -- : -------------------------------------------------------------
I, [2020-04-19T15:15:23.665867 #21500]  INFO -- : ShiftTest: test_: Shift should not allow :status to be â€¹""â€º. 
I, [2020-04-19T15:15:23.665887 #21500]  INFO -- : -------------------------------------------------------------
D, [2020-04-19T15:15:23.666635 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.667686 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.667918 #21500]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-04-19T15:15:23.667953 #21500]  INFO -- : ShiftTest: test_: Given context should have a report_completed? method that works properly. 
I, [2020-04-19T15:15:23.667974 #21500]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-04-19T15:15:23.668377 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.669357 #21500] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.670442 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0498888477"], ["active", 1]]
D, [2020-04-19T15:15:23.671439 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.672091 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.672904 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.673858 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.674890 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.675569 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.676331 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.677223 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2383183178"], ["active", 0]]
D, [2020-04-19T15:15:23.678257 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.679076 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.680093 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "304963009"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.681071 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "304963009"], ["date_of_birth", "2001-04-19"], ["phone", "4050304092"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.682172 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.683419 #21500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.684783 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.685005 #21500]  INFO -- : ------------------------------------------------------------------
I, [2020-04-19T15:15:23.685038 #21500]  INFO -- : ShiftTest: test_: Shift should have many jobs through shift_jobs. 
I, [2020-04-19T15:15:23.685057 #21500]  INFO -- : ------------------------------------------------------------------
D, [2020-04-19T15:15:23.685896 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.686935 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.687169 #21500]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-19T15:15:23.687203 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope called for_next_days. 
I, [2020-04-19T15:15:23.687224 #21500]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-19T15:15:23.687630 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.688550 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.689627 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2485032107"], ["active", 1]]
D, [2020-04-19T15:15:23.690667 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.691418 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.692248 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.693166 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.694151 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.694875 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.695635 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.696511 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0369305150"], ["active", 0]]
D, [2020-04-19T15:15:23.697494 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.698327 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.699373 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "239718823"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.700394 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "239718823"], ["date_of_birth", "2001-04-19"], ["phone", "6046760375"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.701429 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.702712 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.704230 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.704514 #21500]  INFO -- : --------------------------------------------------------------------------------------
I, [2020-04-19T15:15:23.704549 #21500]  INFO -- : ShiftTest: test_: Given context should allow shifts that are pending to be destroyed. 
I, [2020-04-19T15:15:23.704571 #21500]  INFO -- : --------------------------------------------------------------------------------------
D, [2020-04-19T15:15:23.704964 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.706022 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.707076 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5562315212"], ["active", 1]]
D, [2020-04-19T15:15:23.708163 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.708906 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.709791 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.710815 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.711972 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.712672 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.713532 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.714482 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9661661152"], ["active", 0]]
D, [2020-04-19T15:15:23.715575 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.716400 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.717483 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "172722915"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.718557 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "172722915"], ["date_of_birth", "2001-04-19"], ["phone", "0064759736"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.719637 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.720936 #21500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.722519 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.722800 #21500]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-19T15:15:23.722838 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope for finished shifts. 
I, [2020-04-19T15:15:23.722858 #21500]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-19T15:15:23.723276 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.724185 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.725297 #21500] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3707593099"], ["active", 1]]
D, [2020-04-19T15:15:23.726348 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.727094 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.727938 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.728919 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.729951 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.730664 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.731470 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.732471 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0896986177"], ["active", 0]]
D, [2020-04-19T15:15:23.733517 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.734386 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.735394 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "024859595"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.736463 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "024859595"], ["date_of_birth", "2001-04-19"], ["phone", "1199862890"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.737539 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.738829 #21500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.740060 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.740306 #21500]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-19T15:15:23.740340 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope called for_employee. 
I, [2020-04-19T15:15:23.740360 #21500]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-19T15:15:23.740821 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.741728 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.742826 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4266705668"], ["active", 1]]
D, [2020-04-19T15:15:23.743889 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.744660 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.745527 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.746454 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.747552 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.748360 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.749238 #21500] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.750194 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5677008416"], ["active", 0]]
D, [2020-04-19T15:15:23.751159 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.751992 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.753058 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "378176470"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.754270 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "378176470"], ["date_of_birth", "2001-04-19"], ["phone", "4134445559"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.755287 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.756505 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.757862 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.758109 #21500]  INFO -- : -------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:15:23.758144 #21500]  INFO -- : ShiftTest: test_: Given context should not allow shifts that have started or finished to be destroyed. 
I, [2020-04-19T15:15:23.758164 #21500]  INFO -- : -------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:15:23.758584 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.759463 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.760554 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3859001539"], ["active", 1]]
D, [2020-04-19T15:15:23.761712 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.762452 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.763268 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.764266 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.765420 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.766179 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.767044 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.768026 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2258062671"], ["active", 0]]
D, [2020-04-19T15:15:23.769090 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.769983 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.771060 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "331547035"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.772090 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "331547035"], ["date_of_birth", "2001-04-19"], ["phone", "3696110612"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.773200 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.774482 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.775809 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.776058 #21500]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-19T15:15:23.776094 #21500]  INFO -- : ShiftTest: test_: Given context should have a scope for past shifts. 
I, [2020-04-19T15:15:23.776114 #21500]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-19T15:15:23.776524 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.777485 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.778666 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6374404048"], ["active", 1]]
D, [2020-04-19T15:15:23.783183 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.783982 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.784787 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.785748 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.786722 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.787429 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.788242 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.789162 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3159096253"], ["active", 0]]
D, [2020-04-19T15:15:23.790145 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.790981 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.791997 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "095533236"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.792990 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "095533236"], ["date_of_birth", "2001-04-19"], ["phone", "4089086603"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.794042 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.795247 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.796526 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.796762 #21500]  INFO -- : ---------------------------------------------------------------------------------------------------------------------------
I, [2020-04-19T15:15:23.796798 #21500]  INFO -- : ShiftTest: test_: Given context should have a method which calculates the duration of the shift, rounded to quarter-hours. 
I, [2020-04-19T15:15:23.796818 #21500]  INFO -- : ---------------------------------------------------------------------------------------------------------------------------
D, [2020-04-19T15:15:23.797261 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.798109 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.799138 #21500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5651506923"], ["active", 1]]
D, [2020-04-19T15:15:23.800141 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.800887 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.801675 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.802571 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-19T15:15:23.803508 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.804225 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.804995 #21500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.805915 #21500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0472384045"], ["active", 0]]
D, [2020-04-19T15:15:23.806905 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.807748 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.808733 #21500] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "319544886"], ["LIMIT", 1]]
D, [2020-04-19T15:15:23.809761 #21500] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "319544886"], ["date_of_birth", "2001-04-19"], ["phone", "6274929613"], ["role", "employee"], ["active", 1]]
D, [2020-04-19T15:15:23.810738 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-19T15:15:23.811972 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.813417 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.813675 #21500]  INFO -- : ----------------------------------------------------------------
I, [2020-04-19T15:15:23.813720 #21500]  INFO -- : ShiftTest: test_: Shift should not allow :status to be â€¹"bad"â€º. 
I, [2020-04-19T15:15:23.813743 #21500]  INFO -- : ----------------------------------------------------------------
D, [2020-04-19T15:15:23.814533 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.815807 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.816058 #21500]  INFO -- : ----------------------------------------------------------------
I, [2020-04-19T15:15:23.816093 #21500]  INFO -- : ShiftTest: test_: Shift should allow :status to be â€¹"pending"â€º. 
I, [2020-04-19T15:15:23.816112 #21500]  INFO -- : ----------------------------------------------------------------
D, [2020-04-19T15:15:23.816884 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.818064 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.818316 #21500]  INFO -- : -----------------------------------------------------
I, [2020-04-19T15:15:23.818350 #21500]  INFO -- : ShiftTest: test_: Shift should have many shift_jobs. 
I, [2020-04-19T15:15:23.818370 #21500]  INFO -- : -----------------------------------------------------
D, [2020-04-19T15:15:23.819119 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.820437 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.820699 #21500]  INFO -- : -----------------------------------------------------------------------------------
I, [2020-04-19T15:15:23.820745 #21500]  INFO -- : ShiftTest: test_: Shift should validate that :assignment_id cannot be empty/falsy. 
I, [2020-04-19T15:15:23.820777 #21500]  INFO -- : -----------------------------------------------------------------------------------
D, [2020-04-19T15:15:23.821533 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-19T15:15:23.822793 #21500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-19T15:15:23.823049 #21500]  INFO -- : ------------------------------------------------------------------
I, [2020-04-19T15:15:23.823082 #21500]  INFO -- : ShiftTest: test_: Shift should have one store through assignment. 
I, [2020-04-19T15:15:23.823102 #21500]  INFO -- : ------------------------------------------------------------------
D, [2020-04-19T15:15:23.823816 #21500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
