# Logfile created on 2020-04-01 12:27:40 +0000 by logger.rb/61378
D, [2020-04-01T12:27:40.427136 #3049] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T12:27:40.539303 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:27:40.539790 #3049]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:27:40.539887 #3049]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T12:27:40.539923 #3049]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:27:40.658485 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:40.660140 #3049] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:27:40.661580 #3049] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2008711030"], ["active", 1]]
D, [2020-04-01T12:27:40.662837 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:27:40.670191 #3049]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 12:27:40 +0000
I, [2020-04-01T12:27:40.677416 #3049]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T12:27:40.677806 #3049]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T12:27:40.682563 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:40.999689 #3049] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T12:27:41.001329 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:27:41.005738 #3049]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T12:27:41.047496 #3049]  INFO -- :   Rendered stores/_form.html.erb (39.5ms)
I, [2020-04-01T12:27:41.047969 #3049]  INFO -- :   Rendered stores/new.html.erb within layouts/application (41.9ms)
I, [2020-04-01T12:27:44.685018 #3049]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T12:27:44.686510 #3049]  INFO -- :   Rendered partials/_nav.html.erb (0.5ms)
I, [2020-04-01T12:27:44.688005 #3049]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T12:27:44.689570 #3049]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T12:27:44.691295 #3049]  INFO -- : Completed 200 OK in 4013ms (Views: 3687.9ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:27:44.700651 #3049] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:27:44.702274 #3049] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:27:44.702654 #3049]  INFO -- : ------------------------------------------
I, [2020-04-01T12:27:44.702729 #3049]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T12:27:44.702821 #3049]  INFO -- : ------------------------------------------
D, [2020-04-01T12:27:44.703899 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:44.705472 #3049] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:27:44.707122 #3049] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7449498943"], ["active", 1]]
D, [2020-04-01T12:27:44.708825 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:27:44.710146 #3049]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 12:27:44 +0000
I, [2020-04-01T12:27:44.711279 #3049]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T12:27:44.711600 #3049]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:27:44.712914 #3049] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:27:44.715821 #3049]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T12:27:44.724634 #3049]  INFO -- :   Rendered stores/_form.html.erb (8.0ms)
I, [2020-04-01T12:27:44.725040 #3049]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (8.9ms)
I, [2020-04-01T12:27:44.726420 #3049]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:27:44.727060 #3049]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:27:44.727721 #3049]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:27:44.728427 #3049]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:27:44.729526 #3049]  INFO -- : Completed 200 OK in 18ms (Views: 13.5ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:27:44.735428 #3049] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:27:44.736778 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:27:44.737099 #3049]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T12:27:44.737206 #3049]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T12:27:44.737266 #3049]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T12:27:44.738245 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:44.739812 #3049] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:27:44.741417 #3049] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8676134993"], ["active", 1]]
D, [2020-04-01T12:27:44.743057 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:27:44.744311 #3049]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 12:27:44 +0000
I, [2020-04-01T12:27:44.745501 #3049]  INFO -- : Processing by StoresController#destroy as HTML
I, [2020-04-01T12:27:44.745885 #3049]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:27:44.746803 #3049] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:27:44.748003 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:44.749138 #3049] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T12:27:44.750050 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:27:44.774794 #3049]  INFO -- : No template found for StoresController#destroy, rendering head :no_content
I, [2020-04-01T12:27:44.775819 #3049]  INFO -- : Completed 204 No Content in 30ms (ActiveRecord: 0.3ms)
D, [2020-04-01T12:27:44.779890 #3049] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:27:44.781891 #3049] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:27:44.782193 #3049]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T12:27:44.782268 #3049]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T12:27:44.782322 #3049]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T12:27:44.783162 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:44.784449 #3049] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:27:44.785932 #3049] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4668408417"], ["active", 1]]
D, [2020-04-01T12:27:44.787274 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:44.788303 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T12:27:44.789579 #3049]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 12:27:44 +0000
I, [2020-04-01T12:27:44.790585 #3049]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T12:27:44.790901 #3049]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T12:27:44.792160 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:44.793531 #3049] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T12:27:44.795135 #3049] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T12:27:44.796696 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:27:44.797846 #3049]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T12:27:44.799055 #3049]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T12:27:44.804197 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T12:27:44.805311 #3049] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T12:27:44.806699 #3049] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:27:44.808004 #3049] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:27:44.808306 #3049]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T12:27:44.808378 #3049]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T12:27:44.808442 #3049]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T12:27:44.809240 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:44.810561 #3049] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:27:44.811987 #3049] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7820685799"], ["active", 1]]
D, [2020-04-01T12:27:44.813265 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:27:44.814463 #3049]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 12:27:44 +0000
I, [2020-04-01T12:27:44.816789 #3049]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T12:27:44.817084 #3049]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:27:44.818223 #3049] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:27:44.819699 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:44.821538 #3049] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:27:44.823545 #3049] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T12:27:44.825039 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:27:44.826152 #3049]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T12:27:44.827751 #3049]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
D, [2020-04-01T12:27:44.873944 #3049] DEBUG -- :   [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:27:44.876872 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:27:44.877565 #3049]  INFO -- : -----------------------------------------
I, [2020-04-01T12:27:44.877720 #3049]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T12:27:44.877808 #3049]  INFO -- : -----------------------------------------
D, [2020-04-01T12:27:44.879031 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:44.884666 #3049] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:27:44.886801 #3049] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2633355024"], ["active", 1]]
D, [2020-04-01T12:27:44.888939 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:27:44.890564 #3049]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 12:27:44 +0000
I, [2020-04-01T12:27:44.891866 #3049]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T12:27:44.893235 #3049]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T12:27:44.902354 #3049]  INFO -- :   Rendered stores/_form.html.erb (8.6ms)
I, [2020-04-01T12:27:44.902876 #3049]  INFO -- :   Rendered stores/new.html.erb within layouts/application (9.2ms)
I, [2020-04-01T12:27:44.904401 #3049]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:27:44.905104 #3049]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:27:44.905898 #3049]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:27:44.906692 #3049]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:27:44.907870 #3049]  INFO -- : Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:27:44.912108 #3049] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:27:44.913453 #3049] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:27:44.913842 #3049]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:27:44.913923 #3049]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T12:27:44.914084 #3049]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:27:44.915031 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:44.916530 #3049] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:27:44.918244 #3049] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3591888243"], ["active", 1]]
D, [2020-04-01T12:27:44.919912 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:27:44.921241 #3049]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 12:27:44 +0000
I, [2020-04-01T12:27:44.922525 #3049]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T12:27:44.922966 #3049]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:27:44.923900 #3049] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:27:44.925431 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:44.927812 #3049] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:27:44.930351 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:27:44.931553 #3049]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T12:27:44.940917 #3049]  INFO -- :   Rendered stores/_form.html.erb (8.9ms)
I, [2020-04-01T12:27:44.941717 #3049]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (9.4ms)
I, [2020-04-01T12:27:44.943810 #3049]  INFO -- :   Rendered partials/_topbar.html.erb (0.5ms)
I, [2020-04-01T12:27:44.944666 #3049]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:27:44.945586 #3049]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:27:44.946550 #3049]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:27:44.948524 #3049]  INFO -- : Completed 200 OK in 25ms (Views: 15.9ms | ActiveRecord: 0.4ms)
D, [2020-04-01T12:27:44.956957 #3049] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:27:44.958450 #3049] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:27:44.958751 #3049]  INFO -- : --------------------------------------------
I, [2020-04-01T12:27:44.958826 #3049]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T12:27:44.958899 #3049]  INFO -- : --------------------------------------------
D, [2020-04-01T12:27:44.959973 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:44.961745 #3049] DEBUG -- :   [1m[36mStore Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:27:44.963585 #3049] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5788948761"], ["active", 1]]
D, [2020-04-01T12:27:44.965924 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:27:44.967182 #3049]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 12:27:44 +0000
I, [2020-04-01T12:27:44.968497 #3049]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T12:27:44.968745 #3049]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:27:44.969842 #3049] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:27:44.972325 #3049]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T12:27:44.973761 #3049]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.8ms)
I, [2020-04-01T12:27:44.975290 #3049]  INFO -- :   Rendered partials/_topbar.html.erb (0.5ms)
I, [2020-04-01T12:27:44.976097 #3049]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:27:44.977003 #3049]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:27:44.977981 #3049]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T12:27:44.979736 #3049]  INFO -- : Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:27:44.985772 #3049] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:27:44.988045 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:27:44.988377 #3049]  INFO -- : -------------------------------------------
I, [2020-04-01T12:27:44.988450 #3049]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T12:27:44.988512 #3049]  INFO -- : -------------------------------------------
D, [2020-04-01T12:27:44.989611 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:27:44.991446 #3049] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:27:44.993447 #3049] DEBUG -- :   [1m[36mStore Create (0.5ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6594301228"], ["active", 1]]
D, [2020-04-01T12:27:44.995458 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:27:44.996922 #3049]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 12:27:44 +0000
I, [2020-04-01T12:27:44.997938 #3049]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T12:27:45.000222 #3049]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-01T12:27:45.001905 #3049] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T12:27:45.003796 #3049]  INFO -- :   Rendered stores/index.html.erb within layouts/application (2.9ms)
I, [2020-04-01T12:27:45.005810 #3049]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:27:45.006368 #3049]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:27:45.007261 #3049]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:27:45.008222 #3049]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T12:27:45.009661 #3049]  INFO -- : Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:27:45.014503 #3049] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:32:39.162028 #3394] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T12:32:39.220197 #3394] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:32:39.220575 #3394]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:32:39.220614 #3394]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T12:32:39.220635 #3394]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:32:39.290348 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.292823 #3394] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "351296272"], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.294202 #3394] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "351296272"], ["date_of_birth", "2001-04-01"], ["phone", "3056750761"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:32:39.295335 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.296088 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T12:32:39.301866 #3394]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:32:39 +0000
I, [2020-04-01T12:32:39.308079 #3394]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:32:39.308359 #3394]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:32:39.312707 #3394] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:32:39.313464 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.423059 #3394] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T12:32:39.424345 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:32:39.428235 #3394]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:32:39.458745 #3394]  INFO -- :   Rendered employees/_form.html.erb (29.0ms)
I, [2020-04-01T12:32:39.459174 #3394]  INFO -- :   Rendered employees/new.html.erb within layouts/application (30.6ms)
I, [2020-04-01T12:32:39.646682 #3394]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T12:32:39.648122 #3394]  INFO -- :   Rendered partials/_nav.html.erb (0.6ms)
I, [2020-04-01T12:32:39.649746 #3394]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T12:32:39.651421 #3394]  INFO -- :   Rendered partials/_footer.html.erb (0.7ms)
I, [2020-04-01T12:32:39.653372 #3394]  INFO -- : Completed 200 OK in 344ms (Views: 226.9ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:32:39.663157 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T12:32:39.665346 #3394] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:32:39.668316 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:32:39.669220 #3394]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:32:39.669291 #3394]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T12:32:39.669349 #3394]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:32:39.671065 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.673274 #3394] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "271093637"], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.675034 #3394] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "271093637"], ["date_of_birth", "2001-04-01"], ["phone", "8818605821"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:32:39.677530 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:32:39.680198 #3394]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:32:39 +0000
I, [2020-04-01T12:32:39.682011 #3394]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:32:39.683040 #3394]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:32:39.684888 #3394] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.688379 #3394] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:32:39.688860 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.692879 #3394] DEBUG -- :   [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "271093637"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.701756 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:32:39.703714 #3394]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:32:39.714964 #3394]  INFO -- :   Rendered employees/_form.html.erb (10.1ms)
I, [2020-04-01T12:32:39.715546 #3394]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (11.6ms)
I, [2020-04-01T12:32:39.717565 #3394]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T12:32:39.718472 #3394]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:32:39.719633 #3394]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:32:39.720596 #3394]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:32:39.723019 #3394]  INFO -- : Completed 200 OK in 39ms (Views: 18.6ms | ActiveRecord: 1.0ms)
D, [2020-04-01T12:32:39.734436 #3394] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:32:39.735688 #3394] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:32:39.736078 #3394]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:32:39.736146 #3394]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T12:32:39.736199 #3394]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:32:39.737400 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.739144 #3394] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "141669375"], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.740971 #3394] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "141669375"], ["date_of_birth", "2001-04-01"], ["phone", "6404951382"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:32:39.742670 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:32:39.744047 #3394]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:32:39 +0000
I, [2020-04-01T12:32:39.745220 #3394]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:32:39.745595 #3394]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:32:39.746558 #3394] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.747944 #3394] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:32:39.748510 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.750307 #3394] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "141669375"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.752327 #3394] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "date_of_birth" = ?, "phone" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["date_of_birth", "1994-04-01"], ["phone", "4122683259"], ["id", 1]]
D, [2020-04-01T12:32:39.753792 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:32:39.754870 #3394]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T12:32:39.756143 #3394]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
D, [2020-04-01T12:32:39.768204 #3394] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:32:39.771237 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:32:39.771915 #3394]  INFO -- : ---------------------------------------------
I, [2020-04-01T12:32:39.772068 #3394]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T12:32:39.772186 #3394]  INFO -- : ---------------------------------------------
D, [2020-04-01T12:32:39.774123 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.777148 #3394] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "012050966"], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.780678 #3394] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "012050966"], ["date_of_birth", "2001-04-01"], ["phone", "2923887043"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:32:39.784194 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:32:39.786313 #3394]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 12:32:39 +0000
I, [2020-04-01T12:32:39.787929 #3394]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T12:32:39.788583 #3394]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:32:39.790176 #3394] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:32:39.792791 #3394]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:32:39.810649 #3394]  INFO -- :   Rendered employees/_form.html.erb (17.2ms)
I, [2020-04-01T12:32:39.811261 #3394]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (18.0ms)
I, [2020-04-01T12:32:39.812917 #3394]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T12:32:39.813784 #3394]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:32:39.814675 #3394]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:32:39.815615 #3394]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T12:32:39.816975 #3394]  INFO -- : Completed 200 OK in 28ms (Views: 24.1ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:32:39.822753 #3394] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:32:39.824193 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:32:39.824588 #3394]  INFO -- : ----------------------------------------------
I, [2020-04-01T12:32:39.824700 #3394]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T12:32:39.824788 #3394]  INFO -- : ----------------------------------------------
D, [2020-04-01T12:32:39.826150 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.828054 #3394] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "201782725"], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.830048 #3394] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "201782725"], ["date_of_birth", "2001-04-01"], ["phone", "4635299688"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:32:39.831809 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:32:39.833148 #3394]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 12:32:39 +0000
I, [2020-04-01T12:32:39.834255 #3394]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T12:32:39.836524 #3394]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T12:32:39.838213 #3394] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T12:32:39.839815 #3394]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.9ms)
I, [2020-04-01T12:32:39.841286 #3394]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T12:32:39.842059 #3394]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:32:39.842772 #3394]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:32:39.843592 #3394]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T12:32:39.844682 #3394]  INFO -- : Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:32:39.848796 #3394] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:32:39.850539 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:32:39.850895 #3394]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:32:39.850987 #3394]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T12:32:39.851067 #3394]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:32:39.852092 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.853660 #3394] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "264267746"], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.855329 #3394] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "264267746"], ["date_of_birth", "2001-04-01"], ["phone", "7663024904"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:32:39.856835 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:32:39.858319 #3394]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:32:39 +0000
I, [2020-04-01T12:32:39.859245 #3394]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:32:39.859581 #3394]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:32:39.860456 #3394] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:32:39.861217 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.864055 #3394] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T12:32:39.865521 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:32:39.866553 #3394]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:32:39.874629 #3394]  INFO -- :   Rendered employees/_form.html.erb (7.6ms)
I, [2020-04-01T12:32:39.875040 #3394]  INFO -- :   Rendered employees/new.html.erb within layouts/application (8.2ms)
I, [2020-04-01T12:32:39.876259 #3394]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:32:39.876926 #3394]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:32:39.877564 #3394]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:32:39.878315 #3394]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:32:39.879531 #3394]  INFO -- : Completed 200 OK in 20ms (Views: 12.5ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:32:39.883753 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:32:39.884679 #3394] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:32:39.885010 #3394]  INFO -- : --------------------------------------------------
I, [2020-04-01T12:32:39.885093 #3394]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T12:32:39.885189 #3394]  INFO -- : --------------------------------------------------
D, [2020-04-01T12:32:39.886090 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.887435 #3394] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238897994"], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.888900 #3394] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "238897994"], ["date_of_birth", "2001-04-01"], ["phone", "6885517375"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:32:39.890250 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.902256 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.903687 #3394] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.905173 #3394] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3979480536"], ["active", 1]]
D, [2020-04-01T12:32:39.906420 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.921294 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.922722 #3394] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:32:39.923853 #3394] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:32:39.924945 #3394] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.932127 #3394] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.933289 #3394] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:32:39.934283 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:32:39.935340 #3394]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 12:32:39 +0000
I, [2020-04-01T12:32:39.936241 #3394]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T12:32:39.936507 #3394]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:32:39.937252 #3394] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:32:39.939004 #3394]  INFO -- :   Rendering employees/show.html.erb within layouts/application
I, [2020-04-01T12:32:39.940066 #3394]  INFO -- :   Rendered employees/show.html.erb within layouts/application (0.7ms)
I, [2020-04-01T12:32:39.941353 #3394]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:32:39.941992 #3394]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:32:39.942602 #3394]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:32:39.943195 #3394]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:32:39.944094 #3394]  INFO -- : Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:32:39.947443 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:32:39.948815 #3394] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:32:39.949156 #3394]  INFO -- : --------------------------------------------
I, [2020-04-01T12:32:39.949221 #3394]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T12:32:39.949272 #3394]  INFO -- : --------------------------------------------
D, [2020-04-01T12:32:39.950147 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.951400 #3394] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "065242640"], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.952703 #3394] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "065242640"], ["date_of_birth", "2001-04-01"], ["phone", "0060200206"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:32:39.954013 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:32:39.954876 #3394]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 12:32:39 +0000
I, [2020-04-01T12:32:39.955623 #3394]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T12:32:39.956468 #3394]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:32:39.963114 #3394]  INFO -- :   Rendered employees/_form.html.erb (6.3ms)
I, [2020-04-01T12:32:39.963467 #3394]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.7ms)
I, [2020-04-01T12:32:39.964583 #3394]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:32:39.965140 #3394]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:32:39.965718 #3394]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:32:39.966350 #3394]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:32:39.967166 #3394]  INFO -- : Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:32:39.969997 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:32:39.970903 #3394] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:32:39.971218 #3394]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T12:32:39.971284 #3394]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T12:32:39.971336 #3394]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T12:32:39.972185 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.973402 #3394] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "151937817"], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.974727 #3394] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "151937817"], ["date_of_birth", "2001-04-01"], ["phone", "6986809073"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:32:39.975935 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:32:39.976829 #3394]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 12:32:39 +0000
I, [2020-04-01T12:32:39.977673 #3394]  INFO -- : Processing by EmployeesController#destroy as HTML
I, [2020-04-01T12:32:39.977977 #3394]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:32:39.978718 #3394] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:32:39.979760 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:32:39.980651 #3394] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T12:32:39.981570 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:32:39.982334 #3394]  INFO -- : Redirected to http://www.example.com/employees
I, [2020-04-01T12:32:39.983149 #3394]  INFO -- : Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
D, [2020-04-01T12:32:39.986081 #3394] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:36:54.442172 #3675] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T12:36:54.500945 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:36:54.501284 #3675]  INFO -- : --------------------------------------------
I, [2020-04-01T12:36:54.501334 #3675]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T12:36:54.501367 #3675]  INFO -- : --------------------------------------------
D, [2020-04-01T12:36:54.570678 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:54.573108 #3675] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "055439035"], ["LIMIT", 1]]
D, [2020-04-01T12:36:54.574561 #3675] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "055439035"], ["date_of_birth", "2001-04-01"], ["phone", "2928584285"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:36:54.575643 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:36:54.577898 #3675]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 12:36:54 +0000
I, [2020-04-01T12:36:54.584333 #3675]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T12:36:54.590924 #3675]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:36:54.735001 #3675]  INFO -- :   Rendered employees/_form.html.erb (142.5ms)
I, [2020-04-01T12:36:54.735479 #3675]  INFO -- :   Rendered employees/new.html.erb within layouts/application (144.2ms)
I, [2020-04-01T12:36:54.911501 #3675]  INFO -- :   Rendered partials/_topbar.html.erb (0.7ms)
I, [2020-04-01T12:36:54.914045 #3675]  INFO -- :   Rendered partials/_nav.html.erb (1.1ms)
I, [2020-04-01T12:36:54.916792 #3675]  INFO -- :   Rendered partials/_quick_links.html.erb (1.2ms)
I, [2020-04-01T12:36:54.919715 #3675]  INFO -- :   Rendered partials/_footer.html.erb (1.4ms)
I, [2020-04-01T12:36:54.922791 #3675]  INFO -- : Completed 200 OK in 337ms (Views: 331.1ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:36:54.934130 #3675] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:36:54.935248 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:36:54.935547 #3675]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:36:54.935624 #3675]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T12:36:54.936322 #3675]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:36:54.937446 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:54.939474 #3675] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "278277332"], ["LIMIT", 1]]
D, [2020-04-01T12:36:54.941432 #3675] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "278277332"], ["date_of_birth", "2001-04-01"], ["phone", "4667792969"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:36:54.943388 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:36:54.949289 #3675]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:36:54 +0000
I, [2020-04-01T12:36:54.950507 #3675]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:36:54.951008 #3675]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:36:54.952017 #3675] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:36:54.952841 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:54.956209 #3675] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T12:36:54.958260 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:36:54.959352 #3675]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:36:54.972370 #3675]  INFO -- :   Rendered employees/_form.html.erb (11.7ms)
I, [2020-04-01T12:36:54.972760 #3675]  INFO -- :   Rendered employees/new.html.erb within layouts/application (13.1ms)
I, [2020-04-01T12:36:54.975956 #3675]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:36:54.976676 #3675]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:36:54.977437 #3675]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:36:54.978265 #3675]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:36:54.980378 #3675]  INFO -- : Completed 200 OK in 29ms (Views: 19.6ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:36:54.993282 #3675] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:36:54.994633 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:36:54.994919 #3675]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:36:54.994994 #3675]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T12:36:54.995066 #3675]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:36:54.997336 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.002579 #3675] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "021988114"], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.005304 #3675] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "021988114"], ["date_of_birth", "2001-04-01"], ["phone", "5177597843"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:36:55.007309 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:36:55.009223 #3675]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:36:55 +0000
I, [2020-04-01T12:36:55.011059 #3675]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:36:55.011350 #3675]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:36:55.012855 #3675] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.015448 #3675] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:36:55.016154 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.018462 #3675] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "021988114"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.021191 #3675] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "date_of_birth" = ?, "phone" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["date_of_birth", "1994-04-01"], ["phone", "4122683259"], ["id", 1]]
D, [2020-04-01T12:36:55.024130 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:36:55.025779 #3675]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T12:36:55.029641 #3675]  INFO -- : Completed 302 Found in 18ms (ActiveRecord: 0.5ms)
D, [2020-04-01T12:36:55.043412 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:36:55.044623 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:36:55.044898 #3675]  INFO -- : ---------------------------------------------
I, [2020-04-01T12:36:55.044971 #3675]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T12:36:55.045118 #3675]  INFO -- : ---------------------------------------------
D, [2020-04-01T12:36:55.046307 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.047916 #3675] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "230836146"], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.049868 #3675] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "230836146"], ["date_of_birth", "2001-04-01"], ["phone", "4081837028"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:36:55.051610 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:36:55.052851 #3675]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 12:36:55 +0000
I, [2020-04-01T12:36:55.054003 #3675]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T12:36:55.054286 #3675]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:36:55.055342 #3675] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:36:55.057286 #3675]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:36:55.066285 #3675]  INFO -- :   Rendered employees/_form.html.erb (8.1ms)
I, [2020-04-01T12:36:55.066757 #3675]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (9.1ms)
I, [2020-04-01T12:36:55.068183 #3675]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T12:36:55.068889 #3675]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:36:55.069616 #3675]  INFO -- :   Rendered partials/_quick_links.html.erb (0.3ms)
I, [2020-04-01T12:36:55.070549 #3675]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:36:55.071781 #3675]  INFO -- : Completed 200 OK in 17ms (Views: 14.0ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:36:55.080389 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:36:55.081136 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:36:55.081458 #3675]  INFO -- : ----------------------------------------------
I, [2020-04-01T12:36:55.081556 #3675]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T12:36:55.081649 #3675]  INFO -- : ----------------------------------------------
D, [2020-04-01T12:36:55.082567 #3675] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.083987 #3675] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "341392019"], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.085355 #3675] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "341392019"], ["date_of_birth", "2001-04-01"], ["phone", "3966038645"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:36:55.086652 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:36:55.087669 #3675]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 12:36:55 +0000
I, [2020-04-01T12:36:55.088495 #3675]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T12:36:55.090187 #3675]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T12:36:55.091373 #3675] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T12:36:55.092586 #3675]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.1ms)
I, [2020-04-01T12:36:55.093758 #3675]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:36:55.094343 #3675]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:36:55.094981 #3675]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:36:55.095640 #3675]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:36:55.096443 #3675]  INFO -- : Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:36:55.099508 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:36:55.100392 #3675] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:36:55.100734 #3675]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T12:36:55.100823 #3675]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T12:36:55.100898 #3675]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T12:36:55.101776 #3675] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.102953 #3675] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "001887713"], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.104277 #3675] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "001887713"], ["date_of_birth", "2001-04-01"], ["phone", "7076223283"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:36:55.105567 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:36:55.106498 #3675]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 12:36:55 +0000
I, [2020-04-01T12:36:55.107237 #3675]  INFO -- : Processing by EmployeesController#destroy as HTML
I, [2020-04-01T12:36:55.107508 #3675]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:36:55.108161 #3675] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.109139 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.110114 #3675] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T12:36:55.110993 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:36:55.111786 #3675]  INFO -- : Redirected to http://www.example.com/employees
I, [2020-04-01T12:36:55.112574 #3675]  INFO -- : Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
D, [2020-04-01T12:36:55.115900 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:36:55.116729 #3675] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:36:55.117020 #3675]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:36:55.117125 #3675]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T12:36:55.117209 #3675]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:36:55.118089 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.119312 #3675] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "245972152"], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.120606 #3675] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "245972152"], ["date_of_birth", "2001-04-01"], ["phone", "9525877627"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:36:55.121780 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.122659 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T12:36:55.123885 #3675]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:36:55 +0000
I, [2020-04-01T12:36:55.124606 #3675]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:36:55.124879 #3675]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:36:55.125558 #3675] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:36:55.126143 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.128174 #3675] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T12:36:55.129409 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:36:55.130295 #3675]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:36:55.137393 #3675]  INFO -- :   Rendered employees/_form.html.erb (6.7ms)
I, [2020-04-01T12:36:55.137834 #3675]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.2ms)
I, [2020-04-01T12:36:55.138974 #3675]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:36:55.139563 #3675]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:36:55.140182 #3675]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:36:55.140817 #3675]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:36:55.141898 #3675]  INFO -- : Completed 200 OK in 17ms (Views: 11.2ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:36:55.145844 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T12:36:55.146611 #3675] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:36:55.147588 #3675] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:36:55.147877 #3675]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:36:55.147966 #3675]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T12:36:55.148038 #3675]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:36:55.148910 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.150123 #3675] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "260474519"], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.151539 #3675] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "260474519"], ["date_of_birth", "2001-04-01"], ["phone", "3580383355"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:36:55.152838 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:36:55.153901 #3675]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:36:55 +0000
I, [2020-04-01T12:36:55.154830 #3675]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:36:55.155125 #3675]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:36:55.155837 #3675] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.156897 #3675] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:36:55.157302 #3675] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.159262 #3675] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "260474519"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.160920 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:36:55.161741 #3675]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:36:55.168651 #3675]  INFO -- :   Rendered employees/_form.html.erb (6.5ms)
I, [2020-04-01T12:36:55.169037 #3675]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.0ms)
I, [2020-04-01T12:36:55.170280 #3675]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:36:55.170849 #3675]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:36:55.171447 #3675]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:36:55.172083 #3675]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:36:55.173225 #3675]  INFO -- : Completed 200 OK in 18ms (Views: 11.0ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:36:55.177431 #3675] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:36:55.178153 #3675] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:36:55.178513 #3675]  INFO -- : --------------------------------------------------
I, [2020-04-01T12:36:55.178584 #3675]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T12:36:55.178638 #3675]  INFO -- : --------------------------------------------------
D, [2020-04-01T12:36:55.179527 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.180688 #3675] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "331966846"], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.182119 #3675] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "331966846"], ["date_of_birth", "2001-04-01"], ["phone", "3432115896"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:36:55.183323 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.194906 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.196310 #3675] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.197709 #3675] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2209113740"], ["active", 1]]
D, [2020-04-01T12:36:55.198961 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.212945 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:36:55.214381 #3675] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:36:55.215517 #3675] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:36:55.216701 #3675] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.223455 #3675] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:36:55.224594 #3675] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:36:55.225480 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:36:55.226630 #3675]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 12:36:55 +0000
I, [2020-04-01T12:36:55.227550 #3675]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T12:36:55.227827 #3675]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:36:55.228643 #3675] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:36:55.230388 #3675]  INFO -- :   Rendering employees/show.html.erb within layouts/application
I, [2020-04-01T12:36:55.231419 #3675]  INFO -- :   Rendered employees/show.html.erb within layouts/application (0.7ms)
I, [2020-04-01T12:36:55.232685 #3675]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:36:55.233293 #3675]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:36:55.233980 #3675]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:36:55.234603 #3675]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:36:55.235511 #3675]  INFO -- : Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:36:55.238886 #3675] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:37:14.756770 #3712] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T12:37:14.815988 #3712] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:37:14.816328 #3712]  INFO -- : ----------------------------------------------
I, [2020-04-01T12:37:14.816377 #3712]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T12:37:14.816408 #3712]  INFO -- : ----------------------------------------------
D, [2020-04-01T12:37:14.885690 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:14.888064 #3712] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "280173941"], ["LIMIT", 1]]
D, [2020-04-01T12:37:14.889419 #3712] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "280173941"], ["date_of_birth", "2001-04-01"], ["phone", "1405451810"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:37:14.890570 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:37:14.892769 #3712]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 12:37:14 +0000
I, [2020-04-01T12:37:14.899157 #3712]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T12:37:14.906058 #3712]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T12:37:14.907686 #3712] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T12:37:14.909550 #3712]  INFO -- :   Rendered employees/index.html.erb within layouts/application (3.2ms)
I, [2020-04-01T12:37:15.078455 #3712]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T12:37:15.079672 #3712]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T12:37:15.080918 #3712]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T12:37:15.082271 #3712]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T12:37:15.083225 #3712]  INFO -- : Completed 200 OK in 184ms (Views: 178.4ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:37:15.088425 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:37:15.089494 #3712] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:37:15.089981 #3712]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T12:37:15.090121 #3712]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T12:37:15.090181 #3712]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T12:37:15.091263 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.092805 #3712] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "310337492"], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.094234 #3712] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "310337492"], ["date_of_birth", "2001-04-01"], ["phone", "5328315234"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:37:15.095423 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:37:15.096462 #3712]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 12:37:15 +0000
F, [2020-04-01T12:37:15.114022 #3712] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T12:37:15.117194 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:37:15.117947 #3712] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:37:15.118227 #3712]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:37:15.118303 #3712]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T12:37:15.118380 #3712]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:37:15.119281 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.120590 #3712] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "003770622"], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.121960 #3712] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "003770622"], ["date_of_birth", "2001-04-01"], ["phone", "9367812305"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:37:15.123301 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:37:15.124440 #3712]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:37:15 +0000
I, [2020-04-01T12:37:15.128459 #3712]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:37:15.128758 #3712]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:37:15.130102 #3712] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.131183 #3712] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:37:15.131630 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.268481 #3712] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "003770622"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.272570 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:37:15.274611 #3712]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:37:15.330146 #3712]  INFO -- :   Rendered employees/_form.html.erb (53.8ms)
I, [2020-04-01T12:37:15.330575 #3712]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (55.6ms)
I, [2020-04-01T12:37:15.332704 #3712]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:37:15.333254 #3712]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:37:15.334462 #3712]  INFO -- :   Rendered partials/_quick_links.html.erb (0.8ms)
I, [2020-04-01T12:37:15.335640 #3712]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:37:15.338063 #3712]  INFO -- : Completed 200 OK in 208ms (Views: 62.6ms | ActiveRecord: 0.5ms)
D, [2020-04-01T12:37:15.347754 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:37:15.349068 #3712] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:37:15.349362 #3712]  INFO -- : ---------------------------------------------
I, [2020-04-01T12:37:15.349546 #3712]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T12:37:15.349653 #3712]  INFO -- : ---------------------------------------------
D, [2020-04-01T12:37:15.351800 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.353850 #3712] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "295041815"], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.355841 #3712] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "295041815"], ["date_of_birth", "2001-04-01"], ["phone", "6206549009"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:37:15.359507 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:37:15.361917 #3712]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 12:37:15 +0000
I, [2020-04-01T12:37:15.363590 #3712]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T12:37:15.364350 #3712]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:37:15.365754 #3712] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:37:15.368074 #3712]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:37:15.389832 #3712]  INFO -- :   Rendered employees/_form.html.erb (21.3ms)
I, [2020-04-01T12:37:15.390291 #3712]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (21.9ms)
I, [2020-04-01T12:37:15.391367 #3712]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:37:15.391868 #3712]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:37:15.392492 #3712]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:37:15.393140 #3712]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:37:15.394077 #3712]  INFO -- : Completed 200 OK in 29ms (Views: 26.2ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:37:15.397579 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:37:15.398287 #3712] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:37:15.398575 #3712]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:37:15.398650 #3712]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T12:37:15.398710 #3712]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:37:15.399839 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.401250 #3712] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "373700469"], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.402626 #3712] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "373700469"], ["date_of_birth", "2001-04-01"], ["phone", "6677032911"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:37:15.403886 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:37:15.405729 #3712]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:37:15 +0000
I, [2020-04-01T12:37:15.406690 #3712]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:37:15.406979 #3712]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:37:15.407795 #3712] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:37:15.408423 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.410941 #3712] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T12:37:15.412212 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:37:15.413519 #3712]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:37:15.420779 #3712]  INFO -- :   Rendered employees/_form.html.erb (6.6ms)
I, [2020-04-01T12:37:15.421157 #3712]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.4ms)
I, [2020-04-01T12:37:15.422341 #3712]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:37:15.422908 #3712]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:37:15.423527 #3712]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:37:15.424156 #3712]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:37:15.425175 #3712]  INFO -- : Completed 200 OK in 18ms (Views: 11.7ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:37:15.428748 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:37:15.429453 #3712] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:37:15.429772 #3712]  INFO -- : --------------------------------------------------
I, [2020-04-01T12:37:15.429943 #3712]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T12:37:15.430020 #3712]  INFO -- : --------------------------------------------------
D, [2020-04-01T12:37:15.430901 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.432164 #3712] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "370164833"], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.433544 #3712] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "370164833"], ["date_of_birth", "2001-04-01"], ["phone", "0685163459"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:37:15.434863 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.446142 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.447485 #3712] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.448787 #3712] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9976890117"], ["active", 1]]
D, [2020-04-01T12:37:15.449958 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.463441 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.464754 #3712] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:37:15.465884 #3712] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:37:15.467022 #3712] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.473488 #3712] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.474588 #3712] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:37:15.475544 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:37:15.476604 #3712]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 12:37:15 +0000
I, [2020-04-01T12:37:15.477480 #3712]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T12:37:15.477800 #3712]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:37:15.478543 #3712] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:37:15.480229 #3712]  INFO -- :   Rendering employees/show.html.erb within layouts/application
I, [2020-04-01T12:37:15.481264 #3712]  INFO -- :   Rendered employees/show.html.erb within layouts/application (0.7ms)
I, [2020-04-01T12:37:15.482542 #3712]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:37:15.483076 #3712]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:37:15.483692 #3712]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:37:15.484256 #3712]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:37:15.485161 #3712]  INFO -- : Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:37:15.488614 #3712] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:37:15.489528 #3712] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:37:15.489827 #3712]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:37:15.489983 #3712]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T12:37:15.490080 #3712]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:37:15.490969 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.492349 #3712] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "386650329"], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.493702 #3712] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "386650329"], ["date_of_birth", "2001-04-01"], ["phone", "3888327171"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:37:15.494991 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:37:15.495980 #3712]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:37:15 +0000
I, [2020-04-01T12:37:15.496924 #3712]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:37:15.497207 #3712]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:37:15.497958 #3712] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.499048 #3712] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:37:15.499481 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.501028 #3712] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "386650329"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.502562 #3712] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "date_of_birth" = ?, "phone" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["date_of_birth", "1994-04-01"], ["phone", "4122683259"], ["id", 1]]
D, [2020-04-01T12:37:15.503811 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:37:15.504680 #3712]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T12:37:15.505760 #3712]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T12:37:15.515558 #3712] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:37:15.516546 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:37:15.516876 #3712]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:37:15.516984 #3712]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T12:37:15.517121 #3712]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:37:15.518003 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.519243 #3712] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "257047369"], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.520614 #3712] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "257047369"], ["date_of_birth", "2001-04-01"], ["phone", "7702134071"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:37:15.522008 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.522890 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T12:37:15.523984 #3712]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:37:15 +0000
I, [2020-04-01T12:37:15.524759 #3712]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:37:15.525049 #3712]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:37:15.525755 #3712] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:37:15.526391 #3712] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.528561 #3712] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T12:37:15.529733 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:37:15.530646 #3712]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:37:15.537874 #3712]  INFO -- :   Rendered employees/_form.html.erb (6.7ms)
I, [2020-04-01T12:37:15.538224 #3712]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.3ms)
I, [2020-04-01T12:37:15.539418 #3712]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:37:15.540004 #3712]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:37:15.540656 #3712]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:37:15.541244 #3712]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:37:15.542336 #3712]  INFO -- : Completed 200 OK in 17ms (Views: 11.3ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:37:15.546253 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T12:37:15.546990 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:37:15.547881 #3712] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:37:15.548238 #3712]  INFO -- : --------------------------------------------
I, [2020-04-01T12:37:15.548310 #3712]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T12:37:15.548370 #3712]  INFO -- : --------------------------------------------
D, [2020-04-01T12:37:15.549264 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:37:15.550580 #3712] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "059984355"], ["LIMIT", 1]]
D, [2020-04-01T12:37:15.551859 #3712] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "059984355"], ["date_of_birth", "2001-04-01"], ["phone", "1338434585"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:37:15.553135 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:37:15.554105 #3712]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 12:37:15 +0000
I, [2020-04-01T12:37:15.554934 #3712]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T12:37:15.555823 #3712]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:37:15.562513 #3712]  INFO -- :   Rendered employees/_form.html.erb (6.2ms)
I, [2020-04-01T12:37:15.562853 #3712]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.8ms)
I, [2020-04-01T12:37:15.563929 #3712]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:37:15.564473 #3712]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:37:15.565129 #3712]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:37:15.565746 #3712]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:37:15.566660 #3712]  INFO -- : Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:37:15.569470 #3712] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:41:40.929279 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T12:41:40.987482 #4070] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:41:40.987794 #4070]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:41:40.987884 #4070]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T12:41:40.987910 #4070]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:41:41.055572 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.057870 #4070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "371359665"], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.059203 #4070] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "371359665"], ["date_of_birth", "2001-04-01"], ["phone", "2452087530"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:41:41.060257 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:41:41.062672 #4070]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:41:41 +0000
I, [2020-04-01T12:41:41.071790 #4070]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:41:41.072089 #4070]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:41:41.076707 #4070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.078316 #4070] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:41:41.078737 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.080393 #4070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "371359665"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.081938 #4070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "date_of_birth" = ?, "phone" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["date_of_birth", "1994-04-01"], ["phone", "4122683259"], ["id", 1]]
D, [2020-04-01T12:41:41.083118 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:41:41.084158 #4070]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T12:41:41.085149 #4070]  INFO -- : Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
D, [2020-04-01T12:41:41.096442 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:41:41.097914 #4070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:41:41.098260 #4070]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:41:41.098333 #4070]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T12:41:41.098392 #4070]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:41:41.099247 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.100510 #4070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "095632436"], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.101836 #4070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "095632436"], ["date_of_birth", "2001-04-01"], ["phone", "9210607584"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:41:41.103073 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:41:41.104659 #4070]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:41:41 +0000
I, [2020-04-01T12:41:41.105535 #4070]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:41:41.105806 #4070]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:41:41.106516 #4070] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:41:41.107148 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.218010 #4070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T12:41:41.219291 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:41:41.222472 #4070]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:41:41.252571 #4070]  INFO -- :   Rendered employees/_form.html.erb (28.5ms)
I, [2020-04-01T12:41:41.252950 #4070]  INFO -- :   Rendered employees/new.html.erb within layouts/application (30.2ms)
I, [2020-04-01T12:41:41.441723 #4070]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T12:41:41.443290 #4070]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T12:41:41.445079 #4070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T12:41:41.446840 #4070]  INFO -- :   Rendered partials/_footer.html.erb (0.7ms)
I, [2020-04-01T12:41:41.448580 #4070]  INFO -- : Completed 200 OK in 342ms (Views: 227.4ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:41:41.455245 #4070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:41:41.456481 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:41:41.456958 #4070]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T12:41:41.457042 #4070]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T12:41:41.457100 #4070]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T12:41:41.458350 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.460214 #4070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "211154871"], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.462093 #4070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "211154871"], ["date_of_birth", "2001-04-01"], ["phone", "2511660100"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:41:41.464311 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:41:41.465929 #4070]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 12:41:41 +0000
F, [2020-04-01T12:41:41.489188 #4070] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T12:41:41.498152 #4070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:41:41.499887 #4070] DEBUG -- :   [1m[35m (1.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:41:41.500195 #4070]  INFO -- : --------------------------------------------------
I, [2020-04-01T12:41:41.500266 #4070]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T12:41:41.500333 #4070]  INFO -- : --------------------------------------------------
D, [2020-04-01T12:41:41.502038 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.504696 #4070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "349136455"], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.507589 #4070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "349136455"], ["date_of_birth", "2001-04-01"], ["phone", "7679756905"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:41:41.514125 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.531106 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.533232 #4070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.535803 #4070] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4101565457"], ["active", 1]]
D, [2020-04-01T12:41:41.540020 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.560082 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.561827 #4070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:41:41.563341 #4070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:41:41.564764 #4070] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.573317 #4070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.574758 #4070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:41:41.575959 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:41:41.577277 #4070]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 12:41:41 +0000
I, [2020-04-01T12:41:41.578354 #4070]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T12:41:41.578730 #4070]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:41:41.579674 #4070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:41:41.581655 #4070]  INFO -- :   Rendering employees/show.html.erb within layouts/application
I, [2020-04-01T12:41:41.582935 #4070]  INFO -- :   Rendered employees/show.html.erb within layouts/application (0.8ms)
I, [2020-04-01T12:41:41.588177 #4070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:41:41.588739 #4070]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:41:41.589328 #4070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:41:41.590015 #4070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:41:41.590910 #4070]  INFO -- : Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:41:41.594438 #4070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:41:41.596307 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:41:41.596895 #4070]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:41:41.597074 #4070]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T12:41:41.597207 #4070]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:41:41.599105 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.601938 #4070] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "287255749"], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.604905 #4070] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "287255749"], ["date_of_birth", "2001-04-01"], ["phone", "5575890762"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:41:41.607506 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.609206 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T12:41:41.611461 #4070]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:41:41 +0000
I, [2020-04-01T12:41:41.612967 #4070]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:41:41.613501 #4070]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:41:41.614894 #4070] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:41:41.616124 #4070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.619800 #4070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T12:41:41.622045 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:41:41.623629 #4070]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:41:41.635634 #4070]  INFO -- :   Rendered employees/_form.html.erb (11.3ms)
I, [2020-04-01T12:41:41.636297 #4070]  INFO -- :   Rendered employees/new.html.erb within layouts/application (12.1ms)
I, [2020-04-01T12:41:41.638175 #4070]  INFO -- :   Rendered partials/_topbar.html.erb (0.5ms)
I, [2020-04-01T12:41:41.639164 #4070]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:41:41.640188 #4070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:41:41.641295 #4070]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T12:41:41.643197 #4070]  INFO -- : Completed 200 OK in 29ms (Views: 18.8ms | ActiveRecord: 0.4ms)
D, [2020-04-01T12:41:41.649795 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T12:41:41.650957 #4070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:41:41.652305 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:41:41.652732 #4070]  INFO -- : ----------------------------------------------
I, [2020-04-01T12:41:41.652849 #4070]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T12:41:41.652945 #4070]  INFO -- : ----------------------------------------------
D, [2020-04-01T12:41:41.654316 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.656352 #4070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "012054843"], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.658400 #4070] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "012054843"], ["date_of_birth", "2001-04-01"], ["phone", "0462974855"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:41:41.660274 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:41:41.661646 #4070]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 12:41:41 +0000
I, [2020-04-01T12:41:41.662770 #4070]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T12:41:41.665188 #4070]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T12:41:41.667065 #4070] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T12:41:41.668885 #4070]  INFO -- :   Rendered employees/index.html.erb within layouts/application (3.2ms)
I, [2020-04-01T12:41:41.670441 #4070]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T12:41:41.671291 #4070]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:41:41.672173 #4070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:41:41.673011 #4070]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T12:41:41.674315 #4070]  INFO -- : Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:41:41.678926 #4070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:41:41.680057 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:41:41.680475 #4070]  INFO -- : ---------------------------------------------
I, [2020-04-01T12:41:41.680585 #4070]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T12:41:41.680673 #4070]  INFO -- : ---------------------------------------------
D, [2020-04-01T12:41:41.681865 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.683630 #4070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "079899198"], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.685606 #4070] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "079899198"], ["date_of_birth", "2001-04-01"], ["phone", "7764624603"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:41:41.687430 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:41:41.688653 #4070]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 12:41:41 +0000
I, [2020-04-01T12:41:41.689689 #4070]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T12:41:41.690069 #4070]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:41:41.691052 #4070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:41:41.693165 #4070]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:41:41.702686 #4070]  INFO -- :   Rendered employees/_form.html.erb (8.5ms)
I, [2020-04-01T12:41:41.703179 #4070]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (9.6ms)
I, [2020-04-01T12:41:41.704617 #4070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:41:41.705357 #4070]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:41:41.706199 #4070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.3ms)
I, [2020-04-01T12:41:41.707012 #4070]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T12:41:41.708121 #4070]  INFO -- : Completed 200 OK in 18ms (Views: 14.7ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:41:41.712269 #4070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:41:41.713073 #4070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:41:41.713402 #4070]  INFO -- : --------------------------------------------
I, [2020-04-01T12:41:41.713498 #4070]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T12:41:41.713579 #4070]  INFO -- : --------------------------------------------
D, [2020-04-01T12:41:41.714640 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.716213 #4070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "367082699"], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.717898 #4070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "367082699"], ["date_of_birth", "2001-04-01"], ["phone", "6229041036"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:41:41.719500 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:41:41.720611 #4070]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 12:41:41 +0000
I, [2020-04-01T12:41:41.721544 #4070]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T12:41:41.722635 #4070]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:41:41.730614 #4070]  INFO -- :   Rendered employees/_form.html.erb (7.5ms)
I, [2020-04-01T12:41:41.731109 #4070]  INFO -- :   Rendered employees/new.html.erb within layouts/application (8.1ms)
I, [2020-04-01T12:41:41.732374 #4070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:41:41.733074 #4070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:41:41.733780 #4070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:41:41.734534 #4070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:41:41.735548 #4070]  INFO -- : Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:41:41.738848 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:41:41.739573 #4070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:41:41.739875 #4070]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:41:41.739963 #4070]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T12:41:41.740054 #4070]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:41:41.741007 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.742453 #4070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "030039901"], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.743968 #4070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "030039901"], ["date_of_birth", "2001-04-01"], ["phone", "1694641075"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:41:41.745422 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:41:41.746609 #4070]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:41:41 +0000
I, [2020-04-01T12:41:41.747580 #4070]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:41:41.747882 #4070]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:41:41.748682 #4070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.749881 #4070] DEBUG -- : Unpermitted parameter: :ssn
D, [2020-04-01T12:41:41.750346 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:41:41.752572 #4070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "030039901"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:41:41.754455 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:41:41.755380 #4070]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:41:41.762513 #4070]  INFO -- :   Rendered employees/_form.html.erb (6.7ms)
I, [2020-04-01T12:41:41.762904 #4070]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.2ms)
I, [2020-04-01T12:41:41.764093 #4070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:41:41.764647 #4070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:41:41.765274 #4070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:41:41.765947 #4070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:41:41.767137 #4070]  INFO -- : Completed 200 OK in 19ms (Views: 11.3ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:41:41.771551 #4070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:49:50.784537 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T12:49:50.844781 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:49:50.845405 #4606]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:49:50.845486 #4606]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T12:49:50.845533 #4606]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:49:50.951201 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:50.954665 #4606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "209977229"], ["LIMIT", 1]]
D, [2020-04-01T12:49:50.956294 #4606] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "209977229"], ["date_of_birth", "2001-04-01"], ["phone", "8661270906"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:49:50.957689 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:49:50.960602 #4606]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:49:50 +0000
I, [2020-04-01T12:49:50.971540 #4606]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:49:50.971928 #4606]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:49:50.977432 #4606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:49:50.979466 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:50.981360 #4606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:49:50.983773 #4606] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "date_of_birth" = ?, "phone" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["date_of_birth", "1994-04-01"], ["phone", "4122683259"], ["id", 1]]
D, [2020-04-01T12:49:50.985156 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:49:50.986350 #4606]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T12:49:50.987477 #4606]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
D, [2020-04-01T12:49:50.998446 #4606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:49:50.999501 #4606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:49:50.999801 #4606]  INFO -- : ----------------------------------------------
I, [2020-04-01T12:49:50.999910 #4606]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T12:49:50.999972 #4606]  INFO -- : ----------------------------------------------
D, [2020-04-01T12:49:51.000912 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.002317 #4606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "241437646"], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.003760 #4606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "241437646"], ["date_of_birth", "2001-04-01"], ["phone", "5833506786"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:49:51.005072 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:49:51.006203 #4606]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 12:49:51 +0000
I, [2020-04-01T12:49:51.007159 #4606]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T12:49:51.010823 #4606]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T12:49:51.012606 #4606] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T12:49:51.013940 #4606]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.8ms)
I, [2020-04-01T12:49:51.178485 #4606]  INFO -- :   Rendered partials/_topbar.html.erb (0.7ms)
I, [2020-04-01T12:49:51.179781 #4606]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T12:49:51.181059 #4606]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T12:49:51.182384 #4606]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T12:49:51.183349 #4606]  INFO -- : Completed 200 OK in 176ms (Views: 173.9ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:49:51.187354 #4606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:49:51.188282 #4606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:49:51.188554 #4606]  INFO -- : ---------------------------------------------
I, [2020-04-01T12:49:51.188659 #4606]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T12:49:51.188719 #4606]  INFO -- : ---------------------------------------------
D, [2020-04-01T12:49:51.189781 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.191266 #4606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "083977754"], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.192651 #4606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "083977754"], ["date_of_birth", "2001-04-01"], ["phone", "4924854499"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:49:51.193914 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:49:51.194979 #4606]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 12:49:51 +0000
I, [2020-04-01T12:49:51.195986 #4606]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T12:49:51.196262 #4606]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:49:51.197114 #4606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:49:51.198733 #4606]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:49:51.390410 #4606]  INFO -- :   Rendered employees/_form.html.erb (190.6ms)
I, [2020-04-01T12:49:51.390824 #4606]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (191.8ms)
I, [2020-04-01T12:49:51.393087 #4606]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T12:49:51.394349 #4606]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:49:51.394944 #4606]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:49:51.395869 #4606]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:49:51.397519 #4606]  INFO -- : Completed 200 OK in 201ms (Views: 197.8ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:49:51.404922 #4606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:49:51.406327 #4606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:49:51.406638 #4606]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:49:51.406712 #4606]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T12:49:51.406781 #4606]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:49:51.408215 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.409923 #4606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "127200238"], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.411676 #4606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "127200238"], ["date_of_birth", "2001-04-01"], ["phone", "7725378177"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:49:51.413442 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.415750 #4606] DEBUG -- :   [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T12:49:51.418762 #4606]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:49:51 +0000
I, [2020-04-01T12:49:51.420403 #4606]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:49:51.420729 #4606]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:49:51.423172 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.425162 #4606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.427953 #4606] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:49:51.431099 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:49:51.433050 #4606]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T12:49:51.435597 #4606]  INFO -- : Completed 302 Found in 14ms (ActiveRecord: 0.3ms)
D, [2020-04-01T12:49:51.454915 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T12:49:51.457908 #4606] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:49:51.458819 #4606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:49:51.459128 #4606]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:49:51.459201 #4606]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T12:49:51.459261 #4606]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:49:51.460323 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.461791 #4606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "338155636"], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.463229 #4606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "338155636"], ["date_of_birth", "2001-04-01"], ["phone", "4718719074"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:49:51.464464 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:49:51.465688 #4606]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:49:51 +0000
I, [2020-04-01T12:49:51.466724 #4606]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:49:51.467011 #4606]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:49:51.467825 #4606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.469011 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.471133 #4606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.472749 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:49:51.473715 #4606]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:49:51.480722 #4606]  INFO -- :   Rendered employees/_form.html.erb (6.5ms)
I, [2020-04-01T12:49:51.481073 #4606]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.1ms)
I, [2020-04-01T12:49:51.482222 #4606]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:49:51.482798 #4606]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:49:51.483363 #4606]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:49:51.483990 #4606]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:49:51.485090 #4606]  INFO -- : Completed 200 OK in 18ms (Views: 11.0ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:49:51.488950 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:49:51.489565 #4606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:49:51.489844 #4606]  INFO -- : --------------------------------------------
I, [2020-04-01T12:49:51.489918 #4606]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T12:49:51.489980 #4606]  INFO -- : --------------------------------------------
D, [2020-04-01T12:49:51.490767 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.491926 #4606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "322721906"], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.493179 #4606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "322721906"], ["date_of_birth", "2001-04-01"], ["phone", "8782321266"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:49:51.494396 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:49:51.495322 #4606]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 12:49:51 +0000
I, [2020-04-01T12:49:51.496143 #4606]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T12:49:51.497564 #4606]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:49:51.504605 #4606]  INFO -- :   Rendered employees/_form.html.erb (6.3ms)
I, [2020-04-01T12:49:51.504976 #4606]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.1ms)
I, [2020-04-01T12:49:51.506103 #4606]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:49:51.506687 #4606]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:49:51.507267 #4606]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:49:51.507896 #4606]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:49:51.508777 #4606]  INFO -- : Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:49:51.511624 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:49:51.512233 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:49:51.512524 #4606]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:49:51.512612 #4606]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T12:49:51.512678 #4606]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:49:51.513479 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.514865 #4606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "380746149"], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.516180 #4606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "380746149"], ["date_of_birth", "2001-04-01"], ["phone", "4716035314"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:49:51.517433 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:49:51.518622 #4606]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:49:51 +0000
I, [2020-04-01T12:49:51.519380 #4606]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:49:51.519718 #4606]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:49:51.520713 #4606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.522483 #4606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.523885 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:49:51.524769 #4606]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:49:51.531588 #4606]  INFO -- :   Rendered employees/_form.html.erb (6.4ms)
I, [2020-04-01T12:49:51.531976 #4606]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.9ms)
I, [2020-04-01T12:49:51.533008 #4606]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T12:49:51.533517 #4606]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:49:51.534108 #4606]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:49:51.534723 #4606]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:49:51.535801 #4606]  INFO -- : Completed 200 OK in 16ms (Views: 10.6ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:49:51.539557 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:49:51.540151 #4606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:49:51.540481 #4606]  INFO -- : --------------------------------------------------
I, [2020-04-01T12:49:51.540566 #4606]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T12:49:51.540624 #4606]  INFO -- : --------------------------------------------------
D, [2020-04-01T12:49:51.541433 #4606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.542670 #4606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "229255103"], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.544120 #4606] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "229255103"], ["date_of_birth", "2001-04-01"], ["phone", "6269696790"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:49:51.545329 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.556378 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.557708 #4606] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.558993 #4606] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8604091562"], ["active", 1]]
D, [2020-04-01T12:49:51.560208 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.573539 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.574996 #4606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:49:51.576124 #4606] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:49:51.577211 #4606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.583751 #4606] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.584949 #4606] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:49:51.585876 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:49:51.586995 #4606]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 12:49:51 +0000
I, [2020-04-01T12:49:51.587931 #4606]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T12:49:51.588226 #4606]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:49:51.589020 #4606] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:49:51.590753 #4606]  INFO -- :   Rendering employees/show.html.erb within layouts/application
I, [2020-04-01T12:49:51.591852 #4606]  INFO -- :   Rendered employees/show.html.erb within layouts/application (0.8ms)
I, [2020-04-01T12:49:51.593176 #4606]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T12:49:51.593755 #4606]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:49:51.594387 #4606]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:49:51.595051 #4606]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:49:51.596052 #4606]  INFO -- : Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:49:51.599804 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:49:51.600696 #4606] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:49:51.600972 #4606]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T12:49:51.601049 #4606]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T12:49:51.601111 #4606]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T12:49:51.602071 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:49:51.603417 #4606] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "157022412"], ["LIMIT", 1]]
D, [2020-04-01T12:49:51.604798 #4606] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "157022412"], ["date_of_birth", "2001-04-01"], ["phone", "7340775708"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:49:51.606060 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:49:51.606935 #4606]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 12:49:51 +0000
F, [2020-04-01T12:49:51.622688 #4606] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T12:49:51.625702 #4606] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:53:18.853784 #4841] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T12:53:18.914070 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:53:18.914447 #4841]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:53:18.914486 #4841]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T12:53:18.914508 #4841]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:53:18.983883 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:18.986225 #4841] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "375770687"], ["LIMIT", 1]]
D, [2020-04-01T12:53:18.987528 #4841] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "375770687"], ["date_of_birth", "2001-04-01"], ["phone", "6749436536"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:53:18.988584 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:53:18.994440 #4841]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:53:18 +0000
I, [2020-04-01T12:53:19.000721 #4841]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:53:19.000998 #4841]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:53:19.005757 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.119728 #4841] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.121068 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:53:19.124323 #4841]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:53:19.155313 #4841]  INFO -- :   Rendered employees/_form.html.erb (29.4ms)
I, [2020-04-01T12:53:19.155713 #4841]  INFO -- :   Rendered employees/new.html.erb within layouts/application (31.1ms)
I, [2020-04-01T12:53:19.355896 #4841]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T12:53:19.357604 #4841]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T12:53:19.359209 #4841]  INFO -- :   Rendered partials/_quick_links.html.erb (0.7ms)
I, [2020-04-01T12:53:19.361130 #4841]  INFO -- :   Rendered partials/_footer.html.erb (0.8ms)
I, [2020-04-01T12:53:19.362959 #4841]  INFO -- : Completed 200 OK in 362ms (Views: 239.9ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:53:19.373944 #4841] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:53:19.376884 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:53:19.377889 #4841]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T12:53:19.377971 #4841]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T12:53:19.378034 #4841]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T12:53:19.379748 #4841] DEBUG -- :   [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.382174 #4841] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "326209398"], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.383968 #4841] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "326209398"], ["date_of_birth", "2001-04-01"], ["phone", "8298768820"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:53:19.386452 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:53:19.388205 #4841]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 12:53:19 +0000
F, [2020-04-01T12:53:19.418375 #4841] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T12:53:19.425219 #4841] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:53:19.427686 #4841] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:53:19.427974 #4841]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:53:19.428048 #4841]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T12:53:19.428110 #4841]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:53:19.429416 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.431491 #4841] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "054768581"], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.433742 #4841] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "054768581"], ["date_of_birth", "2001-04-01"], ["phone", "7515063375"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:53:19.436126 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.437711 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T12:53:19.439752 #4841]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:53:19 +0000
I, [2020-04-01T12:53:19.441477 #4841]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:53:19.441822 #4841]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:53:19.444037 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.447883 #4841] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.450777 #4841] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:53:19.453486 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:53:19.454719 #4841]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T12:53:19.456096 #4841]  INFO -- : Completed 302 Found in 14ms (ActiveRecord: 0.3ms)
D, [2020-04-01T12:53:19.461460 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T12:53:19.467741 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:53:19.468880 #4841] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:53:19.469275 #4841]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:53:19.469352 #4841]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T12:53:19.469410 #4841]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:53:19.470483 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.472072 #4841] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "214121362"], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.473864 #4841] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "214121362"], ["date_of_birth", "2001-04-01"], ["phone", "5087727940"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:53:19.475703 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:53:19.476982 #4841]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:53:19 +0000
I, [2020-04-01T12:53:19.478300 #4841]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:53:19.478566 #4841]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:53:19.479896 #4841] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.482243 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.484639 #4841] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.487017 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:53:19.488596 #4841]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:53:19.497369 #4841]  INFO -- :   Rendered employees/_form.html.erb (8.0ms)
I, [2020-04-01T12:53:19.497778 #4841]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (8.8ms)
I, [2020-04-01T12:53:19.499335 #4841]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:53:19.499994 #4841]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:53:19.500663 #4841]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:53:19.501390 #4841]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T12:53:19.502901 #4841]  INFO -- : Completed 200 OK in 24ms (Views: 14.1ms | ActiveRecord: 0.4ms)
D, [2020-04-01T12:53:19.511488 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:53:19.512277 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:53:19.512558 #4841]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:53:19.512640 #4841]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T12:53:19.512702 #4841]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:53:19.513721 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.515084 #4841] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "071380745"], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.516490 #4841] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "071380745"], ["date_of_birth", "2001-04-01"], ["phone", "6025942503"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:53:19.517757 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:53:19.518960 #4841]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:53:19 +0000
I, [2020-04-01T12:53:19.519971 #4841]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:53:19.520212 #4841]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:53:19.521072 #4841] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.522284 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.523864 #4841] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.525554 #4841] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "date_of_birth" = ?, "phone" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["date_of_birth", "1994-04-01"], ["phone", "4122683259"], ["id", 1]]
D, [2020-04-01T12:53:19.526861 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:53:19.527704 #4841]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T12:53:19.528674 #4841]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T12:53:19.535946 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:53:19.536906 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:53:19.537205 #4841]  INFO -- : ---------------------------------------------
I, [2020-04-01T12:53:19.537273 #4841]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T12:53:19.537343 #4841]  INFO -- : ---------------------------------------------
D, [2020-04-01T12:53:19.538256 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.539517 #4841] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "259819283"], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.540804 #4841] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "259819283"], ["date_of_birth", "2001-04-01"], ["phone", "8175478133"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:53:19.542088 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:53:19.543051 #4841]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 12:53:19 +0000
I, [2020-04-01T12:53:19.543834 #4841]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T12:53:19.544122 #4841]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:53:19.544840 #4841] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:53:19.546205 #4841]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:53:19.553164 #4841]  INFO -- :   Rendered employees/_form.html.erb (6.5ms)
I, [2020-04-01T12:53:19.553562 #4841]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.1ms)
I, [2020-04-01T12:53:19.554822 #4841]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:53:19.555427 #4841]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:53:19.555999 #4841]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:53:19.556605 #4841]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:53:19.557485 #4841]  INFO -- : Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:53:19.560892 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:53:19.561638 #4841] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:53:19.561931 #4841]  INFO -- : --------------------------------------------
I, [2020-04-01T12:53:19.562001 #4841]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T12:53:19.562079 #4841]  INFO -- : --------------------------------------------
D, [2020-04-01T12:53:19.562930 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.564243 #4841] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "244215677"], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.565547 #4841] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "244215677"], ["date_of_birth", "2001-04-01"], ["phone", "8731448293"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:53:19.566887 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:53:19.567809 #4841]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 12:53:19 +0000
I, [2020-04-01T12:53:19.568570 #4841]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T12:53:19.569383 #4841]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:53:19.575873 #4841]  INFO -- :   Rendered employees/_form.html.erb (6.1ms)
I, [2020-04-01T12:53:19.576268 #4841]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.6ms)
I, [2020-04-01T12:53:19.577323 #4841]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:53:19.578038 #4841]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:53:19.578614 #4841]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:53:19.579208 #4841]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:53:19.580131 #4841]  INFO -- : Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:53:19.582963 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:53:19.583619 #4841] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:53:19.583888 #4841]  INFO -- : ----------------------------------------------
I, [2020-04-01T12:53:19.584075 #4841]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T12:53:19.584137 #4841]  INFO -- : ----------------------------------------------
D, [2020-04-01T12:53:19.584914 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.586308 #4841] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "365444405"], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.587638 #4841] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "365444405"], ["date_of_birth", "2001-04-01"], ["phone", "1614879893"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:53:19.588961 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:53:19.589874 #4841]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 12:53:19 +0000
I, [2020-04-01T12:53:19.590610 #4841]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T12:53:19.592270 #4841]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T12:53:19.593537 #4841] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T12:53:19.594934 #4841]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.3ms)
I, [2020-04-01T12:53:19.596013 #4841]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:53:19.596629 #4841]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:53:19.597204 #4841]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:53:19.597858 #4841]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:53:19.598710 #4841]  INFO -- : Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:53:19.601974 #4841] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:53:19.602836 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:53:19.603180 #4841]  INFO -- : --------------------------------------------------
I, [2020-04-01T12:53:19.603252 #4841]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T12:53:19.603311 #4841]  INFO -- : --------------------------------------------------
D, [2020-04-01T12:53:19.604129 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.605441 #4841] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "022637176"], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.606840 #4841] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "022637176"], ["date_of_birth", "2001-04-01"], ["phone", "1961719422"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:53:19.608079 #4841] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.619624 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.620949 #4841] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.622264 #4841] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0443707954"], ["active", 1]]
D, [2020-04-01T12:53:19.623462 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.636487 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:53:19.637870 #4841] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:53:19.638995 #4841] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:53:19.640120 #4841] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.646687 #4841] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:53:19.647766 #4841] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:53:19.648752 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:53:19.649891 #4841]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 12:53:19 +0000
I, [2020-04-01T12:53:19.650716 #4841]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T12:53:19.650959 #4841]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:53:19.651783 #4841] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:53:19.653487 #4841]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T12:53:19.663239 #4841] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:32:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T12:53:19.666569 #4841] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:55:06.533701 #4968] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T12:55:06.606866 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:55:06.607597 #4968]  INFO -- : --------------------------------------------------
I, [2020-04-01T12:55:06.607682 #4968]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T12:55:06.607730 #4968]  INFO -- : --------------------------------------------------
D, [2020-04-01T12:55:06.714370 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:06.717076 #4968] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "332019472"], ["LIMIT", 1]]
D, [2020-04-01T12:55:06.718731 #4968] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "332019472"], ["date_of_birth", "2001-04-01"], ["phone", "3196861387"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:55:06.720114 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:06.732419 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:06.733705 #4968] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:55:06.734894 #4968] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4586773160"], ["active", 1]]
D, [2020-04-01T12:55:06.736051 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:06.750192 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:06.751508 #4968] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:55:06.753064 #4968] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:55:06.754343 #4968] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:55:06.760727 #4968] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:55:06.761723 #4968] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:55:06.762518 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:55:06.764744 #4968]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 12:55:06 +0000
I, [2020-04-01T12:55:06.770765 #4968]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T12:55:06.771018 #4968]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:55:06.775236 #4968] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:55:06.776995 #4968]  INFO -- : Completed 500  in 6ms (ActiveRecord: 0.1ms)
F, [2020-04-01T12:55:06.787701 #4968] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x000056074141ce88>:
  app/controllers/employees_controller.rb:32:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T12:55:06.799223 #4968] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:55:06.803084 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:55:06.803390 #4968]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:55:06.803469 #4968]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T12:55:06.803520 #4968]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:55:06.804510 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:06.806065 #4968] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "360235128"], ["LIMIT", 1]]
D, [2020-04-01T12:55:06.807463 #4968] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "360235128"], ["date_of_birth", "2001-04-01"], ["phone", "4577657048"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:55:06.808671 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:55:06.813186 #4968]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:55:06 +0000
I, [2020-04-01T12:55:06.814198 #4968]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:55:06.814445 #4968]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:55:06.815489 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:06.920334 #4968] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T12:55:06.921761 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:55:06.924990 #4968]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:55:06.955068 #4968]  INFO -- :   Rendered employees/_form.html.erb (28.4ms)
I, [2020-04-01T12:55:06.955486 #4968]  INFO -- :   Rendered employees/new.html.erb within layouts/application (30.2ms)
I, [2020-04-01T12:55:07.145927 #4968]  INFO -- :   Rendered partials/_topbar.html.erb (2.1ms)
I, [2020-04-01T12:55:07.148601 #4968]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T12:55:07.151214 #4968]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T12:55:07.154127 #4968]  INFO -- :   Rendered partials/_footer.html.erb (1.3ms)
I, [2020-04-01T12:55:07.156979 #4968]  INFO -- : Completed 200 OK in 342ms (Views: 232.2ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:55:07.167840 #4968] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:55:07.169671 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:55:07.170516 #4968]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:55:07.170594 #4968]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T12:55:07.170654 #4968]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:55:07.172302 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:07.175216 #4968] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "026083065"], ["LIMIT", 1]]
D, [2020-04-01T12:55:07.177935 #4968] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "026083065"], ["date_of_birth", "2001-04-01"], ["phone", "4718174378"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:55:07.181746 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:55:07.184130 #4968]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:55:07 +0000
I, [2020-04-01T12:55:07.185989 #4968]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:55:07.186928 #4968]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:55:07.188397 #4968] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:55:07.190956 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:07.194069 #4968] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:55:07.196500 #4968] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "date_of_birth" = ?, "phone" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["date_of_birth", "1994-04-01"], ["phone", "4122683259"], ["id", 1]]
D, [2020-04-01T12:55:07.198807 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:55:07.203848 #4968]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T12:55:07.206158 #4968]  INFO -- : Completed 302 Found in 19ms (ActiveRecord: 0.4ms)
D, [2020-04-01T12:55:07.220518 #4968] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:55:07.225781 #4968] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:55:07.226383 #4968]  INFO -- : ---------------------------------------------
I, [2020-04-01T12:55:07.226476 #4968]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T12:55:07.226552 #4968]  INFO -- : ---------------------------------------------
D, [2020-04-01T12:55:07.240809 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:07.242387 #4968] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "281468798"], ["LIMIT", 1]]
D, [2020-04-01T12:55:07.243820 #4968] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "281468798"], ["date_of_birth", "2001-04-01"], ["phone", "2879186185"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:55:07.245119 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:55:07.246263 #4968]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 12:55:07 +0000
I, [2020-04-01T12:55:07.247224 #4968]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T12:55:07.247484 #4968]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:55:07.248292 #4968] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:55:07.250044 #4968]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:55:07.257662 #4968]  INFO -- :   Rendered employees/_form.html.erb (6.8ms)
I, [2020-04-01T12:55:07.258082 #4968]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.7ms)
I, [2020-04-01T12:55:07.259253 #4968]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:55:07.259791 #4968]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:55:07.260382 #4968]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:55:07.260981 #4968]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:55:07.261911 #4968]  INFO -- : Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:55:07.265090 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:55:07.267219 #4968] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:55:07.267517 #4968]  INFO -- : ----------------------------------------------
I, [2020-04-01T12:55:07.267598 #4968]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T12:55:07.267657 #4968]  INFO -- : ----------------------------------------------
D, [2020-04-01T12:55:07.268684 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:07.269971 #4968] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "359566992"], ["LIMIT", 1]]
D, [2020-04-01T12:55:07.271247 #4968] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "359566992"], ["date_of_birth", "2001-04-01"], ["phone", "0669566536"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:55:07.272439 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:55:07.273284 #4968]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 12:55:07 +0000
I, [2020-04-01T12:55:07.273987 #4968]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T12:55:07.275613 #4968]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T12:55:07.276798 #4968] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T12:55:07.278027 #4968]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.1ms)
I, [2020-04-01T12:55:07.279078 #4968]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T12:55:07.279635 #4968]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:55:07.280196 #4968]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:55:07.280789 #4968]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:55:07.281589 #4968]  INFO -- : Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:55:07.284629 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:55:07.287368 #4968] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:55:07.287668 #4968]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:55:07.287743 #4968]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T12:55:07.287800 #4968]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:55:07.288602 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:07.289923 #4968] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "204918036"], ["LIMIT", 1]]
D, [2020-04-01T12:55:07.291220 #4968] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "204918036"], ["date_of_birth", "2001-04-01"], ["phone", "0089665041"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:55:07.292362 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:55:07.293406 #4968]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:55:07 +0000
I, [2020-04-01T12:55:07.294289 #4968]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:55:07.294566 #4968]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:55:07.295294 #4968] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:55:07.296390 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:07.298362 #4968] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:55:07.299954 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:55:07.300815 #4968]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:55:07.307570 #4968]  INFO -- :   Rendered employees/_form.html.erb (6.4ms)
I, [2020-04-01T12:55:07.307946 #4968]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (6.8ms)
I, [2020-04-01T12:55:07.309043 #4968]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:55:07.309681 #4968]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:55:07.310265 #4968]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:55:07.310862 #4968]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:55:07.311953 #4968]  INFO -- : Completed 200 OK in 17ms (Views: 10.7ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:55:07.316189 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:55:07.318229 #4968] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:55:07.318509 #4968]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:55:07.318578 #4968]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T12:55:07.318661 #4968]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:55:07.319491 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:07.320692 #4968] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "094794166"], ["LIMIT", 1]]
D, [2020-04-01T12:55:07.322106 #4968] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "094794166"], ["date_of_birth", "2001-04-01"], ["phone", "9438158246"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:55:07.323282 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:07.324145 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T12:55:07.325263 #4968]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:55:07 +0000
I, [2020-04-01T12:55:07.326049 #4968]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:55:07.326355 #4968]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:55:07.327324 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:07.328530 #4968] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T12:55:07.329983 #4968] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:55:07.331194 #4968] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:55:07.331999 #4968]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T12:55:07.332944 #4968]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-01T12:55:07.336716 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T12:55:07.340674 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:55:07.345342 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:55:07.345646 #4968]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T12:55:07.345724 #4968]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T12:55:07.345784 #4968]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T12:55:07.346587 #4968] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:07.347824 #4968] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "012041457"], ["LIMIT", 1]]
D, [2020-04-01T12:55:07.349167 #4968] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "012041457"], ["date_of_birth", "2001-04-01"], ["phone", "0925339702"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:55:07.350573 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:55:07.351382 #4968]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 12:55:07 +0000
F, [2020-04-01T12:55:07.367098 #4968] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T12:55:07.370073 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:55:07.372019 #4968] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:55:07.372348 #4968]  INFO -- : --------------------------------------------
I, [2020-04-01T12:55:07.372428 #4968]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T12:55:07.372503 #4968]  INFO -- : --------------------------------------------
D, [2020-04-01T12:55:07.373330 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:55:07.374710 #4968] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "038157895"], ["LIMIT", 1]]
D, [2020-04-01T12:55:07.375986 #4968] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "038157895"], ["date_of_birth", "2001-04-01"], ["phone", "3351676796"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:55:07.377210 #4968] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:55:07.378199 #4968]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 12:55:07 +0000
I, [2020-04-01T12:55:07.378955 #4968]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T12:55:07.379900 #4968]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:55:07.386569 #4968]  INFO -- :   Rendered employees/_form.html.erb (6.3ms)
I, [2020-04-01T12:55:07.386952 #4968]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.8ms)
I, [2020-04-01T12:55:07.388190 #4968]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:55:07.388758 #4968]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:55:07.389369 #4968]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:55:07.390031 #4968]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:55:07.390930 #4968]  INFO -- : Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:55:07.393785 #4968] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:56:09.119227 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T12:56:09.175346 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:56:09.175658 #5057]  INFO -- : ----------------------------------------------
I, [2020-04-01T12:56:09.175695 #5057]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T12:56:09.175716 #5057]  INFO -- : ----------------------------------------------
D, [2020-04-01T12:56:09.244541 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.246894 #5057] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "167057355"], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.248254 #5057] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "167057355"], ["date_of_birth", "2001-04-01"], ["phone", "4314547467"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:56:09.249333 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:56:09.251578 #5057]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 12:56:09 +0000
I, [2020-04-01T12:56:09.257729 #5057]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T12:56:09.264529 #5057]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T12:56:09.266249 #5057] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T12:56:09.268205 #5057]  INFO -- :   Rendered employees/index.html.erb within layouts/application (3.4ms)
I, [2020-04-01T12:56:09.440787 #5057]  INFO -- :   Rendered partials/_topbar.html.erb (0.7ms)
I, [2020-04-01T12:56:09.442177 #5057]  INFO -- :   Rendered partials/_nav.html.erb (0.5ms)
I, [2020-04-01T12:56:09.443428 #5057]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T12:56:09.444789 #5057]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T12:56:09.445878 #5057]  INFO -- : Completed 200 OK in 188ms (Views: 182.3ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:56:09.451288 #5057] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:56:09.452257 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:56:09.452551 #5057]  INFO -- : ---------------------------------------------
I, [2020-04-01T12:56:09.452631 #5057]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T12:56:09.452687 #5057]  INFO -- : ---------------------------------------------
D, [2020-04-01T12:56:09.453785 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.455356 #5057] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "148930475"], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.456767 #5057] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "148930475"], ["date_of_birth", "2001-04-01"], ["phone", "4799383739"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:56:09.458126 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:56:09.459233 #5057]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 12:56:09 +0000
I, [2020-04-01T12:56:09.460222 #5057]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T12:56:09.460460 #5057]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:56:09.461611 #5057] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:56:09.463299 #5057]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:56:09.631948 #5057]  INFO -- :   Rendered employees/_form.html.erb (167.5ms)
I, [2020-04-01T12:56:09.633139 #5057]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (168.8ms)
I, [2020-04-01T12:56:09.635900 #5057]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T12:56:09.637187 #5057]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:56:09.638526 #5057]  INFO -- :   Rendered partials/_quick_links.html.erb (0.9ms)
I, [2020-04-01T12:56:09.639856 #5057]  INFO -- :   Rendered partials/_footer.html.erb (0.9ms)
I, [2020-04-01T12:56:09.642900 #5057]  INFO -- : Completed 200 OK in 181ms (Views: 178.0ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:56:09.654165 #5057] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:56:09.654893 #5057] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:56:09.655821 #5057]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:56:09.655923 #5057]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T12:56:09.655992 #5057]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:56:09.657615 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.659632 #5057] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "105773863"], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.662371 #5057] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "105773863"], ["date_of_birth", "2001-04-01"], ["phone", "5968779942"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:56:09.665142 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:56:09.672332 #5057]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:56:09 +0000
I, [2020-04-01T12:56:09.673915 #5057]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:56:09.674243 #5057]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:56:09.676076 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.678557 #5057] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.680991 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:56:09.683044 #5057]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:56:09.694591 #5057]  INFO -- :   Rendered employees/_form.html.erb (10.1ms)
I, [2020-04-01T12:56:09.695148 #5057]  INFO -- :   Rendered employees/new.html.erb within layouts/application (11.6ms)
I, [2020-04-01T12:56:09.696557 #5057]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:56:09.697531 #5057]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:56:09.698706 #5057]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:56:09.699356 #5057]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:56:09.702504 #5057]  INFO -- : Completed 200 OK in 27ms (Views: 18.3ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:56:09.714697 #5057] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:56:09.715828 #5057] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:56:09.716133 #5057]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:56:09.716208 #5057]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T12:56:09.716279 #5057]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:56:09.717758 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.719511 #5057] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "092088944"], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.734755 #5057] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "092088944"], ["date_of_birth", "2001-04-01"], ["phone", "8417246124"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:56:09.736143 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:56:09.737447 #5057]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:56:09 +0000
I, [2020-04-01T12:56:09.738620 #5057]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:56:09.738878 #5057]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:56:09.739705 #5057] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.740904 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.743127 #5057] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.744772 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:56:09.745703 #5057]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:56:09.752485 #5057]  INFO -- :   Rendered employees/_form.html.erb (6.4ms)
I, [2020-04-01T12:56:09.752827 #5057]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (6.9ms)
I, [2020-04-01T12:56:09.753948 #5057]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:56:09.754494 #5057]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:56:09.755063 #5057]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:56:09.755637 #5057]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:56:09.756701 #5057]  INFO -- : Completed 200 OK in 18ms (Views: 10.6ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:56:09.760637 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:56:09.761284 #5057] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:56:09.761575 #5057]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T12:56:09.761669 #5057]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T12:56:09.761743 #5057]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T12:56:09.762602 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.763852 #5057] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "055033504"], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.765176 #5057] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "055033504"], ["date_of_birth", "2001-04-01"], ["phone", "3771218061"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:56:09.766365 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:56:09.767257 #5057]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 12:56:09 +0000
F, [2020-04-01T12:56:09.782464 #5057] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T12:56:09.784986 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:56:09.785603 #5057] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:56:09.785976 #5057]  INFO -- : --------------------------------------------
I, [2020-04-01T12:56:09.786061 #5057]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T12:56:09.786137 #5057]  INFO -- : --------------------------------------------
D, [2020-04-01T12:56:09.786999 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.788248 #5057] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "314577396"], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.789537 #5057] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "314577396"], ["date_of_birth", "2001-04-01"], ["phone", "2316355326"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:56:09.790772 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:56:09.791753 #5057]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 12:56:09 +0000
I, [2020-04-01T12:56:09.792564 #5057]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T12:56:09.793530 #5057]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:56:09.799990 #5057]  INFO -- :   Rendered employees/_form.html.erb (6.0ms)
I, [2020-04-01T12:56:09.800362 #5057]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.5ms)
I, [2020-04-01T12:56:09.801434 #5057]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:56:09.802098 #5057]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:56:09.802647 #5057]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:56:09.803211 #5057]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:56:09.804049 #5057]  INFO -- : Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:56:09.806848 #5057] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:56:09.807483 #5057] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:56:09.807775 #5057]  INFO -- : --------------------------------------------------
I, [2020-04-01T12:56:09.807852 #5057]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T12:56:09.807929 #5057]  INFO -- : --------------------------------------------------
D, [2020-04-01T12:56:09.808716 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.810106 #5057] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "048710422"], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.811358 #5057] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "048710422"], ["date_of_birth", "2001-04-01"], ["phone", "2025400484"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:56:09.812464 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.823504 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.824826 #5057] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.826175 #5057] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0981716538"], ["active", 1]]
D, [2020-04-01T12:56:09.827328 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.840404 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.841727 #5057] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:56:09.842832 #5057] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:56:09.843939 #5057] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.850138 #5057] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.851162 #5057] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:56:09.852039 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:56:09.853026 #5057]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 12:56:09 +0000
I, [2020-04-01T12:56:09.853918 #5057]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T12:56:09.854160 #5057]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:56:09.854944 #5057] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:56:09.856719 #5057]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T12:56:09.865560 #5057] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x00005653117e99a0>:
  app/controllers/employees_controller.rb:32:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T12:56:09.868946 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:56:09.869780 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:56:09.870111 #5057]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:56:09.870200 #5057]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T12:56:09.870266 #5057]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:56:09.871196 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.872523 #5057] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "218016233"], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.873953 #5057] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "218016233"], ["date_of_birth", "2001-04-01"], ["phone", "6888399205"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:56:09.875215 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:56:09.876332 #5057]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:56:09 +0000
I, [2020-04-01T12:56:09.877262 #5057]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:56:09.877538 #5057]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:56:09.878302 #5057] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.879466 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.881049 #5057] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.882786 #5057] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "date_of_birth" = ?, "phone" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["date_of_birth", "1994-04-01"], ["phone", "4122683259"], ["id", 1]]
D, [2020-04-01T12:56:09.884054 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:56:09.884920 #5057]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T12:56:09.886011 #5057]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
D, [2020-04-01T12:56:09.895877 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:56:09.896698 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:56:09.896994 #5057]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:56:09.897076 #5057]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T12:56:09.897157 #5057]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:56:09.898037 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.899283 #5057] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "187396765"], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.900622 #5057] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "187396765"], ["date_of_birth", "2001-04-01"], ["phone", "0656196258"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:56:09.902077 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.902942 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T12:56:09.904104 #5057]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:56:09 +0000
I, [2020-04-01T12:56:09.904832 #5057]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:56:09.905137 #5057]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:56:09.906232 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:56:09.907476 #5057] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T12:56:09.908842 #5057] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:56:09.910281 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:56:09.911057 #5057]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T12:56:09.912068 #5057]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-01T12:56:09.916152 #5057] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T12:56:09.919727 #5057] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:58:02.642416 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T12:58:02.700644 #5186] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:58:02.700950 #5186]  INFO -- : ---------------------------------------------
I, [2020-04-01T12:58:02.700990 #5186]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T12:58:02.701011 #5186]  INFO -- : ---------------------------------------------
D, [2020-04-01T12:58:02.768351 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:02.770813 #5186] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "257549240"], ["LIMIT", 1]]
D, [2020-04-01T12:58:02.772187 #5186] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "257549240"], ["date_of_birth", "2001-04-01"], ["phone", "6217419822"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:58:02.773302 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:58:02.775640 #5186]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 12:58:02 +0000
I, [2020-04-01T12:58:02.782007 #5186]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T12:58:02.782239 #5186]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:58:02.786823 #5186] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:58:02.790626 #5186]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:58:02.930914 #5186]  INFO -- :   Rendered employees/_form.html.erb (138.7ms)
I, [2020-04-01T12:58:02.931367 #5186]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (140.4ms)
I, [2020-04-01T12:58:03.115891 #5186]  INFO -- :   Rendered partials/_topbar.html.erb (1.4ms)
I, [2020-04-01T12:58:03.118296 #5186]  INFO -- :   Rendered partials/_nav.html.erb (0.9ms)
I, [2020-04-01T12:58:03.120949 #5186]  INFO -- :   Rendered partials/_quick_links.html.erb (1.1ms)
I, [2020-04-01T12:58:03.123545 #5186]  INFO -- :   Rendered partials/_footer.html.erb (1.2ms)
I, [2020-04-01T12:58:03.125677 #5186]  INFO -- : Completed 200 OK in 343ms (Views: 335.3ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:58:03.134915 #5186] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:58:03.136527 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:58:03.136859 #5186]  INFO -- : --------------------------------------------
I, [2020-04-01T12:58:03.136933 #5186]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T12:58:03.136994 #5186]  INFO -- : --------------------------------------------
D, [2020-04-01T12:58:03.138461 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.140388 #5186] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "298842280"], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.142270 #5186] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "298842280"], ["date_of_birth", "2001-04-01"], ["phone", "7788053947"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:58:03.144197 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:58:03.145497 #5186]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 12:58:03 +0000
I, [2020-04-01T12:58:03.146709 #5186]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T12:58:03.148402 #5186]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:58:03.159041 #5186]  INFO -- :   Rendered employees/_form.html.erb (10.0ms)
I, [2020-04-01T12:58:03.159955 #5186]  INFO -- :   Rendered employees/new.html.erb within layouts/application (10.7ms)
I, [2020-04-01T12:58:03.162530 #5186]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T12:58:03.163901 #5186]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:58:03.165146 #5186]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:58:03.167185 #5186]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:58:03.169230 #5186]  INFO -- : Completed 200 OK in 22ms (Views: 19.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:58:03.176406 #5186] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:58:03.178296 #5186] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:58:03.178590 #5186]  INFO -- : --------------------------------------------------
I, [2020-04-01T12:58:03.178683 #5186]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T12:58:03.178742 #5186]  INFO -- : --------------------------------------------------
D, [2020-04-01T12:58:03.180378 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.183238 #5186] DEBUG -- :   [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "166000146"], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.186264 #5186] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "166000146"], ["date_of_birth", "2001-04-01"], ["phone", "1477760119"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:58:03.190356 #5186] DEBUG -- :   [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.211702 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.213826 #5186] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.216170 #5186] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8836500223"], ["active", 1]]
D, [2020-04-01T12:58:03.219407 #5186] DEBUG -- :   [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.241771 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.243527 #5186] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:58:03.244959 #5186] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:58:03.246503 #5186] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.257438 #5186] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.258638 #5186] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:58:03.259631 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:58:03.260820 #5186]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 12:58:03 +0000
I, [2020-04-01T12:58:03.261823 #5186]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T12:58:03.262080 #5186]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:58:03.262940 #5186] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:58:03.264827 #5186]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T12:58:03.273908 #5186] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x0000561411989290>:
  app/controllers/employees_controller.rb:32:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T12:58:03.277637 #5186] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:58:03.279406 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:58:03.280027 #5186]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:58:03.280178 #5186]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T12:58:03.280302 #5186]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:58:03.282346 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.285185 #5186] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "045856423"], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.287932 #5186] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "045856423"], ["date_of_birth", "2001-04-01"], ["phone", "2871631530"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:58:03.290354 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:58:03.292616 #5186]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:58:03 +0000
I, [2020-04-01T12:58:03.300465 #5186]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:58:03.300971 #5186]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:58:03.302493 #5186] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.304712 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.307859 #5186] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.310718 #5186] DEBUG -- :   [1m[36mEmployee Update (0.2ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T12:58:03.312796 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:58:03.314316 #5186]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T12:58:03.315948 #5186]  INFO -- : Completed 302 Found in 14ms (ActiveRecord: 0.7ms)
D, [2020-04-01T12:58:03.329345 #5186] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:58:03.331717 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:58:03.332149 #5186]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:58:03.332315 #5186]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T12:58:03.332413 #5186]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:58:03.334075 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.336235 #5186] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "058086352"], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.338503 #5186] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "058086352"], ["date_of_birth", "2001-04-01"], ["phone", "5204038824"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:58:03.340400 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:58:03.342279 #5186]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:58:03 +0000
I, [2020-04-01T12:58:03.343812 #5186]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:58:03.344253 #5186]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:58:03.345400 #5186] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.347199 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.350341 #5186] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.352719 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:58:03.354029 #5186]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:58:03.363774 #5186]  INFO -- :   Rendered employees/_form.html.erb (9.1ms)
I, [2020-04-01T12:58:03.364237 #5186]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (9.8ms)
I, [2020-04-01T12:58:03.365936 #5186]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T12:58:03.366716 #5186]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T12:58:03.367512 #5186]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:58:03.368359 #5186]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T12:58:03.369838 #5186]  INFO -- : Completed 200 OK in 25ms (Views: 15.3ms | ActiveRecord: 0.4ms)
D, [2020-04-01T12:58:03.375586 #5186] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:58:03.376790 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:58:03.377133 #5186]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T12:58:03.377222 #5186]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T12:58:03.377335 #5186]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T12:58:03.378576 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.380317 #5186] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "256209025"], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.382068 #5186] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "256209025"], ["date_of_birth", "2001-04-01"], ["phone", "5993049980"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:58:03.383579 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:58:03.384797 #5186]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 12:58:03 +0000
F, [2020-04-01T12:58:03.403616 #5186] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T12:58:03.407194 #5186] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:58:03.408345 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:58:03.408659 #5186]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:58:03.408742 #5186]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T12:58:03.408827 #5186]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:58:03.409968 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.411525 #5186] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "281310922"], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.413074 #5186] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "281310922"], ["date_of_birth", "2001-04-01"], ["phone", "2508048121"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:58:03.414542 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.415517 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T12:58:03.417417 #5186]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:58:03 +0000
I, [2020-04-01T12:58:03.418564 #5186]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:58:03.418881 #5186]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:58:03.420106 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.421543 #5186] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.423034 #5186] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:58:03.424397 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:58:03.425330 #5186]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T12:58:03.426407 #5186]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-04-01T12:58:03.430679 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T12:58:03.434286 #5186] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:58:03.435662 #5186] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:58:03.435978 #5186]  INFO -- : ----------------------------------------------
I, [2020-04-01T12:58:03.436052 #5186]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T12:58:03.436111 #5186]  INFO -- : ----------------------------------------------
D, [2020-04-01T12:58:03.437120 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.438469 #5186] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "063914020"], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.439854 #5186] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "063914020"], ["date_of_birth", "2001-04-01"], ["phone", "0464841016"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:58:03.441138 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:58:03.442247 #5186]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 12:58:03 +0000
I, [2020-04-01T12:58:03.443118 #5186]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T12:58:03.444942 #5186]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T12:58:03.446417 #5186] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T12:58:03.447834 #5186]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.5ms)
I, [2020-04-01T12:58:03.449117 #5186]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:58:03.449758 #5186]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:58:03.450375 #5186]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T12:58:03.451016 #5186]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:58:03.451954 #5186]  INFO -- : Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:58:03.455561 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:58:03.457023 #5186] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:58:03.457320 #5186]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:58:03.457391 #5186]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T12:58:03.457450 #5186]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:58:03.458432 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.459874 #5186] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "340916518"], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.461247 #5186] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "340916518"], ["date_of_birth", "2001-04-01"], ["phone", "7055295036"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:58:03.462479 #5186] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:58:03.463772 #5186]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:58:03 +0000
I, [2020-04-01T12:58:03.464613 #5186]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:58:03.464907 #5186]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:58:03.466018 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:58:03.467824 #5186] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T12:58:03.469110 #5186] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:58:03.470038 #5186]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:58:03.477047 #5186]  INFO -- :   Rendered employees/_form.html.erb (6.6ms)
I, [2020-04-01T12:58:03.477415 #5186]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.1ms)
I, [2020-04-01T12:58:03.478561 #5186]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T12:58:03.479157 #5186]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T12:58:03.479767 #5186]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T12:58:03.480408 #5186]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T12:58:03.481485 #5186]  INFO -- : Completed 200 OK in 16ms (Views: 11.1ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:58:03.485374 #5186] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:00:08.926342 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T13:00:08.984062 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:00:08.984464 #5339]  INFO -- : ----------------------------------------------
I, [2020-04-01T13:00:08.984512 #5339]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T13:00:08.984534 #5339]  INFO -- : ----------------------------------------------
D, [2020-04-01T13:00:09.052909 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.055318 #5339] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "345261983"], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.056661 #5339] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "345261983"], ["date_of_birth", "2001-04-01"], ["phone", "6526587398"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:00:09.057735 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:00:09.059944 #5339]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 13:00:09 +0000
I, [2020-04-01T13:00:09.066262 #5339]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T13:00:09.073107 #5339]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T13:00:09.074900 #5339] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T13:00:09.077110 #5339]  INFO -- :   Rendered employees/index.html.erb within layouts/application (3.6ms)
I, [2020-04-01T13:00:09.240860 #5339]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T13:00:09.242169 #5339]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T13:00:09.243459 #5339]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T13:00:09.244859 #5339]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T13:00:09.245848 #5339]  INFO -- : Completed 200 OK in 179ms (Views: 173.9ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:00:09.251258 #5339] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:00:09.252240 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:00:09.252540 #5339]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T13:00:09.252625 #5339]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T13:00:09.252682 #5339]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T13:00:09.253783 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.255330 #5339] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "286942779"], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.256735 #5339] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "286942779"], ["date_of_birth", "2001-04-01"], ["phone", "8803385130"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:00:09.258047 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:00:09.259312 #5339]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 13:00:09 +0000
I, [2020-04-01T13:00:09.263425 #5339]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T13:00:09.263711 #5339]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:00:09.264903 #5339] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.266170 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.389434 #5339] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.391863 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:00:09.393596 #5339]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T13:00:09.459049 #5339]  INFO -- :   Rendered employees/_form.html.erb (63.2ms)
I, [2020-04-01T13:00:09.460237 #5339]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (65.5ms)
I, [2020-04-01T13:00:09.463068 #5339]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:00:09.463614 #5339]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:00:09.464987 #5339]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:00:09.466319 #5339]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:00:09.468759 #5339]  INFO -- : Completed 200 OK in 205ms (Views: 74.1ms | ActiveRecord: 0.4ms)
D, [2020-04-01T13:00:09.479148 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:00:09.479903 #5339] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:00:09.480181 #5339]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:00:09.480496 #5339]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T13:00:09.480569 #5339]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:00:09.481539 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.483742 #5339] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "195550361"], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.485764 #5339] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "195550361"], ["date_of_birth", "2001-04-01"], ["phone", "8347766701"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:00:09.487733 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:00:09.489155 #5339]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 13:00:09 +0000
I, [2020-04-01T13:00:09.490447 #5339]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T13:00:09.490742 #5339]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:00:09.491883 #5339] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.493461 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.495395 #5339] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.497384 #5339] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T13:00:09.499479 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:00:09.500748 #5339]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T13:00:09.502362 #5339]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T13:00:09.537994 #5339] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:00:09.538920 #5339] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:00:09.539238 #5339]  INFO -- : ---------------------------------------------
I, [2020-04-01T13:00:09.539334 #5339]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T13:00:09.539404 #5339]  INFO -- : ---------------------------------------------
D, [2020-04-01T13:00:09.540408 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.541859 #5339] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "168314659"], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.543222 #5339] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "168314659"], ["date_of_birth", "2001-04-01"], ["phone", "5692133464"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:00:09.544471 #5339] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:00:09.545485 #5339]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 13:00:09 +0000
I, [2020-04-01T13:00:09.546379 #5339]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T13:00:09.546643 #5339]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:00:09.547373 #5339] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:00:09.548553 #5339]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T13:00:09.555253 #5339]  INFO -- :   Rendered employees/_form.html.erb (6.3ms)
I, [2020-04-01T13:00:09.555647 #5339]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (6.8ms)
I, [2020-04-01T13:00:09.556723 #5339]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:00:09.557243 #5339]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:00:09.557836 #5339]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:00:09.558485 #5339]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:00:09.559328 #5339]  INFO -- : Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.1ms)
D, [2020-04-01T13:00:09.562471 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:00:09.563113 #5339] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:00:09.563411 #5339]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T13:00:09.563508 #5339]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T13:00:09.563570 #5339]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T13:00:09.564394 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.565580 #5339] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "224914354"], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.566911 #5339] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "224914354"], ["date_of_birth", "2001-04-01"], ["phone", "4485687612"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:00:09.568043 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:00:09.569666 #5339]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 13:00:09 +0000
I, [2020-04-01T13:00:09.570439 #5339]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T13:00:09.570714 #5339]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T13:00:09.571827 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.573531 #5339] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.574779 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:00:09.575980 #5339]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T13:00:09.582908 #5339]  INFO -- :   Rendered employees/_form.html.erb (6.2ms)
I, [2020-04-01T13:00:09.583236 #5339]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.0ms)
I, [2020-04-01T13:00:09.584335 #5339]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:00:09.584896 #5339]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:00:09.585445 #5339]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T13:00:09.586098 #5339]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:00:09.587111 #5339]  INFO -- : Completed 200 OK in 16ms (Views: 11.1ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:00:09.590783 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:00:09.591425 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:00:09.591735 #5339]  INFO -- : --------------------------------------------------
I, [2020-04-01T13:00:09.591819 #5339]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T13:00:09.591879 #5339]  INFO -- : --------------------------------------------------
D, [2020-04-01T13:00:09.592707 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.593900 #5339] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "332978131"], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.595168 #5339] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "332978131"], ["date_of_birth", "2001-04-01"], ["phone", "0671737605"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:00:09.596367 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.607250 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.608549 #5339] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.609799 #5339] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5245063710"], ["active", 1]]
D, [2020-04-01T13:00:09.610975 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.624558 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.625960 #5339] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T13:00:09.627080 #5339] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T13:00:09.628216 #5339] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.634668 #5339] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.635828 #5339] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T13:00:09.636708 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:00:09.637790 #5339]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 13:00:09 +0000
I, [2020-04-01T13:00:09.638717 #5339]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T13:00:09.638975 #5339]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:00:09.639694 #5339] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:00:09.641692 #5339]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T13:00:09.650432 #5339] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x0000561ab2481bb0>:
  app/controllers/employees_controller.rb:32:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T13:00:09.653567 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:00:09.654497 #5339] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:00:09.654840 #5339]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T13:00:09.654913 #5339]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T13:00:09.654977 #5339]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T13:00:09.655855 #5339] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.657224 #5339] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "040641040"], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.658668 #5339] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "040641040"], ["date_of_birth", "2001-04-01"], ["phone", "6470904017"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:00:09.659910 #5339] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:00:09.660802 #5339]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 13:00:09 +0000
F, [2020-04-01T13:00:09.675444 #5339] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T13:00:09.678326 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:00:09.678968 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:00:09.679238 #5339]  INFO -- : --------------------------------------------
I, [2020-04-01T13:00:09.679345 #5339]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T13:00:09.679409 #5339]  INFO -- : --------------------------------------------
D, [2020-04-01T13:00:09.680224 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.681495 #5339] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "157898377"], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.682908 #5339] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "157898377"], ["date_of_birth", "2001-04-01"], ["phone", "9815254281"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:00:09.684174 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:00:09.685196 #5339]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 13:00:09 +0000
I, [2020-04-01T13:00:09.685995 #5339]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T13:00:09.686997 #5339]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T13:00:09.693762 #5339]  INFO -- :   Rendered employees/_form.html.erb (6.3ms)
I, [2020-04-01T13:00:09.694186 #5339]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.8ms)
I, [2020-04-01T13:00:09.695333 #5339]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T13:00:09.695956 #5339]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T13:00:09.696586 #5339]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:00:09.697218 #5339]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:00:09.698142 #5339]  INFO -- : Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T13:00:09.700984 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:00:09.701683 #5339] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:00:09.701958 #5339]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:00:09.702028 #5339]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T13:00:09.702113 #5339]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:00:09.702898 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.704072 #5339] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "373578872"], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.705341 #5339] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "373578872"], ["date_of_birth", "2001-04-01"], ["phone", "4202681478"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:00:09.706635 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.707487 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T13:00:09.708694 #5339]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 13:00:09 +0000
I, [2020-04-01T13:00:09.709452 #5339]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T13:00:09.709732 #5339]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T13:00:09.710804 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:00:09.712052 #5339] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T13:00:09.713459 #5339] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:00:09.714871 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:00:09.715653 #5339]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T13:00:09.716633 #5339]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-01T13:00:09.720409 #5339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T13:00:09.724387 #5339] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:01:42.059480 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T13:01:42.156013 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:01:42.156483 #5448]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:01:42.156559 #5448]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T13:01:42.156589 #5448]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:01:42.233658 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.235949 #5448] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "027371211"], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.237286 #5448] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "027371211"], ["date_of_birth", "2001-04-01"], ["phone", "4907991377"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:01:42.238363 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.239176 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T13:01:42.245026 #5448]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 13:01:42 +0000
I, [2020-04-01T13:01:42.251329 #5448]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T13:01:42.251630 #5448]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T13:01:42.256338 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.257776 #5448] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.259169 #5448] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:01:42.260425 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:01:42.261560 #5448]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T13:01:42.262565 #5448]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.3ms)
D, [2020-04-01T13:01:42.275478 #5448] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T13:01:42.285408 #5448] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:01:42.288871 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:01:42.290337 #5448]  INFO -- : --------------------------------------------
I, [2020-04-01T13:01:42.290492 #5448]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T13:01:42.290621 #5448]  INFO -- : --------------------------------------------
D, [2020-04-01T13:01:42.292503 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.295206 #5448] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "371855032"], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.297890 #5448] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "371855032"], ["date_of_birth", "2001-04-01"], ["phone", "1561933649"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:01:42.300180 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:01:42.302218 #5448]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 13:01:42 +0000
I, [2020-04-01T13:01:42.303871 #5448]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T13:01:42.315055 #5448]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T13:01:42.488244 #5448]  INFO -- :   Rendered employees/_form.html.erb (170.5ms)
I, [2020-04-01T13:01:42.488674 #5448]  INFO -- :   Rendered employees/new.html.erb within layouts/application (173.2ms)
I, [2020-04-01T13:01:42.647768 #5448]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T13:01:42.649136 #5448]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T13:01:42.650585 #5448]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T13:01:42.652057 #5448]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T13:01:42.653225 #5448]  INFO -- : Completed 200 OK in 349ms (Views: 346.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T13:01:42.657844 #5448] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:01:42.659260 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:01:42.659576 #5448]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T13:01:42.659642 #5448]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T13:01:42.659697 #5448]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T13:01:42.660881 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.662708 #5448] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "087806996"], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.664430 #5448] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "087806996"], ["date_of_birth", "2001-04-01"], ["phone", "8725420325"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:01:42.666252 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:01:42.667398 #5448]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 13:01:42 +0000
F, [2020-04-01T13:01:42.686597 #5448] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T13:01:42.694276 #5448] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:01:42.699373 #5448] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:01:42.699658 #5448]  INFO -- : --------------------------------------------------
I, [2020-04-01T13:01:42.699726 #5448]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T13:01:42.699782 #5448]  INFO -- : --------------------------------------------------
D, [2020-04-01T13:01:42.701140 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.702825 #5448] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "251847326"], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.704690 #5448] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "251847326"], ["date_of_birth", "2001-04-01"], ["phone", "1495128894"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:01:42.706594 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.727264 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.729785 #5448] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.732869 #5448] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5827472046"], ["active", 1]]
D, [2020-04-01T13:01:42.737082 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.766195 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.768731 #5448] DEBUG -- :   [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T13:01:42.770726 #5448] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T13:01:42.773118 #5448] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.782007 #5448] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.783496 #5448] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T13:01:42.784862 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:01:42.786160 #5448]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 13:01:42 +0000
I, [2020-04-01T13:01:42.787193 #5448]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T13:01:42.787623 #5448]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:01:42.788600 #5448] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:01:42.791321 #5448]  INFO -- : Completed 500  in 3ms (ActiveRecord: 0.1ms)
F, [2020-04-01T13:01:42.810250 #5448] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x00005592d615b5d0>:
  app/controllers/employees_controller.rb:32:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T13:01:42.819154 #5448] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:01:42.822182 #5448] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:01:42.822485 #5448]  INFO -- : ---------------------------------------------
I, [2020-04-01T13:01:42.822568 #5448]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T13:01:42.831379 #5448]  INFO -- : ---------------------------------------------
D, [2020-04-01T13:01:42.832517 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.834151 #5448] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "085564107"], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.835612 #5448] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "085564107"], ["date_of_birth", "2001-04-01"], ["phone", "2369136540"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:01:42.836882 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:01:42.838082 #5448]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 13:01:42 +0000
I, [2020-04-01T13:01:42.838988 #5448]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T13:01:42.839262 #5448]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:01:42.840046 #5448] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:01:42.841837 #5448]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T13:01:42.849338 #5448]  INFO -- :   Rendered employees/_form.html.erb (6.8ms)
I, [2020-04-01T13:01:42.849757 #5448]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.6ms)
I, [2020-04-01T13:01:42.850931 #5448]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:01:42.851499 #5448]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:01:42.852131 #5448]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:01:42.852751 #5448]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:01:42.853645 #5448]  INFO -- : Completed 200 OK in 14ms (Views: 11.7ms | ActiveRecord: 0.1ms)
D, [2020-04-01T13:01:42.856934 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:01:42.858690 #5448] DEBUG -- :   [1m[35m (1.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:01:42.859011 #5448]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T13:01:42.859084 #5448]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T13:01:42.859189 #5448]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T13:01:42.860038 #5448] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.861328 #5448] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "180643643"], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.862738 #5448] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "180643643"], ["date_of_birth", "2001-04-01"], ["phone", "0024374008"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:01:42.863911 #5448] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:01:42.865067 #5448]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 13:01:42 +0000
I, [2020-04-01T13:01:42.865874 #5448]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T13:01:42.866201 #5448]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T13:01:42.867221 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.868999 #5448] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.870321 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:01:42.871146 #5448]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T13:01:42.877760 #5448]  INFO -- :   Rendered employees/_form.html.erb (6.2ms)
I, [2020-04-01T13:01:42.878169 #5448]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.7ms)
I, [2020-04-01T13:01:42.879244 #5448]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:01:42.879785 #5448]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:01:42.880369 #5448]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T13:01:42.881011 #5448]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:01:42.882201 #5448]  INFO -- : Completed 200 OK in 16ms (Views: 10.5ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:01:42.885899 #5448] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:01:42.887207 #5448] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:01:42.887496 #5448]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:01:42.887564 #5448]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T13:01:42.887637 #5448]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:01:42.888426 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.889697 #5448] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "301926218"], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.891041 #5448] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "301926218"], ["date_of_birth", "2001-04-01"], ["phone", "5900774344"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:01:42.892304 #5448] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:01:42.893429 #5448]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 13:01:42 +0000
I, [2020-04-01T13:01:42.894411 #5448]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T13:01:42.894731 #5448]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:01:42.895452 #5448] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.896609 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.898254 #5448] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.899829 #5448] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T13:01:42.901129 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:01:42.902022 #5448]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T13:01:42.903520 #5448]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T13:01:42.912410 #5448] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:01:42.913958 #5448] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:01:42.914508 #5448]  INFO -- : ----------------------------------------------
I, [2020-04-01T13:01:42.914639 #5448]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T13:01:42.914782 #5448]  INFO -- : ----------------------------------------------
D, [2020-04-01T13:01:42.916289 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.919595 #5448] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "369487686"], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.922063 #5448] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "369487686"], ["date_of_birth", "2001-04-01"], ["phone", "0770559635"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:01:42.924091 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:01:42.925583 #5448]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 13:01:42 +0000
I, [2020-04-01T13:01:42.926872 #5448]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T13:01:42.929566 #5448]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T13:01:42.931615 #5448] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T13:01:42.933605 #5448]  INFO -- :   Rendered employees/index.html.erb within layouts/application (3.5ms)
I, [2020-04-01T13:01:42.935463 #5448]  INFO -- :   Rendered partials/_topbar.html.erb (0.5ms)
I, [2020-04-01T13:01:42.936338 #5448]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T13:01:42.937316 #5448]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:01:42.938432 #5448]  INFO -- :   Rendered partials/_footer.html.erb (0.4ms)
I, [2020-04-01T13:01:42.939793 #5448]  INFO -- : Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.3ms)
D, [2020-04-01T13:01:42.944595 #5448] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:01:42.945935 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:01:42.946433 #5448]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T13:01:42.946551 #5448]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T13:01:42.946655 #5448]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T13:01:42.947885 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.949771 #5448] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "227346770"], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.951628 #5448] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "227346770"], ["date_of_birth", "2001-04-01"], ["phone", "5291193910"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:01:42.953400 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:01:42.954888 #5448]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 13:01:42 +0000
I, [2020-04-01T13:01:42.956166 #5448]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T13:01:42.956560 #5448]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:01:42.957572 #5448] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.959227 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:01:42.962018 #5448] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:01:42.964208 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:01:42.965299 #5448]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T13:01:42.974372 #5448]  INFO -- :   Rendered employees/_form.html.erb (8.5ms)
I, [2020-04-01T13:01:42.974860 #5448]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (9.2ms)
I, [2020-04-01T13:01:42.976252 #5448]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:01:42.976998 #5448]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T13:01:42.977804 #5448]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:01:42.978654 #5448]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T13:01:42.980086 #5448]  INFO -- : Completed 200 OK in 23ms (Views: 14.2ms | ActiveRecord: 0.4ms)
D, [2020-04-01T13:01:42.985159 #5448] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:12.512925 #5511] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T13:02:12.572689 #5511] DEBUG -- :   [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:12.573038 #5511]  INFO -- : --------------------------------------------
I, [2020-04-01T13:02:12.573089 #5511]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T13:02:12.573112 #5511]  INFO -- : --------------------------------------------
D, [2020-04-01T13:02:12.642283 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:12.644662 #5511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "111322259"], ["LIMIT", 1]]
D, [2020-04-01T13:02:12.646132 #5511] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "111322259"], ["date_of_birth", "2001-04-01"], ["phone", "9301530159"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:12.647223 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:12.649648 #5511]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 13:02:12 +0000
I, [2020-04-01T13:02:12.656009 #5511]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T13:02:12.662704 #5511]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T13:02:12.807118 #5511]  INFO -- :   Rendered employees/_form.html.erb (142.8ms)
I, [2020-04-01T13:02:12.807579 #5511]  INFO -- :   Rendered employees/new.html.erb within layouts/application (144.5ms)
I, [2020-04-01T13:02:12.967268 #5511]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T13:02:12.968630 #5511]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T13:02:12.970094 #5511]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T13:02:12.971569 #5511]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T13:02:12.972778 #5511]  INFO -- : Completed 200 OK in 316ms (Views: 311.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T13:02:12.978596 #5511] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:12.980126 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:12.980467 #5511]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T13:02:12.980575 #5511]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T13:02:12.980633 #5511]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T13:02:12.981825 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:12.983480 #5511] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "262260007"], ["LIMIT", 1]]
D, [2020-04-01T13:02:12.985060 #5511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "262260007"], ["date_of_birth", "2001-04-01"], ["phone", "2084814765"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:12.986658 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:12.987818 #5511]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 13:02:12 +0000
F, [2020-04-01T13:02:13.005255 #5511] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T13:02:13.009493 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:13.010930 #5511] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:13.011227 #5511]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T13:02:13.011400 #5511]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T13:02:13.011470 #5511]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T13:02:13.012498 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.014159 #5511] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "016933052"], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.015946 #5511] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "016933052"], ["date_of_birth", "2001-04-01"], ["phone", "7059997573"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:13.017667 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:13.019131 #5511]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 13:02:13 +0000
I, [2020-04-01T13:02:13.023989 #5511]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T13:02:13.025181 #5511]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:02:13.026794 #5511] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.029128 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.032178 #5511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.036383 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:13.038484 #5511]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T13:02:13.052571 #5511]  INFO -- :   Rendered employees/_form.html.erb (12.6ms)
I, [2020-04-01T13:02:13.052922 #5511]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (14.2ms)
I, [2020-04-01T13:02:13.054945 #5511]  INFO -- :   Rendered partials/_topbar.html.erb (0.5ms)
I, [2020-04-01T13:02:13.056013 #5511]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:02:13.056864 #5511]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:02:13.057797 #5511]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T13:02:13.060019 #5511]  INFO -- : Completed 200 OK in 35ms (Views: 20.5ms | ActiveRecord: 0.4ms)
D, [2020-04-01T13:02:13.073782 #5511] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:13.075820 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:13.076720 #5511]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T13:02:13.076835 #5511]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T13:02:13.076898 #5511]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T13:02:13.078567 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.081147 #5511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "058876844"], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.082952 #5511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "058876844"], ["date_of_birth", "2001-04-01"], ["phone", "1471615862"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:13.085302 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:13.087400 #5511]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 13:02:13 +0000
I, [2020-04-01T13:02:13.088563 #5511]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T13:02:13.088982 #5511]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T13:02:13.090282 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.092641 #5511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.094435 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:13.095658 #5511]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T13:02:13.104517 #5511]  INFO -- :   Rendered employees/_form.html.erb (8.4ms)
I, [2020-04-01T13:02:13.105039 #5511]  INFO -- :   Rendered employees/new.html.erb within layouts/application (8.9ms)
I, [2020-04-01T13:02:13.106516 #5511]  INFO -- :   Rendered partials/_topbar.html.erb (0.5ms)
I, [2020-04-01T13:02:13.107429 #5511]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T13:02:13.108202 #5511]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T13:02:13.108998 #5511]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:02:13.110588 #5511]  INFO -- : Completed 200 OK in 21ms (Views: 14.4ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:02:13.121556 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:13.123592 #5511] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:13.123960 #5511]  INFO -- : --------------------------------------------------
I, [2020-04-01T13:02:13.124701 #5511]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T13:02:13.124798 #5511]  INFO -- : --------------------------------------------------
D, [2020-04-01T13:02:13.126466 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.129031 #5511] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "112318332"], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.131533 #5511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "112318332"], ["date_of_birth", "2001-04-01"], ["phone", "6113682013"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:13.135525 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.158330 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.160341 #5511] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.162837 #5511] DEBUG -- :   [1m[36mStore Create (0.7ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1166326577"], ["active", 1]]
D, [2020-04-01T13:02:13.177411 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.191735 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.193236 #5511] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T13:02:13.194516 #5511] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T13:02:13.195671 #5511] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.202344 #5511] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.203491 #5511] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T13:02:13.204385 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:13.205656 #5511]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 13:02:13 +0000
I, [2020-04-01T13:02:13.206609 #5511]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T13:02:13.206896 #5511]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:02:13.207700 #5511] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:02:13.209693 #5511]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T13:02:13.218518 #5511] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x000055ad35b0f3c8>:
  app/controllers/employees_controller.rb:32:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T13:02:13.221517 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:13.223261 #5511] DEBUG -- :   [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:13.223542 #5511]  INFO -- : ---------------------------------------------
I, [2020-04-01T13:02:13.223624 #5511]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T13:02:13.223706 #5511]  INFO -- : ---------------------------------------------
D, [2020-04-01T13:02:13.224598 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.226020 #5511] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "277040468"], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.227337 #5511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "277040468"], ["date_of_birth", "2001-04-01"], ["phone", "9824006924"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:13.228529 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:13.229474 #5511]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 13:02:13 +0000
I, [2020-04-01T13:02:13.230354 #5511]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T13:02:13.230598 #5511]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:02:13.231306 #5511] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:02:13.232491 #5511]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T13:02:13.239556 #5511]  INFO -- :   Rendered employees/_form.html.erb (6.6ms)
I, [2020-04-01T13:02:13.239984 #5511]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.1ms)
I, [2020-04-01T13:02:13.241263 #5511]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:02:13.241853 #5511]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:02:13.242517 #5511]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:02:13.243143 #5511]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:02:13.244016 #5511]  INFO -- : Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.1ms)
D, [2020-04-01T13:02:13.247418 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:13.248491 #5511] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:13.248847 #5511]  INFO -- : ----------------------------------------------
I, [2020-04-01T13:02:13.248927 #5511]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T13:02:13.248993 #5511]  INFO -- : ----------------------------------------------
D, [2020-04-01T13:02:13.249867 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.251117 #5511] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "277302172"], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.252466 #5511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "277302172"], ["date_of_birth", "2001-04-01"], ["phone", "3011436277"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:13.253737 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:13.254666 #5511]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 13:02:13 +0000
I, [2020-04-01T13:02:13.255367 #5511]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T13:02:13.256928 #5511]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T13:02:13.258248 #5511] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T13:02:13.259533 #5511]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.3ms)
I, [2020-04-01T13:02:13.260683 #5511]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:02:13.261312 #5511]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T13:02:13.261977 #5511]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:02:13.262614 #5511]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:02:13.263518 #5511]  INFO -- : Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:02:13.266734 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:13.268185 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:13.268487 #5511]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:02:13.268569 #5511]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T13:02:13.268643 #5511]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:02:13.269471 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.270818 #5511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "358863708"], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.272166 #5511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "358863708"], ["date_of_birth", "2001-04-01"], ["phone", "4304229051"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:13.273427 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.274363 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T13:02:13.275572 #5511]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 13:02:13 +0000
I, [2020-04-01T13:02:13.276361 #5511]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T13:02:13.276692 #5511]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T13:02:13.277831 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.279124 #5511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.280574 #5511] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:13.281942 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:13.282911 #5511]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T13:02:13.283900 #5511]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-01T13:02:13.288066 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T13:02:13.294536 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:13.295997 #5511] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:13.296325 #5511]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:02:13.296400 #5511]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T13:02:13.296468 #5511]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:02:13.297391 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.298683 #5511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "064326789"], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.300128 #5511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "064326789"], ["date_of_birth", "2001-04-01"], ["phone", "7368720713"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:13.301392 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:13.302509 #5511]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 13:02:13 +0000
I, [2020-04-01T13:02:13.303500 #5511]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T13:02:13.303771 #5511]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:02:13.304546 #5511] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.305693 #5511] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:13.307242 #5511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:02:13.308865 #5511] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T13:02:13.310215 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:13.310984 #5511]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T13:02:13.311914 #5511]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T13:02:13.318669 #5511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:42.994230 #5559] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T13:02:43.052866 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:43.053348 #5559]  INFO -- : ----------------------------------------------
I, [2020-04-01T13:02:43.053389 #5559]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T13:02:43.053413 #5559]  INFO -- : ----------------------------------------------
D, [2020-04-01T13:02:43.122278 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.124681 #5559] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "009772385"], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.126104 #5559] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "009772385"], ["date_of_birth", "2001-04-01"], ["phone", "2305597161"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:43.127210 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:43.129539 #5559]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 13:02:43 +0000
I, [2020-04-01T13:02:43.135826 #5559]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T13:02:43.142772 #5559]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T13:02:43.144558 #5559] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T13:02:43.146667 #5559]  INFO -- :   Rendered employees/index.html.erb within layouts/application (3.5ms)
I, [2020-04-01T13:02:43.311100 #5559]  INFO -- :   Rendered partials/_topbar.html.erb (0.7ms)
I, [2020-04-01T13:02:43.312287 #5559]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T13:02:43.313597 #5559]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T13:02:43.314912 #5559]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T13:02:43.315909 #5559]  INFO -- : Completed 200 OK in 180ms (Views: 174.4ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:02:43.321251 #5559] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:43.323499 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:43.323858 #5559]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T13:02:43.323932 #5559]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T13:02:43.324034 #5559]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T13:02:43.325134 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.326704 #5559] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "384136500"], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.328131 #5559] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "384136500"], ["date_of_birth", "2001-04-01"], ["phone", "6040914139"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:43.329382 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:43.330414 #5559]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 13:02:43 +0000
F, [2020-04-01T13:02:43.345970 #5559] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T13:02:43.348842 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:43.350154 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:43.350519 #5559]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T13:02:43.350598 #5559]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T13:02:43.350669 #5559]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T13:02:43.351517 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.352840 #5559] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "066045454"], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.354248 #5559] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "066045454"], ["date_of_birth", "2001-04-01"], ["phone", "5794643910"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:43.355454 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:43.356542 #5559]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 13:02:43 +0000
I, [2020-04-01T13:02:43.360584 #5559]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T13:02:43.360867 #5559]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:02:43.362110 #5559] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.363339 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.491970 #5559] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.495386 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:43.497047 #5559]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T13:02:43.553886 #5559]  INFO -- :   Rendered employees/_form.html.erb (54.8ms)
I, [2020-04-01T13:02:43.554904 #5559]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (57.0ms)
I, [2020-04-01T13:02:43.556570 #5559]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:02:43.557764 #5559]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:02:43.558955 #5559]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:02:43.559609 #5559]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:02:43.562677 #5559]  INFO -- : Completed 200 OK in 201ms (Views: 64.0ms | ActiveRecord: 0.4ms)
D, [2020-04-01T13:02:43.572108 #5559] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:43.573493 #5559] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:43.573838 #5559]  INFO -- : ---------------------------------------------
I, [2020-04-01T13:02:43.573916 #5559]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T13:02:43.573977 #5559]  INFO -- : ---------------------------------------------
D, [2020-04-01T13:02:43.575613 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.577635 #5559] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "338966131"], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.580191 #5559] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "338966131"], ["date_of_birth", "2001-04-01"], ["phone", "5614256702"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:43.582675 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:43.584359 #5559]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 13:02:43 +0000
I, [2020-04-01T13:02:43.585849 #5559]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T13:02:43.586115 #5559]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:02:43.587480 #5559] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:02:43.589874 #5559]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T13:02:43.603037 #5559]  INFO -- :   Rendered employees/_form.html.erb (12.7ms)
I, [2020-04-01T13:02:43.603646 #5559]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (13.2ms)
I, [2020-04-01T13:02:43.605227 #5559]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:02:43.619370 #5559]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:02:43.620067 #5559]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:02:43.620650 #5559]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:02:43.621530 #5559]  INFO -- : Completed 200 OK in 35ms (Views: 32.1ms | ActiveRecord: 0.1ms)
D, [2020-04-01T13:02:43.624958 #5559] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:43.626269 #5559] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:43.626626 #5559]  INFO -- : --------------------------------------------
I, [2020-04-01T13:02:43.626701 #5559]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T13:02:43.626761 #5559]  INFO -- : --------------------------------------------
D, [2020-04-01T13:02:43.627727 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.629086 #5559] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "287548492"], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.630441 #5559] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "287548492"], ["date_of_birth", "2001-04-01"], ["phone", "4444484318"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:43.631684 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:43.632687 #5559]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 13:02:43 +0000
I, [2020-04-01T13:02:43.633579 #5559]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T13:02:43.634911 #5559]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T13:02:43.641918 #5559]  INFO -- :   Rendered employees/_form.html.erb (6.3ms)
I, [2020-04-01T13:02:43.642317 #5559]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.1ms)
I, [2020-04-01T13:02:43.643395 #5559]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:02:43.643940 #5559]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:02:43.644544 #5559]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T13:02:43.645135 #5559]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:02:43.646010 #5559]  INFO -- : Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T13:02:43.648611 #5559] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:43.649814 #5559] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:43.650176 #5559]  INFO -- : --------------------------------------------------
I, [2020-04-01T13:02:43.650253 #5559]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T13:02:43.650325 #5559]  INFO -- : --------------------------------------------------
D, [2020-04-01T13:02:43.651103 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.652349 #5559] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "019914129"], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.653781 #5559] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "019914129"], ["date_of_birth", "2001-04-01"], ["phone", "1265205195"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:43.654954 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.665553 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.666882 #5559] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.668139 #5559] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0094441027"], ["active", 1]]
D, [2020-04-01T13:02:43.669279 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.682383 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.683714 #5559] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T13:02:43.684859 #5559] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T13:02:43.685960 #5559] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.692179 #5559] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.693285 #5559] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T13:02:43.694236 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:43.695287 #5559]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 13:02:43 +0000
I, [2020-04-01T13:02:43.696125 #5559]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T13:02:43.696409 #5559]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:02:43.697166 #5559] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:02:43.699025 #5559]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T13:02:43.707774 #5559] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x0000562a0e956328>:
  app/controllers/employees_controller.rb:32:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T13:02:43.711042 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:43.712891 #5559] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:43.713209 #5559]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:02:43.713354 #5559]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T13:02:43.713416 #5559]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:02:43.714304 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.715592 #5559] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "107083096"], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.716984 #5559] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "107083096"], ["date_of_birth", "2001-04-01"], ["phone", "8063571925"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:43.718229 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:43.719277 #5559]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 13:02:43 +0000
I, [2020-04-01T13:02:43.720138 #5559]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T13:02:43.720471 #5559]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:02:43.721165 #5559] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.722331 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.723795 #5559] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.725386 #5559] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T13:02:43.726613 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:43.727490 #5559]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T13:02:43.728441 #5559]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T13:02:43.732890 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:43.734155 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:43.734498 #5559]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:02:43.734583 #5559]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T13:02:43.734643 #5559]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:02:43.735446 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.736664 #5559] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "038902225"], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.738026 #5559] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "038902225"], ["date_of_birth", "2001-04-01"], ["phone", "7480234632"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:43.739237 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.740127 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T13:02:43.741269 #5559]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 13:02:43 +0000
I, [2020-04-01T13:02:43.742195 #5559]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T13:02:43.742446 #5559]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T13:02:43.743453 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.744729 #5559] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.746123 #5559] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:43.747343 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:43.748172 #5559]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T13:02:43.749113 #5559]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
D, [2020-04-01T13:02:43.753117 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T13:02:43.754115 #5559] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T13:02:43.754957 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:02:43.756188 #5559] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:02:43.756496 #5559]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T13:02:43.756569 #5559]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T13:02:43.756662 #5559]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T13:02:43.757462 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.758746 #5559] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "133066905"], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.760058 #5559] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "133066905"], ["date_of_birth", "2001-04-01"], ["phone", "9533290130"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T13:02:43.761261 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:43.762391 #5559]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 13:02:43 +0000
I, [2020-04-01T13:02:43.763131 #5559]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T13:02:43.763488 #5559]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T13:02:43.764447 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:02:43.766208 #5559] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T13:02:43.767541 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:02:43.768501 #5559]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T13:02:43.775442 #5559]  INFO -- :   Rendered employees/_form.html.erb (6.5ms)
I, [2020-04-01T13:02:43.775809 #5559]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.0ms)
I, [2020-04-01T13:02:43.776951 #5559]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:02:43.777506 #5559]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:02:43.778121 #5559]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T13:02:43.778721 #5559]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:02:43.779766 #5559]  INFO -- : Completed 200 OK in 16ms (Views: 11.0ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:02:43.783352 #5559] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:04:39.130208 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T13:04:39.189093 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:04:39.189415 #5697]  INFO -- : --------------------------------------------
I, [2020-04-01T13:04:39.189456 #5697]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T13:04:39.189478 #5697]  INFO -- : --------------------------------------------
D, [2020-04-01T13:04:39.257082 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.258608 #5697] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.259922 #5697] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1880296274"], ["active", 1]]
D, [2020-04-01T13:04:39.260971 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:04:39.263248 #5697]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 13:04:39 +0000
I, [2020-04-01T13:04:39.269674 #5697]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T13:04:39.269982 #5697]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:04:39.275521 #5697] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:04:39.279453 #5697]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T13:04:39.280913 #5697]  INFO -- :   Rendered stores/show.html.erb within layouts/application (1.1ms)
I, [2020-04-01T13:04:39.452550 #5697]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T13:04:39.453788 #5697]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T13:04:39.455083 #5697]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T13:04:39.456405 #5697]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T13:04:39.457482 #5697]  INFO -- : Completed 200 OK in 187ms (Views: 179.4ms | ActiveRecord: 0.1ms)
D, [2020-04-01T13:04:39.462931 #5697] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:04:39.463989 #5697] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:04:39.464282 #5697]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:04:39.464379 #5697]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T13:04:39.464483 #5697]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:04:39.465337 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.466776 #5697] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.468177 #5697] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2472378451"], ["active", 1]]
D, [2020-04-01T13:04:39.469530 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:04:39.470647 #5697]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 13:04:39 +0000
I, [2020-04-01T13:04:39.474876 #5697]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T13:04:39.475112 #5697]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:04:39.476003 #5697] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.477211 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.602726 #5697] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.608340 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:04:39.611352 #5697]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T13:04:39.675368 #5697]  INFO -- :   Rendered stores/_form.html.erb (62.0ms)
I, [2020-04-01T13:04:39.676574 #5697]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (64.1ms)
I, [2020-04-01T13:04:39.678627 #5697]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T13:04:39.679750 #5697]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T13:04:39.680937 #5697]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:04:39.681590 #5697]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:04:39.684163 #5697]  INFO -- : Completed 200 OK in 209ms (Views: 72.3ms | ActiveRecord: 0.4ms)
D, [2020-04-01T13:04:39.694267 #5697] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:04:39.695805 #5697] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:04:39.696087 #5697]  INFO -- : ------------------------------------------
I, [2020-04-01T13:04:39.696163 #5697]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T13:04:39.696226 #5697]  INFO -- : ------------------------------------------
D, [2020-04-01T13:04:39.697899 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.700046 #5697] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.702851 #5697] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4212739429"], ["active", 1]]
D, [2020-04-01T13:04:39.706331 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:04:39.708952 #5697]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 13:04:39 +0000
I, [2020-04-01T13:04:39.710645 #5697]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T13:04:39.710916 #5697]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:04:39.712507 #5697] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:04:39.715778 #5697]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T13:04:39.737754 #5697]  INFO -- :   Rendered stores/_form.html.erb (21.5ms)
I, [2020-04-01T13:04:39.738185 #5697]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (22.1ms)
I, [2020-04-01T13:04:39.739295 #5697]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:04:39.739807 #5697]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:04:39.740383 #5697]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T13:04:39.741004 #5697]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:04:39.742033 #5697]  INFO -- : Completed 200 OK in 30ms (Views: 26.6ms | ActiveRecord: 0.1ms)
D, [2020-04-01T13:04:39.745338 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:04:39.746049 #5697] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:04:39.746350 #5697]  INFO -- : -----------------------------------------
I, [2020-04-01T13:04:39.746430 #5697]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T13:04:39.746513 #5697]  INFO -- : -----------------------------------------
D, [2020-04-01T13:04:39.747260 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.748553 #5697] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.749925 #5697] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7349651611"], ["active", 1]]
D, [2020-04-01T13:04:39.751125 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:04:39.752096 #5697]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 13:04:39 +0000
I, [2020-04-01T13:04:39.752961 #5697]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T13:04:39.754422 #5697]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T13:04:39.761277 #5697]  INFO -- :   Rendered stores/_form.html.erb (6.2ms)
I, [2020-04-01T13:04:39.761715 #5697]  INFO -- :   Rendered stores/new.html.erb within layouts/application (6.9ms)
I, [2020-04-01T13:04:39.762802 #5697]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:04:39.763361 #5697]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:04:39.763912 #5697]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T13:04:39.764521 #5697]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:04:39.765344 #5697]  INFO -- : Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T13:04:39.768063 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:04:39.768714 #5697] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:04:39.768980 #5697]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T13:04:39.769054 #5697]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T13:04:39.769132 #5697]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T13:04:39.769825 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.771006 #5697] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.772271 #5697] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5361743549"], ["active", 1]]
D, [2020-04-01T13:04:39.773406 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:04:39.774394 #5697]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 13:04:39 +0000
I, [2020-04-01T13:04:39.775280 #5697]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T13:04:39.775553 #5697]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:04:39.776270 #5697] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.777453 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.778886 #5697] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.780395 #5697] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T13:04:39.781559 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:04:39.782475 #5697]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T13:04:39.783374 #5697]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T13:04:39.792977 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:04:39.793912 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:04:39.794235 #5697]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T13:04:39.794322 #5697]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T13:04:39.794388 #5697]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T13:04:39.795056 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.796226 #5697] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.797449 #5697] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4887295918"], ["active", 1]]
D, [2020-04-01T13:04:39.798643 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.799491 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T13:04:39.800981 #5697]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 13:04:39 +0000
I, [2020-04-01T13:04:39.801847 #5697]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T13:04:39.802162 #5697]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T13:04:39.803180 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.804406 #5697] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.805778 #5697] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T13:04:39.807163 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:04:39.808078 #5697]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T13:04:39.809006 #5697]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-01T13:04:39.813047 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T13:04:39.814051 #5697] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T13:04:39.815050 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:04:39.815702 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:04:39.815959 #5697]  INFO -- : -------------------------------------------
I, [2020-04-01T13:04:39.816030 #5697]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T13:04:39.816115 #5697]  INFO -- : -------------------------------------------
D, [2020-04-01T13:04:39.816927 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.818156 #5697] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.819466 #5697] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0307140044"], ["active", 1]]
D, [2020-04-01T13:04:39.821144 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:04:39.822360 #5697]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 13:04:39 +0000
I, [2020-04-01T13:04:39.823236 #5697]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T13:04:39.824975 #5697]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-01T13:04:39.826374 #5697] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T13:04:39.827737 #5697]  INFO -- :   Rendered stores/index.html.erb within layouts/application (2.4ms)
I, [2020-04-01T13:04:39.829032 #5697]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:04:39.829597 #5697]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:04:39.830275 #5697]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:04:39.830966 #5697]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:04:39.831931 #5697]  INFO -- : Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:04:39.835348 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:04:39.836229 #5697] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:04:39.836523 #5697]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T13:04:39.836599 #5697]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T13:04:39.836660 #5697]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T13:04:39.837699 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.839255 #5697] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.840570 #5697] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8122270482"], ["active", 1]]
D, [2020-04-01T13:04:39.841850 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:04:39.842893 #5697]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 13:04:39 +0000
I, [2020-04-01T13:04:39.843846 #5697]  INFO -- : Processing by StoresController#destroy as HTML
I, [2020-04-01T13:04:39.844122 #5697]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:04:39.844907 #5697] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.845962 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.846878 #5697] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T13:04:39.847818 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:04:39.872693 #5697]  INFO -- : No template found for StoresController#destroy, rendering head :no_content
I, [2020-04-01T13:04:39.873966 #5697]  INFO -- : Completed 204 No Content in 29ms (ActiveRecord: 0.3ms)
D, [2020-04-01T13:04:39.878645 #5697] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:04:39.882400 #5697] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:04:39.882719 #5697]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:04:39.882824 #5697]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T13:04:39.882883 #5697]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:04:39.883677 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.885083 #5697] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:04:39.886636 #5697] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7702402648"], ["active", 1]]
D, [2020-04-01T13:04:39.887841 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:04:39.889032 #5697]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 13:04:39 +0000
I, [2020-04-01T13:04:39.890003 #5697]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T13:04:39.890297 #5697]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T13:04:39.891465 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:04:39.893117 #5697] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T13:04:39.894473 #5697] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:04:39.895561 #5697]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T13:04:39.903105 #5697]  INFO -- :   Rendered stores/_form.html.erb (7.1ms)
I, [2020-04-01T13:04:39.903490 #5697]  INFO -- :   Rendered stores/new.html.erb within layouts/application (7.6ms)
I, [2020-04-01T13:04:39.904743 #5697]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:04:39.905443 #5697]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T13:04:39.906068 #5697]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:04:39.906721 #5697]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:04:39.907904 #5697]  INFO -- : Completed 200 OK in 17ms (Views: 11.9ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:04:39.911967 #5697] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:05:02.810252 #5737] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T13:05:02.866078 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:05:02.866401 #5737]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T13:05:02.866440 #5737]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T13:05:02.866461 #5737]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T13:05:02.930948 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:05:02.932337 #5737] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:05:02.933595 #5737] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6090457535"], ["active", 1]]
D, [2020-04-01T13:05:02.934723 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:05:02.936771 #5737]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 13:05:02 +0000
F, [2020-04-01T13:05:02.959007 #5737] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T13:05:02.963203 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:05:02.963941 #5737] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:05:02.964201 #5737]  INFO -- : -------------------------------------------
I, [2020-04-01T13:05:02.964277 #5737]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T13:05:02.964328 #5737]  INFO -- : -------------------------------------------
D, [2020-04-01T13:05:02.965020 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:05:02.966267 #5737] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:05:02.967470 #5737] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7136015462"], ["active", 1]]
D, [2020-04-01T13:05:02.968623 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:05:02.969575 #5737]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 13:05:02 +0000
I, [2020-04-01T13:05:02.970483 #5737]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T13:05:02.977331 #5737]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-01T13:05:02.979725 #5737] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T13:05:02.981825 #5737]  INFO -- :   Rendered stores/index.html.erb within layouts/application (4.1ms)
I, [2020-04-01T13:05:03.147642 #5737]  INFO -- :   Rendered partials/_topbar.html.erb (0.7ms)
I, [2020-04-01T13:05:03.149048 #5737]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T13:05:03.150444 #5737]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T13:05:03.151906 #5737]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T13:05:03.152893 #5737]  INFO -- : Completed 200 OK in 182ms (Views: 176.8ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:05:03.156655 #5737] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:05:03.157692 #5737] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:05:03.157986 #5737]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T13:05:03.158051 #5737]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T13:05:03.158104 #5737]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T13:05:03.158987 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:05:03.160427 #5737] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:05:03.161797 #5737] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6698898784"], ["active", 1]]
D, [2020-04-01T13:05:03.163039 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:05:03.164087 #5737]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 13:05:03 +0000
I, [2020-04-01T13:05:03.168359 #5737]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T13:05:03.168629 #5737]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:05:03.169808 #5737] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:05:03.171047 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:05:03.172479 #5737] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:05:03.174130 #5737] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T13:05:03.175374 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:05:03.176304 #5737]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T13:05:03.177264 #5737]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
D, [2020-04-01T13:05:03.187962 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:05:03.188759 #5737] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:05:03.189065 #5737]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T13:05:03.189185 #5737]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T13:05:03.189239 #5737]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T13:05:03.189931 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:05:03.191010 #5737] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:05:03.192256 #5737] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3028481990"], ["active", 1]]
D, [2020-04-01T13:05:03.193493 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:05:03.194429 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T13:05:03.195905 #5737]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 13:05:03 +0000
I, [2020-04-01T13:05:03.196812 #5737]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T13:05:03.197111 #5737]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T13:05:03.198166 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:05:03.199279 #5737] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T13:05:03.200485 #5737] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T13:05:03.201766 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:05:03.202544 #5737]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T13:05:03.203401 #5737]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-01T13:05:03.207030 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T13:05:03.207909 #5737] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T13:05:03.208871 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:05:03.209535 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:05:03.209820 #5737]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:05:03.209890 #5737]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T13:05:03.209957 #5737]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:05:03.210596 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:05:03.211606 #5737] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:05:03.212849 #5737] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7143761422"], ["active", 1]]
D, [2020-04-01T13:05:03.214066 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:05:03.214937 #5737]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 13:05:03 +0000
I, [2020-04-01T13:05:03.215775 #5737]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T13:05:03.216048 #5737]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:05:03.216728 #5737] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:05:03.217825 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:05:03.379025 #5737] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:05:03.382792 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:05:03.384765 #5737]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T13:05:03.432771 #5737]  INFO -- :   Rendered stores/_form.html.erb (46.8ms)
I, [2020-04-01T13:05:03.433647 #5737]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (48.1ms)
I, [2020-04-01T13:05:03.435740 #5737]  INFO -- :   Rendered partials/_topbar.html.erb (0.7ms)
I, [2020-04-01T13:05:03.436769 #5737]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:05:03.437863 #5737]  INFO -- :   Rendered partials/_quick_links.html.erb (0.6ms)
I, [2020-04-01T13:05:03.438904 #5737]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:05:03.440963 #5737]  INFO -- : Completed 200 OK in 225ms (Views: 55.9ms | ActiveRecord: 0.3ms)
D, [2020-04-01T13:05:03.464233 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:05:03.464977 #5737] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:05:03.465269 #5737]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:05:03.465349 #5737]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T13:05:03.465437 #5737]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:05:03.466252 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:05:03.467581 #5737] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:05:03.468977 #5737] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8390560720"], ["active", 1]]
D, [2020-04-01T13:05:03.470144 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:05:03.471343 #5737]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 13:05:03 +0000
I, [2020-04-01T13:05:03.472276 #5737]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T13:05:03.472555 #5737]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T13:05:03.473664 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:05:03.475178 #5737] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T13:05:03.476300 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:05:03.477690 #5737]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T13:05:03.484872 #5737]  INFO -- :   Rendered stores/_form.html.erb (6.4ms)
I, [2020-04-01T13:05:03.485237 #5737]  INFO -- :   Rendered stores/new.html.erb within layouts/application (7.3ms)
I, [2020-04-01T13:05:03.486455 #5737]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:05:03.486964 #5737]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:05:03.487568 #5737]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T13:05:03.488159 #5737]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:05:03.489182 #5737]  INFO -- : Completed 200 OK in 16ms (Views: 11.7ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:05:03.492576 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:05:03.493218 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:05:03.493537 #5737]  INFO -- : -----------------------------------------
I, [2020-04-01T13:05:03.493648 #5737]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T13:05:03.493714 #5737]  INFO -- : -----------------------------------------
D, [2020-04-01T13:05:03.494342 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:05:03.495473 #5737] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:05:03.496717 #5737] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4276687865"], ["active", 1]]
D, [2020-04-01T13:05:03.498013 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:05:03.498924 #5737]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 13:05:03 +0000
I, [2020-04-01T13:05:03.499741 #5737]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T13:05:03.500584 #5737]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T13:05:03.506991 #5737]  INFO -- :   Rendered stores/_form.html.erb (6.0ms)
I, [2020-04-01T13:05:03.507413 #5737]  INFO -- :   Rendered stores/new.html.erb within layouts/application (6.5ms)
I, [2020-04-01T13:05:03.508492 #5737]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T13:05:03.509065 #5737]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:05:03.509671 #5737]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T13:05:03.510350 #5737]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:05:03.511118 #5737]  INFO -- : Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T13:05:03.514052 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:05:03.514698 #5737] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:05:03.514967 #5737]  INFO -- : ------------------------------------------
I, [2020-04-01T13:05:03.515058 #5737]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T13:05:03.515131 #5737]  INFO -- : ------------------------------------------
D, [2020-04-01T13:05:03.515885 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:05:03.517016 #5737] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:05:03.518376 #5737] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5611723611"], ["active", 1]]
D, [2020-04-01T13:05:03.519710 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:05:03.520665 #5737]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 13:05:03 +0000
I, [2020-04-01T13:05:03.521413 #5737]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T13:05:03.521806 #5737]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:05:03.522560 #5737] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:05:03.523708 #5737]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T13:05:03.530499 #5737]  INFO -- :   Rendered stores/_form.html.erb (6.3ms)
I, [2020-04-01T13:05:03.530887 #5737]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (6.9ms)
I, [2020-04-01T13:05:03.531962 #5737]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:05:03.532487 #5737]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:05:03.533051 #5737]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T13:05:03.533763 #5737]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:05:03.534773 #5737]  INFO -- : Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.1ms)
D, [2020-04-01T13:05:03.538130 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:05:03.538797 #5737] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:05:03.539082 #5737]  INFO -- : --------------------------------------------
I, [2020-04-01T13:05:03.539176 #5737]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T13:05:03.539236 #5737]  INFO -- : --------------------------------------------
D, [2020-04-01T13:05:03.539893 #5737] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:05:03.540995 #5737] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:05:03.542426 #5737] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1252922674"], ["active", 1]]
D, [2020-04-01T13:05:03.543631 #5737] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:05:03.544563 #5737]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 13:05:03 +0000
I, [2020-04-01T13:05:03.545233 #5737]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T13:05:03.545531 #5737]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:05:03.546246 #5737] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:05:03.547953 #5737]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T13:05:03.548991 #5737]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.6ms)
I, [2020-04-01T13:05:03.550091 #5737]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:05:03.550616 #5737]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:05:03.551188 #5737]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:05:03.551750 #5737]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:05:03.552595 #5737]  INFO -- : Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.1ms)
D, [2020-04-01T13:05:03.555892 #5737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:11.577353 #5828] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T13:06:11.636304 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:11.636648 #5828]  INFO -- : -----------------------------------------
I, [2020-04-01T13:06:11.636697 #5828]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T13:06:11.636780 #5828]  INFO -- : -----------------------------------------
D, [2020-04-01T13:06:11.704471 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:11.705943 #5828] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:11.707196 #5828] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6962032095"], ["active", 1]]
D, [2020-04-01T13:06:11.708242 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:11.710425 #5828]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 13:06:11 +0000
I, [2020-04-01T13:06:11.716555 #5828]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T13:06:11.723143 #5828]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T13:06:11.860045 #5828]  INFO -- :   Rendered stores/_form.html.erb (135.4ms)
I, [2020-04-01T13:06:11.860505 #5828]  INFO -- :   Rendered stores/new.html.erb within layouts/application (137.0ms)
I, [2020-04-01T13:06:12.041403 #5828]  INFO -- :   Rendered partials/_topbar.html.erb (1.5ms)
I, [2020-04-01T13:06:12.043899 #5828]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T13:06:12.046331 #5828]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T13:06:12.049021 #5828]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T13:06:12.051064 #5828]  INFO -- : Completed 200 OK in 334ms (Views: 328.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T13:06:12.059752 #5828] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:12.061048 #5828] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:12.061496 #5828]  INFO -- : -------------------------------------------
I, [2020-04-01T13:06:12.061568 #5828]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T13:06:12.061665 #5828]  INFO -- : -------------------------------------------
D, [2020-04-01T13:06:12.062658 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:12.064505 #5828] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:12.066355 #5828] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0017644756"], ["active", 1]]
D, [2020-04-01T13:06:12.068240 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:12.069496 #5828]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 13:06:12 +0000
I, [2020-04-01T13:06:12.070642 #5828]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T13:06:12.072723 #5828]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-01T13:06:12.075334 #5828] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T13:06:12.077966 #5828]  INFO -- :   Rendered stores/index.html.erb within layouts/application (4.6ms)
I, [2020-04-01T13:06:12.079576 #5828]  INFO -- :   Rendered partials/_topbar.html.erb (0.5ms)
I, [2020-04-01T13:06:12.080382 #5828]  INFO -- :   Rendered partials/_nav.html.erb (0.3ms)
I, [2020-04-01T13:06:12.081261 #5828]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T13:06:12.083133 #5828]  INFO -- :   Rendered partials/_footer.html.erb (0.9ms)
I, [2020-04-01T13:06:12.084781 #5828]  INFO -- : Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:06:12.093767 #5828] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:12.095301 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:12.095966 #5828]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:06:12.096040 #5828]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T13:06:12.096118 #5828]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:06:12.097184 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:12.099662 #5828] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:12.102487 #5828] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2912192073"], ["active", 1]]
D, [2020-04-01T13:06:12.106486 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:12.108189 #5828]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 13:06:12 +0000
I, [2020-04-01T13:06:12.115736 #5828]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T13:06:12.116582 #5828]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:06:12.118651 #5828] DEBUG -- :   [1m[36mStore Load (0.9ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:06:12.124722 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:12.127450 #5828] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:06:12.130466 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:12.132142 #5828]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T13:06:12.144227 #5828]  INFO -- :   Rendered stores/_form.html.erb (10.6ms)
I, [2020-04-01T13:06:12.145224 #5828]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (12.1ms)
I, [2020-04-01T13:06:12.148725 #5828]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T13:06:12.150000 #5828]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:06:12.151241 #5828]  INFO -- :   Rendered partials/_quick_links.html.erb (0.9ms)
I, [2020-04-01T13:06:12.152668 #5828]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:06:12.155170 #5828]  INFO -- : Completed 200 OK in 38ms (Views: 22.0ms | ActiveRecord: 1.2ms)
D, [2020-04-01T13:06:12.160326 #5828] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:12.161481 #5828] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:12.161884 #5828]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:06:12.161964 #5828]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T13:06:12.162037 #5828]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:06:12.162939 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:12.164436 #5828] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:12.166182 #5828] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0004206274"], ["active", 1]]
D, [2020-04-01T13:06:12.168075 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:12.169994 #5828]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 13:06:12 +0000
I, [2020-04-01T13:06:12.171083 #5828]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T13:06:12.171450 #5828]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T13:06:12.172733 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:12.174608 #5828] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T13:06:12.176248 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:12.177347 #5828]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T13:06:12.188255 #5828]  INFO -- :   Rendered stores/_form.html.erb (10.5ms)
I, [2020-04-01T13:06:12.188665 #5828]  INFO -- :   Rendered stores/new.html.erb within layouts/application (11.0ms)
I, [2020-04-01T13:06:12.189897 #5828]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T13:06:12.190437 #5828]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:06:12.191052 #5828]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:06:12.191669 #5828]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:06:12.192824 #5828]  INFO -- : Completed 200 OK in 21ms (Views: 15.1ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:06:12.196750 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:12.197795 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:12.198164 #5828]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T13:06:12.198250 #5828]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T13:06:12.198312 #5828]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T13:06:12.199129 #5828] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:12.200338 #5828] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:12.201791 #5828] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5066350354"], ["active", 1]]
D, [2020-04-01T13:06:12.203128 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:12.204252 #5828]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 13:06:12 +0000
I, [2020-04-01T13:06:12.205281 #5828]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T13:06:12.205584 #5828]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:06:12.206436 #5828] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:06:12.207674 #5828] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:12.209123 #5828] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:06:12.210762 #5828] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T13:06:12.211953 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:12.212783 #5828]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T13:06:12.213762 #5828]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T13:06:12.223421 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:12.224820 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:12.225099 #5828]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T13:06:12.225182 #5828]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T13:06:12.225237 #5828]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T13:06:12.225994 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:12.227085 #5828] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:12.228304 #5828] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4170283300"], ["active", 1]]
D, [2020-04-01T13:06:12.229465 #5828] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:12.230445 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T13:06:12.231449 #5828]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 13:06:12 +0000
I, [2020-04-01T13:06:12.232244 #5828]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T13:06:12.232534 #5828]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T13:06:12.233542 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:12.234698 #5828] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T13:06:12.235976 #5828] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T13:06:12.237266 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:12.238139 #5828]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T13:06:12.239037 #5828]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-01T13:06:12.243008 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T13:06:12.243914 #5828] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T13:06:12.244874 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:12.245767 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:12.246035 #5828]  INFO -- : ------------------------------------------
I, [2020-04-01T13:06:12.246110 #5828]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T13:06:12.246203 #5828]  INFO -- : ------------------------------------------
D, [2020-04-01T13:06:12.246833 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:12.247880 #5828] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:12.249236 #5828] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2026950239"], ["active", 1]]
D, [2020-04-01T13:06:12.250494 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:12.251417 #5828]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 13:06:12 +0000
I, [2020-04-01T13:06:12.252151 #5828]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T13:06:12.252441 #5828]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:06:12.253147 #5828] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:06:12.254291 #5828]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T13:06:12.260810 #5828]  INFO -- :   Rendered stores/_form.html.erb (6.1ms)
I, [2020-04-01T13:06:12.261216 #5828]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (6.6ms)
I, [2020-04-01T13:06:12.262446 #5828]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:06:12.262994 #5828]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:06:12.263577 #5828]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T13:06:12.264184 #5828]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:06:12.265083 #5828]  INFO -- : Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.1ms)
D, [2020-04-01T13:06:12.268281 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:12.268991 #5828] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:12.269256 #5828]  INFO -- : --------------------------------------------
I, [2020-04-01T13:06:12.269379 #5828]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T13:06:12.269433 #5828]  INFO -- : --------------------------------------------
D, [2020-04-01T13:06:12.270135 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:12.271195 #5828] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:12.272440 #5828] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9684009002"], ["active", 1]]
D, [2020-04-01T13:06:12.273668 #5828] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:12.274582 #5828]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 13:06:12 +0000
I, [2020-04-01T13:06:12.275262 #5828]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T13:06:12.275553 #5828]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:06:12.276227 #5828] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:06:12.277898 #5828]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T13:06:12.278924 #5828]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.7ms)
I, [2020-04-01T13:06:12.280038 #5828]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:06:12.280557 #5828]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:06:12.281154 #5828]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T13:06:12.281769 #5828]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:06:12.282571 #5828]  INFO -- : Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.1ms)
D, [2020-04-01T13:06:12.285723 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:12.286800 #5828] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:12.287111 #5828]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T13:06:12.287182 #5828]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T13:06:12.287239 #5828]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T13:06:12.287869 #5828] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:12.289039 #5828] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:12.290416 #5828] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0489945288"], ["active", 1]]
D, [2020-04-01T13:06:12.291643 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:12.292461 #5828]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 13:06:12 +0000
F, [2020-04-01T13:06:12.307955 #5828] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T13:06:12.310802 #5828] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:47.228060 #5879] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T13:06:47.286020 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:47.286332 #5879]  INFO -- : -------------------------------------------
I, [2020-04-01T13:06:47.286371 #5879]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T13:06:47.286391 #5879]  INFO -- : -------------------------------------------
D, [2020-04-01T13:06:47.351902 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:47.353387 #5879] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:47.354685 #5879] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1256264708"], ["active", 1]]
D, [2020-04-01T13:06:47.355675 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:47.357856 #5879]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 13:06:47 +0000
I, [2020-04-01T13:06:47.363702 #5879]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T13:06:47.370566 #5879]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-01T13:06:47.372927 #5879] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T13:06:47.374892 #5879]  INFO -- :   Rendered stores/index.html.erb within layouts/application (4.0ms)
I, [2020-04-01T13:06:47.536296 #5879]  INFO -- :   Rendered partials/_topbar.html.erb (0.7ms)
I, [2020-04-01T13:06:47.537534 #5879]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T13:06:47.538862 #5879]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T13:06:47.540140 #5879]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T13:06:47.541209 #5879]  INFO -- : Completed 200 OK in 177ms (Views: 171.7ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:06:47.546489 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:47.547459 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:47.547794 #5879]  INFO -- : --------------------------------------------
I, [2020-04-01T13:06:47.547886 #5879]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T13:06:47.547942 #5879]  INFO -- : --------------------------------------------
D, [2020-04-01T13:06:47.548804 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:47.550283 #5879] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:47.551642 #5879] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3382958563"], ["active", 1]]
D, [2020-04-01T13:06:47.552845 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:47.553986 #5879]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 13:06:47 +0000
I, [2020-04-01T13:06:47.554953 #5879]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T13:06:47.555167 #5879]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:06:47.556315 #5879] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:06:47.557956 #5879]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T13:06:47.558860 #5879]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.6ms)
I, [2020-04-01T13:06:47.559964 #5879]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T13:06:47.560463 #5879]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:06:47.561020 #5879]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:06:47.561645 #5879]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:06:47.562540 #5879]  INFO -- : Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.1ms)
D, [2020-04-01T13:06:47.565686 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:47.566572 #5879] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:47.566879 #5879]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T13:06:47.566959 #5879]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T13:06:47.567017 #5879]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T13:06:47.567673 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:47.568789 #5879] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:47.570126 #5879] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4121255221"], ["active", 1]]
D, [2020-04-01T13:06:47.571414 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:47.572325 #5879]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 13:06:47 +0000
I, [2020-04-01T13:06:47.576192 #5879]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T13:06:47.576462 #5879]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:06:47.577226 #5879] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:06:47.578411 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:47.579832 #5879] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:06:47.581434 #5879] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T13:06:47.582643 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:47.583535 #5879]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T13:06:47.584486 #5879]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T13:06:47.589016 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:47.589750 #5879] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:47.590001 #5879]  INFO -- : ------------------------------------------
I, [2020-04-01T13:06:47.590078 #5879]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T13:06:47.590155 #5879]  INFO -- : ------------------------------------------
D, [2020-04-01T13:06:47.590847 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:47.591917 #5879] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:47.593217 #5879] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2013205833"], ["active", 1]]
D, [2020-04-01T13:06:47.594420 #5879] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:47.595306 #5879]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 13:06:47 +0000
I, [2020-04-01T13:06:47.596072 #5879]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T13:06:47.596313 #5879]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:06:47.597002 #5879] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:06:47.598581 #5879]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T13:06:47.780444 #5879]  INFO -- :   Rendered stores/_form.html.erb (180.5ms)
I, [2020-04-01T13:06:47.780868 #5879]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (182.0ms)
I, [2020-04-01T13:06:47.783022 #5879]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:06:47.783584 #5879]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:06:47.784801 #5879]  INFO -- :   Rendered partials/_quick_links.html.erb (0.8ms)
I, [2020-04-01T13:06:47.785942 #5879]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:06:47.787359 #5879]  INFO -- : Completed 200 OK in 191ms (Views: 188.0ms | ActiveRecord: 0.1ms)
D, [2020-04-01T13:06:47.793610 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:47.794890 #5879] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:47.795179 #5879]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:06:47.795254 #5879]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T13:06:47.795315 #5879]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:06:47.796308 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:47.798241 #5879] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:47.800014 #5879] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5692625827"], ["active", 1]]
D, [2020-04-01T13:06:47.802633 #5879] DEBUG -- :   [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:47.804743 #5879]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 13:06:47 +0000
I, [2020-04-01T13:06:47.805692 #5879]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T13:06:47.806484 #5879]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T13:06:47.808008 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:47.810500 #5879] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T13:06:47.811991 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:47.813531 #5879]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T13:06:47.823989 #5879]  INFO -- :   Rendered stores/_form.html.erb (9.7ms)
I, [2020-04-01T13:06:47.824867 #5879]  INFO -- :   Rendered stores/new.html.erb within layouts/application (10.5ms)
I, [2020-04-01T13:06:47.827084 #5879]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T13:06:47.828182 #5879]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:06:47.829186 #5879]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:06:47.830422 #5879]  INFO -- :   Rendered partials/_footer.html.erb (0.8ms)
I, [2020-04-01T13:06:47.833579 #5879]  INFO -- : Completed 200 OK in 26ms (Views: 18.7ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:06:47.856627 #5879] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:47.857353 #5879] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:47.857667 #5879]  INFO -- : -----------------------------------------
I, [2020-04-01T13:06:47.857751 #5879]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T13:06:47.857826 #5879]  INFO -- : -----------------------------------------
D, [2020-04-01T13:06:47.858577 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:47.859853 #5879] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:47.861173 #5879] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5678029894"], ["active", 1]]
D, [2020-04-01T13:06:47.862428 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:47.863442 #5879]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 13:06:47 +0000
I, [2020-04-01T13:06:47.864364 #5879]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T13:06:47.865319 #5879]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T13:06:47.872159 #5879]  INFO -- :   Rendered stores/_form.html.erb (6.4ms)
I, [2020-04-01T13:06:47.872544 #5879]  INFO -- :   Rendered stores/new.html.erb within layouts/application (6.9ms)
I, [2020-04-01T13:06:47.873750 #5879]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:06:47.874341 #5879]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:06:47.874956 #5879]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T13:06:47.875577 #5879]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:06:47.876518 #5879]  INFO -- : Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T13:06:47.879480 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:47.880191 #5879] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:47.880468 #5879]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T13:06:47.880543 #5879]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T13:06:47.880604 #5879]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T13:06:47.881313 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:47.882524 #5879] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:47.883867 #5879] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8673654765"], ["active", 1]]
D, [2020-04-01T13:06:47.885034 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:47.885992 #5879]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 13:06:47 +0000
F, [2020-04-01T13:06:47.902517 #5879] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T13:06:47.905550 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:47.906329 #5879] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:47.906615 #5879]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T13:06:47.906706 #5879]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T13:06:47.906769 #5879]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T13:06:47.907519 #5879] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:47.908757 #5879] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:47.910195 #5879] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7457318808"], ["active", 1]]
D, [2020-04-01T13:06:47.911389 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:47.912298 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T13:06:47.913390 #5879]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 13:06:47 +0000
I, [2020-04-01T13:06:47.914224 #5879]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T13:06:47.914542 #5879]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T13:06:47.915591 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:47.916673 #5879] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T13:06:47.918050 #5879] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T13:06:47.919285 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:47.920146 #5879]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T13:06:47.921092 #5879]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-01T13:06:47.924769 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T13:06:47.925736 #5879] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T13:06:47.926620 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:06:47.927318 #5879] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:06:47.927596 #5879]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:06:47.927681 #5879]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T13:06:47.927753 #5879]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:06:47.928390 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:47.929488 #5879] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:06:47.930828 #5879] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0239499927"], ["active", 1]]
D, [2020-04-01T13:06:47.932027 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:47.933031 #5879]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 13:06:47 +0000
I, [2020-04-01T13:06:47.933902 #5879]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T13:06:47.934217 #5879]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:06:47.934889 #5879] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:06:47.935998 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:06:47.937815 #5879] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:06:47.939407 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:06:47.940268 #5879]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T13:06:47.947347 #5879]  INFO -- :   Rendered stores/_form.html.erb (6.7ms)
I, [2020-04-01T13:06:47.947733 #5879]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (7.1ms)
I, [2020-04-01T13:06:47.948816 #5879]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:06:47.949373 #5879]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:06:47.949994 #5879]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:06:47.950650 #5879]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:06:47.951777 #5879]  INFO -- : Completed 200 OK in 17ms (Views: 11.1ms | ActiveRecord: 0.3ms)
D, [2020-04-01T13:06:47.955918 #5879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:07:34.382313 #5939] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T13:07:34.441723 #5939] DEBUG -- :   [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:07:34.442090 #5939]  INFO -- : -----------------------------------------
I, [2020-04-01T13:07:34.442130 #5939]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T13:07:34.442152 #5939]  INFO -- : -----------------------------------------
D, [2020-04-01T13:07:34.509683 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:07:34.511206 #5939] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:07:34.512494 #5939] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8079774037"], ["active", 1]]
D, [2020-04-01T13:07:34.513534 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:07:34.515804 #5939]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 13:07:34 +0000
I, [2020-04-01T13:07:34.522076 #5939]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T13:07:34.528679 #5939]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T13:07:34.672117 #5939]  INFO -- :   Rendered stores/_form.html.erb (141.8ms)
I, [2020-04-01T13:07:34.672531 #5939]  INFO -- :   Rendered stores/new.html.erb within layouts/application (143.6ms)
I, [2020-04-01T13:07:34.833575 #5939]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T13:07:34.835004 #5939]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T13:07:34.836344 #5939]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T13:07:34.837867 #5939]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T13:07:34.839074 #5939]  INFO -- : Completed 200 OK in 317ms (Views: 311.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T13:07:34.845172 #5939] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:07:34.846067 #5939] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:07:34.847190 #5939]  INFO -- : -------------------------------------------
I, [2020-04-01T13:07:34.847272 #5939]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T13:07:34.847331 #5939]  INFO -- : -------------------------------------------
D, [2020-04-01T13:07:34.848323 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:07:34.850105 #5939] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:07:34.851642 #5939] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6844491696"], ["active", 1]]
D, [2020-04-01T13:07:34.853180 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:07:34.854420 #5939]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 13:07:34 +0000
I, [2020-04-01T13:07:34.855391 #5939]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T13:07:34.857395 #5939]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-01T13:07:34.859584 #5939] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T13:07:34.861754 #5939]  INFO -- :   Rendered stores/index.html.erb within layouts/application (4.0ms)
I, [2020-04-01T13:07:34.863222 #5939]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T13:07:34.863902 #5939]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:07:34.864563 #5939]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:07:34.865345 #5939]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:07:34.866482 #5939]  INFO -- : Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:07:34.871033 #5939] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:07:34.872787 #5939] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:07:34.873150 #5939]  INFO -- : --------------------------------------------
I, [2020-04-01T13:07:34.873245 #5939]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T13:07:34.873304 #5939]  INFO -- : --------------------------------------------
D, [2020-04-01T13:07:34.874347 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:07:34.875700 #5939] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:07:34.877511 #5939] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0153063651"], ["active", 1]]
D, [2020-04-01T13:07:34.879084 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:07:34.880250 #5939]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 13:07:34 +0000
I, [2020-04-01T13:07:34.881086 #5939]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T13:07:34.881581 #5939]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:07:34.882900 #5939] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:07:34.884988 #5939]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T13:07:34.887127 #5939]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.9ms)
I, [2020-04-01T13:07:34.888744 #5939]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T13:07:34.889514 #5939]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T13:07:34.890328 #5939]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T13:07:34.891167 #5939]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T13:07:34.892864 #5939]  INFO -- : Completed 200 OK in 11ms (Views: 7.1ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:07:34.901190 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:07:34.903918 #5939] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:07:34.904206 #5939]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T13:07:34.904277 #5939]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T13:07:34.904345 #5939]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T13:07:34.906490 #5939] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:07:34.908758 #5939] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:07:34.911318 #5939] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9842883884"], ["active", 1]]
D, [2020-04-01T13:07:34.915585 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:07:34.917856 #5939]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 13:07:34 +0000
I, [2020-04-01T13:07:34.927068 #5939]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T13:07:34.927577 #5939]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:07:34.928708 #5939] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:07:34.930902 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:07:34.933178 #5939] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:07:34.935985 #5939] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T13:07:34.938592 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:07:34.940457 #5939]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T13:07:34.942802 #5939]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
D, [2020-04-01T13:07:34.958418 #5939] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:07:34.960004 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:07:34.960985 #5939]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T13:07:34.961074 #5939]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T13:07:34.961138 #5939]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T13:07:34.962650 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:07:34.965119 #5939] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:07:34.967964 #5939] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9039876725"], ["active", 1]]
D, [2020-04-01T13:07:34.971611 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T13:07:34.973160 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T13:07:34.975157 #5939]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 13:07:34 +0000
I, [2020-04-01T13:07:34.976369 #5939]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T13:07:34.976872 #5939]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T13:07:34.979000 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:07:34.980355 #5939] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T13:07:34.982245 #5939] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T13:07:34.984189 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:07:34.985237 #5939]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T13:07:34.986743 #5939]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
D, [2020-04-01T13:07:34.993250 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T13:07:34.994467 #5939] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T13:07:34.995626 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:07:34.997104 #5939] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:07:34.997740 #5939]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:07:34.997841 #5939]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T13:07:34.997912 #5939]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:07:34.998801 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:07:35.000131 #5939] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:07:35.002151 #5939] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7180036526"], ["active", 1]]
D, [2020-04-01T13:07:35.004418 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:07:35.006736 #5939]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 13:07:35 +0000
I, [2020-04-01T13:07:35.007900 #5939]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T13:07:35.008524 #5939]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T13:07:35.011048 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:07:35.014334 #5939] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T13:07:35.017568 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:07:35.019885 #5939]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T13:07:35.033248 #5939]  INFO -- :   Rendered stores/_form.html.erb (12.2ms)
I, [2020-04-01T13:07:35.046603 #5939]  INFO -- :   Rendered stores/new.html.erb within layouts/application (26.4ms)
I, [2020-04-01T13:07:35.047883 #5939]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:07:35.048477 #5939]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T13:07:35.049054 #5939]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:07:35.049730 #5939]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:07:35.050922 #5939]  INFO -- : Completed 200 OK in 42ms (Views: 31.3ms | ActiveRecord: 0.2ms)
D, [2020-04-01T13:07:35.055030 #5939] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:07:35.056417 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:07:35.056725 #5939]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T13:07:35.056805 #5939]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T13:07:35.056880 #5939]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T13:07:35.057744 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:07:35.059087 #5939] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:07:35.060419 #5939] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7009831642"], ["active", 1]]
D, [2020-04-01T13:07:35.061771 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:07:35.062829 #5939]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 13:07:35 +0000
F, [2020-04-01T13:07:35.078619 #5939] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T13:07:35.081659 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:07:35.082703 #5939] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:07:35.083015 #5939]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T13:07:35.083096 #5939]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T13:07:35.083150 #5939]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T13:07:35.083804 #5939] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:07:35.084973 #5939] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:07:35.086325 #5939] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4457068647"], ["active", 1]]
D, [2020-04-01T13:07:35.087520 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:07:35.088538 #5939]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 13:07:35 +0000
I, [2020-04-01T13:07:35.089464 #5939]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T13:07:35.089772 #5939]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T13:07:35.090551 #5939] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:07:35.091719 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:07:35.093598 #5939] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T13:07:35.095213 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T13:07:35.096516 #5939]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T13:07:35.104016 #5939]  INFO -- :   Rendered stores/_form.html.erb (6.8ms)
I, [2020-04-01T13:07:35.104398 #5939]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (7.6ms)
I, [2020-04-01T13:07:35.105554 #5939]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:07:35.106236 #5939]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T13:07:35.106880 #5939]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:07:35.107545 #5939]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:07:35.108677 #5939]  INFO -- : Completed 200 OK in 19ms (Views: 12.1ms | ActiveRecord: 0.3ms)
D, [2020-04-01T13:07:35.112934 #5939] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T13:07:35.114024 #5939] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T13:07:35.114397 #5939]  INFO -- : ------------------------------------------
I, [2020-04-01T13:07:35.114481 #5939]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T13:07:35.114547 #5939]  INFO -- : ------------------------------------------
D, [2020-04-01T13:07:35.115317 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T13:07:35.116474 #5939] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T13:07:35.117883 #5939] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3891944411"], ["active", 1]]
D, [2020-04-01T13:07:35.119209 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T13:07:35.120170 #5939]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 13:07:35 +0000
I, [2020-04-01T13:07:35.120967 #5939]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T13:07:35.121250 #5939]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T13:07:35.122058 #5939] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T13:07:35.123176 #5939]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T13:07:35.130002 #5939]  INFO -- :   Rendered stores/_form.html.erb (6.4ms)
I, [2020-04-01T13:07:35.130422 #5939]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (6.9ms)
I, [2020-04-01T13:07:35.131574 #5939]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T13:07:35.132130 #5939]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T13:07:35.132761 #5939]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T13:07:35.133442 #5939]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T13:07:35.134425 #5939]  INFO -- : Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.1ms)
D, [2020-04-01T13:07:35.137791 #5939] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:30:02.822166 #15348] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T15:30:02.898209 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:30:02.898668 #15348]  INFO -- : ---------------------------------------------
I, [2020-04-01T15:30:02.898725 #15348]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T15:30:02.898766 #15348]  INFO -- : ---------------------------------------------
D, [2020-04-01T15:30:02.994922 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:02.997564 #15348] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "111194327"], ["LIMIT", 1]]
D, [2020-04-01T15:30:02.998984 #15348] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "111194327"], ["date_of_birth", "2001-04-01"], ["phone", "6669044274"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:30:03.000156 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:30:03.002756 #15348]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 15:30:03 +0000
I, [2020-04-01T15:30:03.009317 #15348]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T15:30:03.009563 #15348]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:30:03.014421 #15348] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:30:03.020914 #15348]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:30:03.286858 #15348]  INFO -- :   Rendered employees/_form.html.erb (263.3ms)
I, [2020-04-01T15:30:03.287327 #15348]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (266.1ms)
I, [2020-04-01T15:30:03.512884 #15348]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T15:30:03.514830 #15348]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T15:30:03.517384 #15348]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T15:30:03.520640 #15348]  INFO -- :   Rendered partials/_footer.html.erb (0.7ms)
I, [2020-04-01T15:30:03.522042 #15348]  INFO -- : Completed 200 OK in 512ms (Views: 503.1ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:30:03.529440 #15348] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:30:03.530313 #15348] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:30:03.530649 #15348]  INFO -- : --------------------------------------------
I, [2020-04-01T15:30:03.530741 #15348]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T15:30:03.530796 #15348]  INFO -- : --------------------------------------------
D, [2020-04-01T15:30:03.531988 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.533612 #15348] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "043412543"], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.535303 #15348] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "043412543"], ["date_of_birth", "2001-04-01"], ["phone", "7872733812"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:30:03.536846 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:30:03.538123 #15348]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 15:30:03 +0000
I, [2020-04-01T15:30:03.539287 #15348]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T15:30:03.541093 #15348]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:30:03.549408 #15348]  INFO -- :   Rendered employees/_form.html.erb (7.6ms)
I, [2020-04-01T15:30:03.549912 #15348]  INFO -- :   Rendered employees/new.html.erb within layouts/application (8.4ms)
I, [2020-04-01T15:30:03.551346 #15348]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:30:03.551951 #15348]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T15:30:03.552585 #15348]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:30:03.553470 #15348]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:30:03.554679 #15348]  INFO -- : Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T15:30:03.559215 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:30:03.559934 #15348] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:30:03.560246 #15348]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:30:03.560390 #15348]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T15:30:03.560481 #15348]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:30:03.561451 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.563104 #15348] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "200365114"], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.564706 #15348] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "200365114"], ["date_of_birth", "2001-04-01"], ["phone", "1104621833"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:30:03.567805 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:30:03.569258 #15348]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:30:03 +0000
I, [2020-04-01T15:30:03.577350 #15348]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:30:03.577602 #15348]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:30:03.579199 #15348] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.581196 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.584328 #15348] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.590491 #15348] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T15:30:03.592401 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:30:03.593950 #15348]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T15:30:03.595904 #15348]  INFO -- : Completed 302 Found in 18ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:30:03.606955 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:30:03.608251 #15348] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:30:03.609048 #15348]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:30:03.609121 #15348]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T15:30:03.609182 #15348]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:30:03.610965 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.613793 #15348] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "347924136"], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.617167 #15348] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "347924136"], ["date_of_birth", "2001-04-01"], ["phone", "5778231239"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:30:03.620991 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:30:03.623513 #15348]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:30:03 +0000
I, [2020-04-01T15:30:03.625265 #15348]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:30:03.626279 #15348]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:30:03.627701 #15348] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.630804 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.634334 #15348] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.639766 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:30:03.641065 #15348]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:30:03.654438 #15348]  INFO -- :   Rendered employees/_form.html.erb (11.9ms)
I, [2020-04-01T15:30:03.654821 #15348]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (13.5ms)
I, [2020-04-01T15:30:03.657116 #15348]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:30:03.657860 #15348]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:30:03.658620 #15348]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:30:03.659475 #15348]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:30:03.661045 #15348]  INFO -- : Completed 200 OK in 34ms (Views: 19.1ms | ActiveRecord: 0.3ms)
D, [2020-04-01T15:30:03.667671 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:30:03.668528 #15348] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:30:03.668846 #15348]  INFO -- : --------------------------------------------------
I, [2020-04-01T15:30:03.668947 #15348]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T15:30:03.669026 #15348]  INFO -- : --------------------------------------------------
D, [2020-04-01T15:30:03.670266 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.672013 #15348] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "151166466"], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.673793 #15348] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "151166466"], ["date_of_birth", "2001-04-01"], ["phone", "7631734775"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:30:03.675952 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.703098 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.705823 #15348] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.708448 #15348] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9992118858"], ["active", 1]]
D, [2020-04-01T15:30:03.710932 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.740751 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.742241 #15348] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:30:03.743436 #15348] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:30:03.744518 #15348] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.751663 #15348] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.752923 #15348] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T15:30:03.753995 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:30:03.755136 #15348]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 15:30:03 +0000
I, [2020-04-01T15:30:03.756041 #15348]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T15:30:03.756311 #15348]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:30:03.757086 #15348] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:30:03.759095 #15348]  INFO -- : Completed 500  in 3ms (ActiveRecord: 0.1ms)
F, [2020-04-01T15:30:03.769394 #15348] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x0000565227436b18>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:30:03.772563 #15348] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:30:03.773417 #15348] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:30:03.773755 #15348]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:30:03.773832 #15348]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T15:30:03.773906 #15348]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:30:03.774856 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.776215 #15348] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "075377729"], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.777560 #15348] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "075377729"], ["date_of_birth", "2001-04-01"], ["phone", "1767850458"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:30:03.778824 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.779667 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T15:30:03.780858 #15348]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:30:03 +0000
I, [2020-04-01T15:30:03.781823 #15348]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:30:03.782120 #15348]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:30:03.783186 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.784425 #15348] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.785713 #15348] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:30:03.786949 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:30:03.787796 #15348]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T15:30:03.788720 #15348]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-01T15:30:03.792660 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T15:30:03.793554 #15348] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T15:30:03.794576 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:30:03.795245 #15348] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:30:03.795511 #15348]  INFO -- : ----------------------------------------------
I, [2020-04-01T15:30:03.795583 #15348]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T15:30:03.795641 #15348]  INFO -- : ----------------------------------------------
D, [2020-04-01T15:30:03.796519 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.797728 #15348] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "213356006"], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.799046 #15348] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "213356006"], ["date_of_birth", "2001-04-01"], ["phone", "9400082719"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:30:03.800265 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:30:03.801243 #15348]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 15:30:03 +0000
I, [2020-04-01T15:30:03.802071 #15348]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T15:30:03.809869 #15348]  INFO -- :   Rendering employees/index.html.erb within layouts/application
I, [2020-04-01T15:30:03.812913 #15348]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.7ms)
I, [2020-04-01T15:30:03.813976 #15348]  INFO -- : Completed 500  in 12ms (ActiveRecord: 0.0ms)
F, [2020-04-01T15:30:03.825531 #15348] FATAL -- : 
NoMethodError - undefined method `each' for nil:NilClass:
  app/views/employees/index.html.erb:12:in `_app_views_employees_index_html_erb__3985870887687006362_47455426750660'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:30:03.829906 #15348] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:30:03.830830 #15348] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:30:03.831153 #15348]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:30:03.831236 #15348]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T15:30:03.831295 #15348]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:30:03.832349 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.834036 #15348] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "016388676"], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.835563 #15348] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "016388676"], ["date_of_birth", "2001-04-01"], ["phone", "4035016367"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:30:03.836913 #15348] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:30:03.838250 #15348]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:30:03 +0000
I, [2020-04-01T15:30:03.839185 #15348]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:30:03.839467 #15348]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:30:03.840632 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.842502 #15348] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.843838 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:30:03.844780 #15348]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:30:03.852275 #15348]  INFO -- :   Rendered employees/_form.html.erb (7.1ms)
I, [2020-04-01T15:30:03.852706 #15348]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.6ms)
I, [2020-04-01T15:30:03.853962 #15348]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:30:03.854620 #15348]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:30:03.855222 #15348]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:30:03.855910 #15348]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:30:03.857088 #15348]  INFO -- : Completed 200 OK in 17ms (Views: 11.8ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:30:03.860973 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:30:03.861641 #15348] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:30:03.861961 #15348]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T15:30:03.862034 #15348]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T15:30:03.862091 #15348]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T15:30:03.862936 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:30:03.864136 #15348] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "094922417"], ["LIMIT", 1]]
D, [2020-04-01T15:30:03.865437 #15348] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "094922417"], ["date_of_birth", "2001-04-01"], ["phone", "9154145006"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:30:03.866767 #15348] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:30:03.867624 #15348]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 15:30:03 +0000
F, [2020-04-01T15:30:03.884706 #15348] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:30:03.887679 #15348] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:15.970376 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T15:31:16.033815 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:16.034417 #15436]  INFO -- : ---------------------------------------------
I, [2020-04-01T15:31:16.034492 #15436]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T15:31:16.034534 #15436]  INFO -- : ---------------------------------------------
D, [2020-04-01T15:31:16.138279 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.141069 #15436] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "244015359"], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.142627 #15436] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "244015359"], ["date_of_birth", "2001-04-01"], ["phone", "7985919791"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:16.143920 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:16.146603 #15436]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 15:31:16 +0000
I, [2020-04-01T15:31:16.153668 #15436]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T15:31:16.153999 #15436]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:31:16.159283 #15436] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:31:16.163550 #15436]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:31:16.303217 #15436]  INFO -- :   Rendered employees/_form.html.erb (137.9ms)
I, [2020-04-01T15:31:16.303635 #15436]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (139.8ms)
I, [2020-04-01T15:31:16.458916 #15436]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T15:31:16.460138 #15436]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T15:31:16.461495 #15436]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T15:31:16.463022 #15436]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T15:31:16.464155 #15436]  INFO -- : Completed 200 OK in 310ms (Views: 302.1ms | ActiveRecord: 0.1ms)
D, [2020-04-01T15:31:16.470411 #15436] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:16.471229 #15436] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:16.471567 #15436]  INFO -- : ----------------------------------------------
I, [2020-04-01T15:31:16.471636 #15436]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T15:31:16.471704 #15436]  INFO -- : ----------------------------------------------
D, [2020-04-01T15:31:16.472839 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.474477 #15436] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "074568324"], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.476136 #15436] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "074568324"], ["date_of_birth", "2001-04-01"], ["phone", "5749390164"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:16.477521 #15436] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:16.478771 #15436]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 15:31:16 +0000
I, [2020-04-01T15:31:16.479741 #15436]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T15:31:16.482091 #15436]  INFO -- :   Rendering employees/index.html.erb within layouts/application
I, [2020-04-01T15:31:16.485275 #15436]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.8ms)
I, [2020-04-01T15:31:16.486442 #15436]  INFO -- : Completed 500  in 6ms (ActiveRecord: 0.0ms)
F, [2020-04-01T15:31:16.501918 #15436] FATAL -- : 
NoMethodError - undefined method `each' for nil:NilClass:
  app/views/employees/index.html.erb:12:in `_app_views_employees_index_html_erb___2167771605011557478_47343706374480'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:31:16.509551 #15436] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:16.511157 #15436] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:16.512083 #15436]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:31:16.512164 #15436]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T15:31:16.512243 #15436]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:31:16.513218 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.518699 #15436] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "159437771"], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.520344 #15436] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "159437771"], ["date_of_birth", "2001-04-01"], ["phone", "6860923341"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:16.522255 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:16.528976 #15436]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:31:16 +0000
I, [2020-04-01T15:31:16.530258 #15436]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:31:16.530773 #15436]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:31:16.532399 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.535196 #15436] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.537746 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:16.539864 #15436]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:31:16.555809 #15436]  INFO -- :   Rendered employees/_form.html.erb (14.2ms)
I, [2020-04-01T15:31:16.556785 #15436]  INFO -- :   Rendered employees/new.html.erb within layouts/application (16.0ms)
I, [2020-04-01T15:31:16.559230 #15436]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T15:31:16.560494 #15436]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:31:16.561816 #15436]  INFO -- :   Rendered partials/_quick_links.html.erb (0.9ms)
I, [2020-04-01T15:31:16.563118 #15436]  INFO -- :   Rendered partials/_footer.html.erb (0.9ms)
I, [2020-04-01T15:31:16.566139 #15436]  INFO -- : Completed 200 OK in 35ms (Views: 24.8ms | ActiveRecord: 0.3ms)
D, [2020-04-01T15:31:16.577992 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:16.579528 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:16.579843 #15436]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:31:16.579916 #15436]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T15:31:16.580603 #15436]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:31:16.582106 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.584588 #15436] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "343378705"], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.587023 #15436] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "343378705"], ["date_of_birth", "2001-04-01"], ["phone", "7271145619"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:16.588916 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:16.591067 #15436]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:31:16 +0000
I, [2020-04-01T15:31:16.592379 #15436]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:31:16.592672 #15436]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:31:16.593593 #15436] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.595288 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.597239 #15436] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.599359 #15436] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T15:31:16.601195 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:16.602313 #15436]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T15:31:16.603768 #15436]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:31:16.610667 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:16.611524 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:16.611809 #15436]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:31:16.611905 #15436]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T15:31:16.611965 #15436]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:31:16.613220 #15436] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.614845 #15436] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "122845776"], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.617358 #15436] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "122845776"], ["date_of_birth", "2001-04-01"], ["phone", "8059240731"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:16.620253 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.622506 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T15:31:16.624974 #15436]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:31:16 +0000
I, [2020-04-01T15:31:16.626441 #15436]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:31:16.626735 #15436]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:31:16.629008 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.631699 #15436] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.634261 #15436] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:16.636742 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:16.638112 #15436]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T15:31:16.651067 #15436]  INFO -- : Completed 302 Found in 24ms (ActiveRecord: 0.3ms)
D, [2020-04-01T15:31:16.655139 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T15:31:16.656030 #15436] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T15:31:16.656992 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:16.657698 #15436] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:16.657989 #15436]  INFO -- : --------------------------------------------
I, [2020-04-01T15:31:16.658058 #15436]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T15:31:16.658128 #15436]  INFO -- : --------------------------------------------
D, [2020-04-01T15:31:16.659077 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.660307 #15436] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "006007057"], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.661654 #15436] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "006007057"], ["date_of_birth", "2001-04-01"], ["phone", "2334597412"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:16.662949 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:16.663910 #15436]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 15:31:16 +0000
I, [2020-04-01T15:31:16.664849 #15436]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T15:31:16.665799 #15436]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:31:16.672651 #15436]  INFO -- :   Rendered employees/_form.html.erb (6.4ms)
I, [2020-04-01T15:31:16.673062 #15436]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.9ms)
I, [2020-04-01T15:31:16.674330 #15436]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T15:31:16.674922 #15436]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:31:16.675427 #15436]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T15:31:16.676062 #15436]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:31:16.676972 #15436]  INFO -- : Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T15:31:16.679914 #15436] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:16.680577 #15436] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:16.680894 #15436]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T15:31:16.680978 #15436]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T15:31:16.681036 #15436]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T15:31:16.681847 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.683075 #15436] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "374946805"], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.684416 #15436] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "374946805"], ["date_of_birth", "2001-04-01"], ["phone", "7056686545"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:16.685698 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:16.686555 #15436]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 15:31:16 +0000
F, [2020-04-01T15:31:16.702358 #15436] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:31:16.705131 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:16.705791 #15436] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:16.706060 #15436]  INFO -- : --------------------------------------------------
I, [2020-04-01T15:31:16.706130 #15436]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T15:31:16.706186 #15436]  INFO -- : --------------------------------------------------
D, [2020-04-01T15:31:16.707083 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.708400 #15436] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "090016493"], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.709781 #15436] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "090016493"], ["date_of_birth", "2001-04-01"], ["phone", "2270684230"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:16.710951 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.722275 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.723675 #15436] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.724951 #15436] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8753117734"], ["active", 1]]
D, [2020-04-01T15:31:16.726263 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.739688 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.741032 #15436] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:31:16.742223 #15436] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:31:16.743288 #15436] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.749771 #15436] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.750927 #15436] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T15:31:16.751859 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:16.753008 #15436]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 15:31:16 +0000
I, [2020-04-01T15:31:16.753941 #15436]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T15:31:16.754214 #15436]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:31:16.755046 #15436] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:31:16.756926 #15436]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T15:31:16.765731 #15436] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x0000561e239dc8e8>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:31:16.768949 #15436] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:16.769856 #15436] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:16.770135 #15436]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:31:16.770207 #15436]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T15:31:16.770299 #15436]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:31:16.771247 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.772862 #15436] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "026891883"], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.774227 #15436] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "026891883"], ["date_of_birth", "2001-04-01"], ["phone", "5006959693"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:16.775428 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:16.776555 #15436]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:31:16 +0000
I, [2020-04-01T15:31:16.777539 #15436]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:31:16.777867 #15436]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:31:16.778607 #15436] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.779870 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:16.781918 #15436] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:31:16.783598 #15436] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:16.784492 #15436]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:31:16.791492 #15436]  INFO -- :   Rendered employees/_form.html.erb (6.5ms)
I, [2020-04-01T15:31:16.791816 #15436]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.0ms)
I, [2020-04-01T15:31:16.792928 #15436]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:31:16.793504 #15436]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T15:31:16.794282 #15436]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:31:16.794875 #15436]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:31:16.795905 #15436]  INFO -- : Completed 200 OK in 18ms (Views: 11.0ms | ActiveRecord: 0.3ms)
D, [2020-04-01T15:31:16.799872 #15436] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:37.575910 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T15:31:37.632393 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:37.632705 #15471]  INFO -- : ---------------------------------------------
I, [2020-04-01T15:31:37.632751 #15471]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T15:31:37.632772 #15471]  INFO -- : ---------------------------------------------
D, [2020-04-01T15:31:37.700090 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:37.702478 #15471] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "380222273"], ["LIMIT", 1]]
D, [2020-04-01T15:31:37.703840 #15471] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "380222273"], ["date_of_birth", "2001-04-01"], ["phone", "1556380942"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:37.704932 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:37.707299 #15471]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 15:31:37 +0000
I, [2020-04-01T15:31:37.713697 #15471]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T15:31:37.713978 #15471]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:31:37.718699 #15471] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:31:37.722555 #15471]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:31:37.861542 #15471]  INFO -- :   Rendered employees/_form.html.erb (137.4ms)
I, [2020-04-01T15:31:37.862027 #15471]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (139.1ms)
I, [2020-04-01T15:31:38.019434 #15471]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T15:31:38.020787 #15471]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T15:31:38.022155 #15471]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T15:31:38.023555 #15471]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T15:31:38.024731 #15471]  INFO -- : Completed 200 OK in 310ms (Views: 303.4ms | ActiveRecord: 0.1ms)
D, [2020-04-01T15:31:38.031121 #15471] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:38.031969 #15471] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:38.032341 #15471]  INFO -- : --------------------------------------------
I, [2020-04-01T15:31:38.032413 #15471]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T15:31:38.032471 #15471]  INFO -- : --------------------------------------------
D, [2020-04-01T15:31:38.033611 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.035212 #15471] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "351004148"], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.036758 #15471] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "351004148"], ["date_of_birth", "2001-04-01"], ["phone", "0562540670"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:38.038263 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:38.039430 #15471]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 15:31:38 +0000
I, [2020-04-01T15:31:38.040495 #15471]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T15:31:38.042042 #15471]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:31:38.050419 #15471]  INFO -- :   Rendered employees/_form.html.erb (7.6ms)
I, [2020-04-01T15:31:38.050836 #15471]  INFO -- :   Rendered employees/new.html.erb within layouts/application (8.4ms)
I, [2020-04-01T15:31:38.052252 #15471]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:31:38.052848 #15471]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T15:31:38.053455 #15471]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:31:38.054326 #15471]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:31:38.055484 #15471]  INFO -- : Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T15:31:38.059811 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:38.060482 #15471] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:38.060819 #15471]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:31:38.060909 #15471]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T15:31:38.061033 #15471]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:31:38.062065 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.063690 #15471] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "262625845"], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.065330 #15471] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "262625845"], ["date_of_birth", "2001-04-01"], ["phone", "2122794387"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:38.068217 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:38.075240 #15471]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:31:38 +0000
I, [2020-04-01T15:31:38.076873 #15471]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:31:38.077187 #15471]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:31:38.079031 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.082994 #15471] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.088916 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:38.090087 #15471]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:31:38.100345 #15471]  INFO -- :   Rendered employees/_form.html.erb (9.8ms)
I, [2020-04-01T15:31:38.100972 #15471]  INFO -- :   Rendered employees/new.html.erb within layouts/application (10.6ms)
I, [2020-04-01T15:31:38.102958 #15471]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:31:38.103797 #15471]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:31:38.104669 #15471]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:31:38.105611 #15471]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:31:38.108344 #15471]  INFO -- : Completed 200 OK in 30ms (Views: 16.3ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:31:38.121346 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:38.122761 #15471] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:38.123044 #15471]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:31:38.123120 #15471]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T15:31:38.123184 #15471]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:31:38.125541 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.127619 #15471] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "013148712"], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.130849 #15471] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "013148712"], ["date_of_birth", "2001-04-01"], ["phone", "3511042774"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:38.134262 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:38.136884 #15471]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:31:38 +0000
I, [2020-04-01T15:31:38.139272 #15471]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:31:38.139548 #15471]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:31:38.140881 #15471] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.143907 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.147591 #15471] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.152239 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:38.153273 #15471]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:31:38.162805 #15471]  INFO -- :   Rendered employees/_form.html.erb (8.5ms)
I, [2020-04-01T15:31:38.163187 #15471]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (9.6ms)
I, [2020-04-01T15:31:38.164704 #15471]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:31:38.165376 #15471]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:31:38.166214 #15471]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:31:38.167033 #15471]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:31:38.168573 #15471]  INFO -- : Completed 200 OK in 29ms (Views: 14.4ms | ActiveRecord: 0.3ms)
D, [2020-04-01T15:31:38.175248 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:38.175935 #15471] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:38.176360 #15471]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:31:38.176447 #15471]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T15:31:38.176508 #15471]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:31:38.177651 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.179565 #15471] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "294515370"], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.181869 #15471] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "294515370"], ["date_of_birth", "2001-04-01"], ["phone", "1311172314"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:38.185066 #15471] DEBUG -- :   [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:38.187526 #15471]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:31:38 +0000
I, [2020-04-01T15:31:38.189139 #15471]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:31:38.190033 #15471]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:31:38.191491 #15471] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.193994 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.196878 #15471] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.200516 #15471] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T15:31:38.203552 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:38.205127 #15471]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T15:31:38.217036 #15471]  INFO -- : Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
D, [2020-04-01T15:31:38.221577 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:38.222299 #15471] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:38.222615 #15471]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:31:38.222688 #15471]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T15:31:38.222758 #15471]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:31:38.223724 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.225031 #15471] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "236275692"], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.226394 #15471] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "236275692"], ["date_of_birth", "2001-04-01"], ["phone", "1484138072"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:38.227649 #15471] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.228558 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T15:31:38.229792 #15471]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:31:38 +0000
I, [2020-04-01T15:31:38.230636 #15471]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:31:38.230969 #15471]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:31:38.231960 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.233141 #15471] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.234490 #15471] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:38.235798 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:38.236561 #15471]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T15:31:38.237434 #15471]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-01T15:31:38.241144 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T15:31:38.242043 #15471] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T15:31:38.242971 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:38.243555 #15471] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:38.243859 #15471]  INFO -- : ----------------------------------------------
I, [2020-04-01T15:31:38.243944 #15471]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T15:31:38.244003 #15471]  INFO -- : ----------------------------------------------
D, [2020-04-01T15:31:38.244775 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.246020 #15471] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "341901844"], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.247392 #15471] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "341901844"], ["date_of_birth", "2001-04-01"], ["phone", "5709819338"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:38.248648 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:38.249528 #15471]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 15:31:38 +0000
I, [2020-04-01T15:31:38.250276 #15471]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T15:31:38.252397 #15471]  INFO -- :   Rendering employees/index.html.erb within layouts/application
I, [2020-04-01T15:31:38.255402 #15471]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.6ms)
I, [2020-04-01T15:31:38.256294 #15471]  INFO -- : Completed 500  in 6ms (ActiveRecord: 0.0ms)
F, [2020-04-01T15:31:38.266970 #15471] FATAL -- : 
NoMethodError - undefined method `each' for nil:NilClass:
  app/views/employees/index.html.erb:12:in `_app_views_employees_index_html_erb__388893184381198224_47147584855500'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:31:38.270738 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:38.271577 #15471] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:38.271878 #15471]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T15:31:38.271954 #15471]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T15:31:38.272015 #15471]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T15:31:38.272896 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.274234 #15471] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "052123443"], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.275569 #15471] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "052123443"], ["date_of_birth", "2001-04-01"], ["phone", "8265774057"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:38.276782 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:38.277738 #15471]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 15:31:38 +0000
F, [2020-04-01T15:31:38.292304 #15471] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:31:38.295281 #15471] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:31:38.295925 #15471] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:31:38.296194 #15471]  INFO -- : --------------------------------------------------
I, [2020-04-01T15:31:38.296275 #15471]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T15:31:38.296345 #15471]  INFO -- : --------------------------------------------------
D, [2020-04-01T15:31:38.297504 #15471] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.298895 #15471] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "117710836"], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.300235 #15471] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "117710836"], ["date_of_birth", "2001-04-01"], ["phone", "0317202554"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:31:38.301455 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.313097 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.314467 #15471] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.315837 #15471] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6874153607"], ["active", 1]]
D, [2020-04-01T15:31:38.317068 #15471] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.330793 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:31:38.332119 #15471] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:31:38.333214 #15471] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:31:38.334364 #15471] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.340810 #15471] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:31:38.341935 #15471] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T15:31:38.342867 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:31:38.343930 #15471]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 15:31:38 +0000
I, [2020-04-01T15:31:38.344822 #15471]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T15:31:38.345059 #15471]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:31:38.345841 #15471] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:31:38.347592 #15471]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T15:31:38.356176 #15471] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x000055c2ce438910>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:31:38.359407 #15471] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:17.264091 #15653] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T15:34:17.326133 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:17.326558 #15653]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T15:34:17.326621 #15653]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T15:34:17.326648 #15653]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T15:34:17.398226 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:17.400607 #15653] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "331924008"], ["LIMIT", 1]]
D, [2020-04-01T15:34:17.402066 #15653] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "331924008"], ["date_of_birth", "2001-04-01"], ["phone", "1579605441"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:17.403181 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:17.405470 #15653]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 15:34:17 +0000
F, [2020-04-01T15:34:17.427224 #15653] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:34:17.431505 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:17.432266 #15653] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:17.432552 #15653]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:34:17.432651 #15653]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T15:34:17.432718 #15653]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:34:17.433698 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:17.435082 #15653] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "151476927"], ["LIMIT", 1]]
D, [2020-04-01T15:34:17.436479 #15653] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "151476927"], ["date_of_birth", "2001-04-01"], ["phone", "9199723317"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:17.437797 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:17.438733 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T15:34:17.443418 #15653]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:34:17 +0000
I, [2020-04-01T15:34:17.444345 #15653]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:34:17.444625 #15653]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:34:17.449260 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:17.450658 #15653] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:34:17.452153 #15653] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:17.453493 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:17.454652 #15653]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T15:34:17.455686 #15653]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.3ms)
D, [2020-04-01T15:34:17.459751 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T15:34:17.460752 #15653] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T15:34:17.462311 #15653] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:17.462934 #15653] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:17.463250 #15653]  INFO -- : --------------------------------------------------
I, [2020-04-01T15:34:17.463335 #15653]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T15:34:17.463408 #15653]  INFO -- : --------------------------------------------------
D, [2020-04-01T15:34:17.464257 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:17.465579 #15653] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "375182467"], ["LIMIT", 1]]
D, [2020-04-01T15:34:17.466980 #15653] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "375182467"], ["date_of_birth", "2001-04-01"], ["phone", "7984215518"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:17.470365 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:17.501834 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:17.504134 #15653] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:34:17.506288 #15653] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9671006891"], ["active", 1]]
D, [2020-04-01T15:34:17.508315 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:17.528755 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:17.530707 #15653] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:34:17.532356 #15653] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:34:17.534321 #15653] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:34:17.543196 #15653] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:34:17.544689 #15653] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T15:34:17.546035 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:17.547466 #15653]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 15:34:17 +0000
I, [2020-04-01T15:34:17.548713 #15653]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T15:34:17.549056 #15653]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:34:17.550095 #15653] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:34:17.552587 #15653]  INFO -- : Completed 500  in 3ms (ActiveRecord: 0.1ms)
F, [2020-04-01T15:34:17.563952 #15653] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x000055959cdd6990>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:34:17.568247 #15653] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:17.578921 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:17.579700 #15653]  INFO -- : ---------------------------------------------
I, [2020-04-01T15:34:17.579853 #15653]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T15:34:17.579997 #15653]  INFO -- : ---------------------------------------------
D, [2020-04-01T15:34:17.581744 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:17.584285 #15653] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "134308210"], ["LIMIT", 1]]
D, [2020-04-01T15:34:17.586856 #15653] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "134308210"], ["date_of_birth", "2001-04-01"], ["phone", "5017806512"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:17.589207 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:17.591036 #15653]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 15:34:17 +0000
I, [2020-04-01T15:34:17.592338 #15653]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T15:34:17.592776 #15653]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:34:17.594148 #15653] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:34:17.600139 #15653]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:34:17.763860 #15653]  INFO -- :   Rendered employees/_form.html.erb (161.1ms)
I, [2020-04-01T15:34:17.764343 #15653]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (163.8ms)
I, [2020-04-01T15:34:18.006711 #15653]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T15:34:18.007995 #15653]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T15:34:18.009275 #15653]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T15:34:18.010670 #15653]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T15:34:18.011676 #15653]  INFO -- : Completed 200 OK in 419ms (Views: 414.7ms | ActiveRecord: 0.1ms)
D, [2020-04-01T15:34:18.015413 #15653] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:18.018200 #15653] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:18.018488 #15653]  INFO -- : ----------------------------------------------
I, [2020-04-01T15:34:18.018573 #15653]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T15:34:18.018635 #15653]  INFO -- : ----------------------------------------------
D, [2020-04-01T15:34:18.019713 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:18.021239 #15653] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "006822165"], ["LIMIT", 1]]
D, [2020-04-01T15:34:18.022672 #15653] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "006822165"], ["date_of_birth", "2001-04-01"], ["phone", "9360433519"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:18.023990 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:18.025027 #15653]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 15:34:18 +0000
I, [2020-04-01T15:34:18.025969 #15653]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T15:34:18.028342 #15653]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T15:34:18.029552 #15653] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T15:34:18.030809 #15653]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.2ms)
I, [2020-04-01T15:34:18.031986 #15653]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:34:18.032542 #15653]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:34:18.033138 #15653]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T15:34:18.033791 #15653]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:34:18.034700 #15653]  INFO -- : Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:34:18.037840 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:18.042328 #15653] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:18.042601 #15653]  INFO -- : --------------------------------------------
I, [2020-04-01T15:34:18.042675 #15653]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T15:34:18.042734 #15653]  INFO -- : --------------------------------------------
D, [2020-04-01T15:34:18.043606 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:18.044875 #15653] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "335824778"], ["LIMIT", 1]]
D, [2020-04-01T15:34:18.046314 #15653] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "335824778"], ["date_of_birth", "2001-04-01"], ["phone", "2210201547"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:18.047536 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:18.048457 #15653]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 15:34:18 +0000
I, [2020-04-01T15:34:18.049179 #15653]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T15:34:18.050537 #15653]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:34:18.057755 #15653]  INFO -- :   Rendered employees/_form.html.erb (6.5ms)
I, [2020-04-01T15:34:18.058168 #15653]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.3ms)
I, [2020-04-01T15:34:18.059293 #15653]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:34:18.059868 #15653]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T15:34:18.060483 #15653]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:34:18.061110 #15653]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:34:18.062045 #15653]  INFO -- : Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T15:34:18.064891 #15653] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:18.067362 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:18.067680 #15653]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:34:18.067755 #15653]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T15:34:18.067818 #15653]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:34:18.068660 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:18.069995 #15653] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "221392825"], ["LIMIT", 1]]
D, [2020-04-01T15:34:18.071318 #15653] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "221392825"], ["date_of_birth", "2001-04-01"], ["phone", "6143327242"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:18.072601 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:18.073777 #15653]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:34:18 +0000
I, [2020-04-01T15:34:18.074795 #15653]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:34:18.075065 #15653]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:34:18.075837 #15653] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:34:18.077067 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:18.078688 #15653] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:34:18.080349 #15653] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T15:34:18.081589 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:18.082439 #15653]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T15:34:18.083385 #15653]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:34:18.087506 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:18.089987 #15653] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:18.090288 #15653]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:34:18.090360 #15653]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T15:34:18.090433 #15653]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:34:18.091247 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:18.092506 #15653] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "342246405"], ["LIMIT", 1]]
D, [2020-04-01T15:34:18.093849 #15653] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "342246405"], ["date_of_birth", "2001-04-01"], ["phone", "2051009162"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:18.095108 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:18.096269 #15653]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:34:18 +0000
I, [2020-04-01T15:34:18.097035 #15653]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:34:18.097346 #15653]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:34:18.098373 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:18.100213 #15653] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:34:18.101487 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:18.102421 #15653]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:34:18.109257 #15653]  INFO -- :   Rendered employees/_form.html.erb (6.4ms)
I, [2020-04-01T15:34:18.109646 #15653]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.9ms)
I, [2020-04-01T15:34:18.110809 #15653]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:34:18.111428 #15653]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:34:18.112062 #15653]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:34:18.112694 #15653]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:34:18.113817 #15653]  INFO -- : Completed 200 OK in 16ms (Views: 10.9ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:34:18.117488 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:18.120067 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:18.120344 #15653]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:34:18.120465 #15653]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T15:34:18.120542 #15653]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:34:18.121364 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:18.122637 #15653] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "289527244"], ["LIMIT", 1]]
D, [2020-04-01T15:34:18.124039 #15653] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "289527244"], ["date_of_birth", "2001-04-01"], ["phone", "7342955389"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:18.125345 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:18.126541 #15653]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:34:18 +0000
I, [2020-04-01T15:34:18.127391 #15653]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:34:18.127668 #15653]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:34:18.128423 #15653] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:34:18.129556 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:18.131602 #15653] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:34:18.133232 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:18.134085 #15653]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:34:18.140591 #15653]  INFO -- :   Rendered employees/_form.html.erb (6.1ms)
I, [2020-04-01T15:34:18.140987 #15653]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (6.6ms)
I, [2020-04-01T15:34:18.142130 #15653]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:34:18.142692 #15653]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:34:18.143294 #15653]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:34:18.143901 #15653]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:34:18.144985 #15653]  INFO -- : Completed 200 OK in 17ms (Views: 10.5ms | ActiveRecord: 0.4ms)
D, [2020-04-01T15:34:18.148986 #15653] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:44.938910 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T15:34:45.001035 #15703] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:45.001745 #15703]  INFO -- : --------------------------------------------------
I, [2020-04-01T15:34:45.001849 #15703]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T15:34:45.001916 #15703]  INFO -- : --------------------------------------------------
D, [2020-04-01T15:34:45.102204 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.104915 #15703] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "158168093"], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.106514 #15703] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "158168093"], ["date_of_birth", "2001-04-01"], ["phone", "4980947219"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:45.107738 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.119942 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.121193 #15703] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.122421 #15703] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8972704912"], ["active", 1]]
D, [2020-04-01T15:34:45.123556 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.137934 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.139277 #15703] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:34:45.140762 #15703] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:34:45.142087 #15703] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.148383 #15703] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.149357 #15703] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T15:34:45.150258 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:45.152527 #15703]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 15:34:45 +0000
I, [2020-04-01T15:34:45.159047 #15703]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T15:34:45.159318 #15703]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:34:45.163743 #15703] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:34:45.165644 #15703]  INFO -- : Completed 500  in 6ms (ActiveRecord: 0.1ms)
F, [2020-04-01T15:34:45.177408 #15703] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x0000560ff47ea4f0>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:34:45.190041 #15703] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:45.191210 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:45.191496 #15703]  INFO -- : --------------------------------------------
I, [2020-04-01T15:34:45.191572 #15703]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T15:34:45.191634 #15703]  INFO -- : --------------------------------------------
D, [2020-04-01T15:34:45.192767 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.194395 #15703] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "015330597"], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.195820 #15703] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "015330597"], ["date_of_birth", "2001-04-01"], ["phone", "4555022514"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:45.197169 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:45.198301 #15703]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 15:34:45 +0000
I, [2020-04-01T15:34:45.199245 #15703]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T15:34:45.202485 #15703]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:34:45.336599 #15703]  INFO -- :   Rendered employees/_form.html.erb (132.5ms)
I, [2020-04-01T15:34:45.337057 #15703]  INFO -- :   Rendered employees/new.html.erb within layouts/application (134.2ms)
I, [2020-04-01T15:34:45.530703 #15703]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T15:34:45.532316 #15703]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T15:34:45.534043 #15703]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T15:34:45.535736 #15703]  INFO -- :   Rendered partials/_footer.html.erb (0.7ms)
I, [2020-04-01T15:34:45.538789 #15703]  INFO -- : Completed 200 OK in 338ms (Views: 335.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T15:34:45.548825 #15703] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:45.550421 #15703] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:45.550725 #15703]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:34:45.550808 #15703]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T15:34:45.551465 #15703]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:34:45.553078 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.555377 #15703] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "217614228"], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.558906 #15703] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "217614228"], ["date_of_birth", "2001-04-01"], ["phone", "0329799147"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:45.561884 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:45.570372 #15703]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:34:45 +0000
I, [2020-04-01T15:34:45.572180 #15703]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:34:45.573113 #15703]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:34:45.575803 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.578851 #15703] DEBUG -- :   [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.580887 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:45.582155 #15703]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:34:45.597602 #15703]  INFO -- :   Rendered employees/_form.html.erb (14.2ms)
I, [2020-04-01T15:34:45.598043 #15703]  INFO -- :   Rendered employees/new.html.erb within layouts/application (15.6ms)
I, [2020-04-01T15:34:45.601283 #15703]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:34:45.602636 #15703]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T15:34:45.607117 #15703]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:34:45.608248 #15703]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:34:45.610699 #15703]  INFO -- : Completed 200 OK in 37ms (Views: 26.8ms | ActiveRecord: 0.5ms)
D, [2020-04-01T15:34:45.618282 #15703] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:45.619597 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:45.619926 #15703]  INFO -- : ----------------------------------------------
I, [2020-04-01T15:34:45.620017 #15703]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T15:34:45.620085 #15703]  INFO -- : ----------------------------------------------
D, [2020-04-01T15:34:45.633793 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.635491 #15703] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "087669811"], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.636953 #15703] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "087669811"], ["date_of_birth", "2001-04-01"], ["phone", "8449108723"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:45.638373 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:45.639490 #15703]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 15:34:45 +0000
I, [2020-04-01T15:34:45.640413 #15703]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T15:34:45.642974 #15703]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T15:34:45.644300 #15703] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T15:34:45.645658 #15703]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.3ms)
I, [2020-04-01T15:34:45.646910 #15703]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:34:45.647499 #15703]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:34:45.648120 #15703]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:34:45.648785 #15703]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T15:34:45.649777 #15703]  INFO -- : Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:34:45.653236 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:45.654238 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:45.654561 #15703]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T15:34:45.654637 #15703]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T15:34:45.654700 #15703]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T15:34:45.655737 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.657309 #15703] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "071712646"], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.658772 #15703] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "071712646"], ["date_of_birth", "2001-04-01"], ["phone", "2668774490"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:45.660022 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:45.661017 #15703]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 15:34:45 +0000
F, [2020-04-01T15:34:45.676919 #15703] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:34:45.679994 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:45.680720 #15703] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:45.681036 #15703]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:34:45.681113 #15703]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T15:34:45.681175 #15703]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:34:45.682083 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.683360 #15703] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "081778701"], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.684701 #15703] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "081778701"], ["date_of_birth", "2001-04-01"], ["phone", "2155745379"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:45.685997 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:45.687105 #15703]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:34:45 +0000
I, [2020-04-01T15:34:45.688087 #15703]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:34:45.688389 #15703]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:34:45.689190 #15703] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.690458 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.692574 #15703] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.694248 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:45.695573 #15703]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:34:45.703001 #15703]  INFO -- :   Rendered employees/_form.html.erb (6.7ms)
I, [2020-04-01T15:34:45.703374 #15703]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.5ms)
I, [2020-04-01T15:34:45.704547 #15703]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:34:45.705128 #15703]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:34:45.705759 #15703]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:34:45.706404 #15703]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:34:45.707534 #15703]  INFO -- : Completed 200 OK in 19ms (Views: 11.9ms | ActiveRecord: 0.3ms)
D, [2020-04-01T15:34:45.711617 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:45.712296 #15703] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:45.712593 #15703]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:34:45.712659 #15703]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T15:34:45.712711 #15703]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:34:45.713558 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.714841 #15703] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "011674020"], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.716169 #15703] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "011674020"], ["date_of_birth", "2001-04-01"], ["phone", "4359744725"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:45.717377 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:45.718463 #15703]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:34:45 +0000
I, [2020-04-01T15:34:45.719354 #15703]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:34:45.719664 #15703]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:34:45.720382 #15703] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.721520 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.723102 #15703] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.724697 #15703] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T15:34:45.726038 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:45.726894 #15703]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T15:34:45.727879 #15703]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:34:45.732198 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:45.732882 #15703] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:45.733169 #15703]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:34:45.733239 #15703]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T15:34:45.733322 #15703]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:34:45.734207 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.735412 #15703] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "353773951"], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.736714 #15703] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "353773951"], ["date_of_birth", "2001-04-01"], ["phone", "1293875640"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:45.738009 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.738874 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T15:34:45.739955 #15703]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:34:45 +0000
I, [2020-04-01T15:34:45.740693 #15703]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:34:45.740972 #15703]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:34:45.742047 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.743316 #15703] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.744619 #15703] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:45.745999 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:45.746791 #15703]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T15:34:45.747769 #15703]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:34:45.751470 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T15:34:45.752409 #15703] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T15:34:45.753265 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:34:45.754005 #15703] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:34:45.754270 #15703]  INFO -- : ---------------------------------------------
I, [2020-04-01T15:34:45.754345 #15703]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T15:34:45.754406 #15703]  INFO -- : ---------------------------------------------
D, [2020-04-01T15:34:45.755245 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:34:45.756421 #15703] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "127051256"], ["LIMIT", 1]]
D, [2020-04-01T15:34:45.757817 #15703] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "127051256"], ["date_of_birth", "2001-04-01"], ["phone", "4346822101"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:34:45.759051 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:34:45.759957 #15703]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 15:34:45 +0000
I, [2020-04-01T15:34:45.760764 #15703]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T15:34:45.761021 #15703]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:34:45.761726 #15703] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:34:45.762902 #15703]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:34:45.769600 #15703]  INFO -- :   Rendered employees/_form.html.erb (6.3ms)
I, [2020-04-01T15:34:45.770018 #15703]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (6.8ms)
I, [2020-04-01T15:34:45.771154 #15703]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T15:34:45.771712 #15703]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:34:45.772295 #15703]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:34:45.772924 #15703]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:34:45.773848 #15703]  INFO -- : Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.1ms)
D, [2020-04-01T15:34:45.777058 #15703] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:36:09.724022 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T15:36:09.781808 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:36:09.782178 #15803]  INFO -- : ---------------------------------------------
I, [2020-04-01T15:36:09.782215 #15803]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T15:36:09.782236 #15803]  INFO -- : ---------------------------------------------
D, [2020-04-01T15:36:09.849295 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:09.851685 #15803] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "236506725"], ["LIMIT", 1]]
D, [2020-04-01T15:36:09.853071 #15803] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "236506725"], ["date_of_birth", "2001-04-01"], ["phone", "9021430212"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:36:09.854156 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:36:09.856343 #15803]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 15:36:09 +0000
I, [2020-04-01T15:36:09.862452 #15803]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T15:36:09.862725 #15803]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:36:09.867401 #15803] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:36:09.871117 #15803]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:36:10.010778 #15803]  INFO -- :   Rendered employees/_form.html.erb (138.1ms)
I, [2020-04-01T15:36:10.011264 #15803]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (139.8ms)
I, [2020-04-01T15:36:10.194830 #15803]  INFO -- :   Rendered partials/_topbar.html.erb (1.5ms)
I, [2020-04-01T15:36:10.197400 #15803]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T15:36:10.200236 #15803]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T15:36:10.203212 #15803]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T15:36:10.206374 #15803]  INFO -- : Completed 200 OK in 343ms (Views: 334.4ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:36:10.219237 #15803] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:36:10.220211 #15803] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:36:10.220532 #15803]  INFO -- : --------------------------------------------
I, [2020-04-01T15:36:10.220603 #15803]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T15:36:10.220660 #15803]  INFO -- : --------------------------------------------
D, [2020-04-01T15:36:10.222200 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.224049 #15803] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "056264626"], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.226137 #15803] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "056264626"], ["date_of_birth", "2001-04-01"], ["phone", "5272405168"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:36:10.228122 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:36:10.229343 #15803]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 15:36:10 +0000
I, [2020-04-01T15:36:10.230740 #15803]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T15:36:10.232369 #15803]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:36:10.242113 #15803]  INFO -- :   Rendered employees/_form.html.erb (8.8ms)
I, [2020-04-01T15:36:10.242483 #15803]  INFO -- :   Rendered employees/new.html.erb within layouts/application (9.8ms)
I, [2020-04-01T15:36:10.244241 #15803]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:36:10.244971 #15803]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:36:10.246161 #15803]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:36:10.247303 #15803]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:36:10.248993 #15803]  INFO -- : Completed 200 OK in 18ms (Views: 15.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T15:36:10.257449 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:36:10.258344 #15803] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:36:10.258650 #15803]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T15:36:10.258914 #15803]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T15:36:10.258991 #15803]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T15:36:10.260128 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.262268 #15803] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "267179126"], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.265027 #15803] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "267179126"], ["date_of_birth", "2001-04-01"], ["phone", "5903664866"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:36:10.268215 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:36:10.270458 #15803]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 15:36:10 +0000
F, [2020-04-01T15:36:10.297850 #15803] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:36:10.303152 #15803] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:36:10.304096 #15803] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:36:10.304650 #15803]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:36:10.304724 #15803]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T15:36:10.304784 #15803]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:36:10.306128 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.308279 #15803] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037930600"], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.310760 #15803] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "037930600"], ["date_of_birth", "2001-04-01"], ["phone", "3107572678"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:36:10.314254 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.316592 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T15:36:10.324898 #15803]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:36:10 +0000
I, [2020-04-01T15:36:10.326108 #15803]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:36:10.326385 #15803]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:36:10.327751 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.329536 #15803] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.331265 #15803] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:36:10.332922 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:36:10.334074 #15803]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T15:36:10.335427 #15803]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:36:10.340622 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T15:36:10.341767 #15803] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T15:36:10.342883 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:36:10.343589 #15803] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:36:10.343883 #15803]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:36:10.343955 #15803]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T15:36:10.344077 #15803]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:36:10.345081 #15803] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.346630 #15803] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "036595306"], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.348435 #15803] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "036595306"], ["date_of_birth", "2001-04-01"], ["phone", "8662516472"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:36:10.350284 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:36:10.351659 #15803]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:36:10 +0000
I, [2020-04-01T15:36:10.352801 #15803]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:36:10.353113 #15803]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:36:10.353976 #15803] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.359214 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.360849 #15803] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.362465 #15803] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T15:36:10.363761 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:36:10.364569 #15803]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T15:36:10.365486 #15803]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
D, [2020-04-01T15:36:10.369861 #15803] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:36:10.370519 #15803] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:36:10.370792 #15803]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:36:10.370867 #15803]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T15:36:10.370931 #15803]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:36:10.371764 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.372948 #15803] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "075113872"], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.374303 #15803] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "075113872"], ["date_of_birth", "2001-04-01"], ["phone", "9936425781"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:36:10.375501 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:36:10.376659 #15803]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:36:10 +0000
I, [2020-04-01T15:36:10.377431 #15803]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:36:10.377742 #15803]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:36:10.378726 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.380450 #15803] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.381718 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:36:10.382612 #15803]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:36:10.389323 #15803]  INFO -- :   Rendered employees/_form.html.erb (6.2ms)
I, [2020-04-01T15:36:10.389731 #15803]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.8ms)
I, [2020-04-01T15:36:10.390926 #15803]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:36:10.391477 #15803]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:36:10.392016 #15803]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T15:36:10.392635 #15803]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:36:10.393745 #15803]  INFO -- : Completed 200 OK in 16ms (Views: 10.7ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:36:10.397451 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:36:10.398068 #15803] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:36:10.398362 #15803]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:36:10.398434 #15803]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T15:36:10.398487 #15803]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:36:10.399288 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.400444 #15803] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "118163755"], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.401760 #15803] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "118163755"], ["date_of_birth", "2001-04-01"], ["phone", "6579509206"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:36:10.403118 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:36:10.404132 #15803]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:36:10 +0000
I, [2020-04-01T15:36:10.404931 #15803]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:36:10.405184 #15803]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:36:10.405911 #15803] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.407089 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.409047 #15803] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.410780 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:36:10.411603 #15803]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:36:10.418358 #15803]  INFO -- :   Rendered employees/_form.html.erb (6.3ms)
I, [2020-04-01T15:36:10.418744 #15803]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (6.8ms)
I, [2020-04-01T15:36:10.419825 #15803]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T15:36:10.420382 #15803]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:36:10.420948 #15803]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T15:36:10.421576 #15803]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:36:10.422641 #15803]  INFO -- : Completed 200 OK in 17ms (Views: 10.6ms | ActiveRecord: 0.3ms)
D, [2020-04-01T15:36:10.426721 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:36:10.427314 #15803] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:36:10.427567 #15803]  INFO -- : --------------------------------------------------
I, [2020-04-01T15:36:10.427671 #15803]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T15:36:10.427729 #15803]  INFO -- : --------------------------------------------------
D, [2020-04-01T15:36:10.428535 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.429786 #15803] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "361153680"], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.431146 #15803] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "361153680"], ["date_of_birth", "2001-04-01"], ["phone", "4155520514"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:36:10.432337 #15803] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.443444 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.444796 #15803] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.446207 #15803] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8466652130"], ["active", 1]]
D, [2020-04-01T15:36:10.447414 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.460912 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.462294 #15803] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:36:10.463401 #15803] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:36:10.464505 #15803] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.470960 #15803] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.472067 #15803] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T15:36:10.473010 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:36:10.474138 #15803]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 15:36:10 +0000
I, [2020-04-01T15:36:10.475004 #15803]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T15:36:10.475255 #15803]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:36:10.476069 #15803] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:36:10.477892 #15803]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T15:36:10.486925 #15803] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x0000556d735e03e0>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:36:10.490257 #15803] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:36:10.491105 #15803] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:36:10.491418 #15803]  INFO -- : ----------------------------------------------
I, [2020-04-01T15:36:10.491489 #15803]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T15:36:10.491544 #15803]  INFO -- : ----------------------------------------------
D, [2020-04-01T15:36:10.492427 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:36:10.493790 #15803] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "116845339"], ["LIMIT", 1]]
D, [2020-04-01T15:36:10.495217 #15803] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "116845339"], ["date_of_birth", "2001-04-01"], ["phone", "0921807243"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:36:10.496448 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:36:10.497376 #15803]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 15:36:10 +0000
I, [2020-04-01T15:36:10.498116 #15803]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T15:36:10.500422 #15803]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T15:36:10.501667 #15803] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T15:36:10.502878 #15803]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.1ms)
I, [2020-04-01T15:36:10.504112 #15803]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:36:10.504700 #15803]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T15:36:10.505315 #15803]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:36:10.506004 #15803]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T15:36:10.506994 #15803]  INFO -- : Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:36:10.510244 #15803] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:39:34.116759 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T15:39:34.174174 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:39:34.174511 #16087]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T15:39:34.174547 #16087]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T15:39:34.174567 #16087]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T15:39:34.241544 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.243917 #16087] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "303312428"], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.245283 #16087] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "303312428"], ["date_of_birth", "2001-04-01"], ["phone", "2119400713"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:39:34.246496 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:39:34.248679 #16087]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 15:39:34 +0000
F, [2020-04-01T15:39:34.269688 #16087] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:39:34.273985 #16087] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:39:34.274704 #16087] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:39:34.274977 #16087]  INFO -- : ---------------------------------------------
I, [2020-04-01T15:39:34.275097 #16087]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T15:39:34.275175 #16087]  INFO -- : ---------------------------------------------
D, [2020-04-01T15:39:34.276169 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.277607 #16087] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "018033041"], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.281448 #16087] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "018033041"], ["date_of_birth", "2001-04-01"], ["phone", "2854876565"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:39:34.283615 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:39:34.285318 #16087]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 15:39:34 +0000
I, [2020-04-01T15:39:34.286821 #16087]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T15:39:34.287268 #16087]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:39:34.295046 #16087] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:39:34.301090 #16087]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:39:34.493199 #16087]  INFO -- :   Rendered employees/_form.html.erb (188.9ms)
I, [2020-04-01T15:39:34.493691 #16087]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (192.1ms)
I, [2020-04-01T15:39:34.651481 #16087]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T15:39:34.652872 #16087]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T15:39:34.654464 #16087]  INFO -- :   Rendered partials/_quick_links.html.erb (0.6ms)
I, [2020-04-01T15:39:34.655886 #16087]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T15:39:34.657089 #16087]  INFO -- : Completed 200 OK in 369ms (Views: 358.3ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:39:34.661885 #16087] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:39:34.662723 #16087] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:39:34.663026 #16087]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:39:34.663091 #16087]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T15:39:34.663243 #16087]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:39:34.664622 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.666394 #16087] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "244743670"], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.668277 #16087] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "244743670"], ["date_of_birth", "2001-04-01"], ["phone", "9317539916"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:39:34.669943 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:39:34.675520 #16087]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:39:34 +0000
I, [2020-04-01T15:39:34.676651 #16087]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:39:34.676988 #16087]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:39:34.678445 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.681786 #16087] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.683793 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:39:34.686176 #16087]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:39:34.701570 #16087]  INFO -- :   Rendered employees/_form.html.erb (14.5ms)
I, [2020-04-01T15:39:34.701963 #16087]  INFO -- :   Rendered employees/new.html.erb within layouts/application (15.5ms)
I, [2020-04-01T15:39:34.703719 #16087]  INFO -- :   Rendered partials/_topbar.html.erb (0.6ms)
I, [2020-04-01T15:39:34.704519 #16087]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:39:34.705337 #16087]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T15:39:34.706267 #16087]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:39:34.708415 #16087]  INFO -- : Completed 200 OK in 31ms (Views: 21.8ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:39:34.717759 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:39:34.719068 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:39:34.719349 #16087]  INFO -- : ----------------------------------------------
I, [2020-04-01T15:39:34.720177 #16087]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T15:39:34.720239 #16087]  INFO -- : ----------------------------------------------
D, [2020-04-01T15:39:34.721966 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.724774 #16087] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "348251477"], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.728388 #16087] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "348251477"], ["date_of_birth", "2001-04-01"], ["phone", "6079029111"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:39:34.732248 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:39:34.734496 #16087]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 15:39:34 +0000
I, [2020-04-01T15:39:34.735553 #16087]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T15:39:34.739181 #16087]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T15:39:34.741296 #16087] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T15:39:34.742881 #16087]  INFO -- :   Rendered employees/index.html.erb within layouts/application (3.2ms)
I, [2020-04-01T15:39:34.744486 #16087]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T15:39:34.745194 #16087]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:39:34.745997 #16087]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:39:34.747018 #16087]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:39:34.748251 #16087]  INFO -- : Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:39:34.753558 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:39:34.754760 #16087] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:39:34.755243 #16087]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:39:34.755322 #16087]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T15:39:34.755382 #16087]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:39:34.756507 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.758155 #16087] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "010006912"], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.759941 #16087] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "010006912"], ["date_of_birth", "2001-04-01"], ["phone", "9941982112"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:39:34.761850 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:39:34.763195 #16087]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:39:34 +0000
I, [2020-04-01T15:39:34.764572 #16087]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:39:34.764845 #16087]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:39:34.766834 #16087] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.769430 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.772496 #16087] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.776169 #16087] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T15:39:34.779999 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:39:34.781656 #16087]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T15:39:34.784401 #16087]  INFO -- : Completed 302 Found in 19ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:39:34.797531 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:39:34.798971 #16087] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:39:34.799953 #16087]  INFO -- : --------------------------------------------
I, [2020-04-01T15:39:34.800033 #16087]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T15:39:34.800116 #16087]  INFO -- : --------------------------------------------
D, [2020-04-01T15:39:34.801806 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.804590 #16087] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "365252859"], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.807251 #16087] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "365252859"], ["date_of_birth", "2001-04-01"], ["phone", "6866985356"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:39:34.811004 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:39:34.812747 #16087]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 15:39:34 +0000
I, [2020-04-01T15:39:34.814406 #16087]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T15:39:34.825753 #16087]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:39:34.832529 #16087]  INFO -- :   Rendered employees/_form.html.erb (6.3ms)
I, [2020-04-01T15:39:34.832889 #16087]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.8ms)
I, [2020-04-01T15:39:34.834099 #16087]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:39:34.834620 #16087]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:39:34.835175 #16087]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T15:39:34.835746 #16087]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:39:34.836694 #16087]  INFO -- : Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T15:39:34.839647 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:39:34.840339 #16087] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:39:34.840652 #16087]  INFO -- : --------------------------------------------------
I, [2020-04-01T15:39:34.840767 #16087]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T15:39:34.840823 #16087]  INFO -- : --------------------------------------------------
D, [2020-04-01T15:39:34.841898 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.843357 #16087] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "215005480"], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.844660 #16087] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "215005480"], ["date_of_birth", "2001-04-01"], ["phone", "1292104302"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:39:34.845953 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.856949 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.858284 #16087] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.859533 #16087] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0967673593"], ["active", 1]]
D, [2020-04-01T15:39:34.860669 #16087] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.873805 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.875155 #16087] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:39:34.876232 #16087] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:39:34.877247 #16087] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.883578 #16087] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.884687 #16087] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T15:39:34.885552 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:39:34.886660 #16087]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 15:39:34 +0000
I, [2020-04-01T15:39:34.887496 #16087]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T15:39:34.887770 #16087]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:39:34.888603 #16087] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:39:34.890473 #16087]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T15:39:34.899440 #16087] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x000055986a55a250>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:39:34.902861 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:39:34.903698 #16087] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:39:34.904006 #16087]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:39:34.904099 #16087]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T15:39:34.904187 #16087]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:39:34.905078 #16087] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.906454 #16087] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "245128996"], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.907855 #16087] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "245128996"], ["date_of_birth", "2001-04-01"], ["phone", "3817509447"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:39:34.909093 #16087] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:39:34.910161 #16087]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:39:34 +0000
I, [2020-04-01T15:39:34.910983 #16087]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:39:34.911262 #16087]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:39:34.911922 #16087] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.913031 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.915072 #16087] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.916653 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:39:34.917551 #16087]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:39:34.924365 #16087]  INFO -- :   Rendered employees/_form.html.erb (6.3ms)
I, [2020-04-01T15:39:34.924763 #16087]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (6.9ms)
I, [2020-04-01T15:39:34.925966 #16087]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:39:34.926572 #16087]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:39:34.927201 #16087]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T15:39:34.927810 #16087]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:39:34.928905 #16087]  INFO -- : Completed 200 OK in 17ms (Views: 10.9ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:39:34.932937 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:39:34.933559 #16087] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:39:34.933901 #16087]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:39:34.933987 #16087]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T15:39:34.934057 #16087]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:39:34.934857 #16087] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.936148 #16087] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "154713295"], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.937487 #16087] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "154713295"], ["date_of_birth", "2001-04-01"], ["phone", "5007473948"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:39:34.938721 #16087] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.939545 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T15:39:34.940643 #16087]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:39:34 +0000
I, [2020-04-01T15:39:34.941357 #16087]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:39:34.941614 #16087]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:39:34.942622 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:39:34.943770 #16087] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:39:34.944962 #16087] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:39:34.946196 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:39:34.947064 #16087]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T15:39:34.948071 #16087]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-01T15:39:34.951683 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T15:39:34.952616 #16087] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T15:39:34.953475 #16087] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:40:34.848033 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T15:40:34.907112 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:40:34.907485 #16161]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:40:34.907525 #16161]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T15:40:34.907554 #16161]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:40:34.977696 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:34.980114 #16161] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "291296070"], ["LIMIT", 1]]
D, [2020-04-01T15:40:34.981540 #16161] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "291296070"], ["date_of_birth", "2001-04-01"], ["phone", "5276177923"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:40:34.982676 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:34.983468 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T15:40:34.989346 #16161]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:40:34 +0000
I, [2020-04-01T15:40:34.995754 #16161]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:40:34.996058 #16161]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:40:35.000794 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.002454 #16161] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.003901 #16161] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:40:35.005304 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:40:35.006510 #16161]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T15:40:35.007561 #16161]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:40:35.013428 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T15:40:35.014465 #16161] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T15:40:35.016492 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:40:35.017326 #16161] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:40:35.017598 #16161]  INFO -- : --------------------------------------------
I, [2020-04-01T15:40:35.017738 #16161]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T15:40:35.017806 #16161]  INFO -- : --------------------------------------------
D, [2020-04-01T15:40:35.018775 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.020192 #16161] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "331646421"], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.021585 #16161] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "331646421"], ["date_of_birth", "2001-04-01"], ["phone", "9769804620"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:40:35.022868 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:40:35.023973 #16161]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 15:40:35 +0000
I, [2020-04-01T15:40:35.025035 #16161]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T15:40:35.028192 #16161]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:40:35.170924 #16161]  INFO -- :   Rendered employees/_form.html.erb (141.1ms)
I, [2020-04-01T15:40:35.171407 #16161]  INFO -- :   Rendered employees/new.html.erb within layouts/application (142.8ms)
I, [2020-04-01T15:40:35.334712 #16161]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T15:40:35.336170 #16161]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T15:40:35.337589 #16161]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T15:40:35.339056 #16161]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T15:40:35.340377 #16161]  INFO -- : Completed 200 OK in 315ms (Views: 313.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T15:40:35.344415 #16161] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:40:35.345304 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:40:35.345659 #16161]  INFO -- : --------------------------------------------------
I, [2020-04-01T15:40:35.345752 #16161]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T15:40:35.345861 #16161]  INFO -- : --------------------------------------------------
D, [2020-04-01T15:40:35.347059 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.348769 #16161] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "320344987"], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.350455 #16161] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "320344987"], ["date_of_birth", "2001-04-01"], ["phone", "8423218737"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:40:35.352013 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.366520 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.368121 #16161] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.370893 #16161] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1873117977"], ["active", 1]]
D, [2020-04-01T15:40:35.374398 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.404297 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.406586 #16161] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:40:35.408407 #16161] DEBUG -- :   [1m[36mStore Load (0.4ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:40:35.410677 #16161] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.421244 #16161] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.423768 #16161] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T15:40:35.425866 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:40:35.428329 #16161]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 15:40:35 +0000
I, [2020-04-01T15:40:35.430036 #16161]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T15:40:35.430860 #16161]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:40:35.432369 #16161] DEBUG -- :   [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:40:35.437552 #16161]  INFO -- : Completed 500  in 6ms (ActiveRecord: 0.7ms)
F, [2020-04-01T15:40:35.457505 #16161] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x0000561507f00cb8>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:40:35.462705 #16161] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:40:35.463945 #16161] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:40:35.464249 #16161]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:40:35.464329 #16161]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T15:40:35.464394 #16161]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:40:35.465868 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.467585 #16161] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "168737272"], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.469467 #16161] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "168737272"], ["date_of_birth", "2001-04-01"], ["phone", "6345115561"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:40:35.471366 #16161] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:40:35.472969 #16161]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:40:35 +0000
I, [2020-04-01T15:40:35.474351 #16161]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:40:35.474848 #16161]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:40:35.476038 #16161] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.477726 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.481549 #16161] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.487691 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:40:35.489543 #16161]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:40:35.503038 #16161]  INFO -- :   Rendered employees/_form.html.erb (12.4ms)
I, [2020-04-01T15:40:35.504222 #16161]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (14.4ms)
I, [2020-04-01T15:40:35.507638 #16161]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T15:40:35.508868 #16161]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:40:35.510235 #16161]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:40:35.511578 #16161]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:40:35.514577 #16161]  INFO -- : Completed 200 OK in 39ms (Views: 23.7ms | ActiveRecord: 0.3ms)
D, [2020-04-01T15:40:35.529500 #16161] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:40:35.530315 #16161] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:40:35.530593 #16161]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:40:35.530671 #16161]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T15:40:35.530746 #16161]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:40:35.531758 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.533264 #16161] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "109242201"], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.534763 #16161] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "109242201"], ["date_of_birth", "2001-04-01"], ["phone", "8877274337"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:40:35.536090 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:40:35.537423 #16161]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:40:35 +0000
I, [2020-04-01T15:40:35.538383 #16161]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:40:35.538646 #16161]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:40:35.539841 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.541687 #16161] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.542987 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:40:35.543943 #16161]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:40:35.550998 #16161]  INFO -- :   Rendered employees/_form.html.erb (6.5ms)
I, [2020-04-01T15:40:35.551389 #16161]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.1ms)
I, [2020-04-01T15:40:35.552626 #16161]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:40:35.553203 #16161]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:40:35.553885 #16161]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:40:35.554537 #16161]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:40:35.555732 #16161]  INFO -- : Completed 200 OK in 17ms (Views: 11.3ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:40:35.559730 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:40:35.560415 #16161] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:40:35.560718 #16161]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T15:40:35.560797 #16161]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T15:40:35.560862 #16161]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T15:40:35.561844 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.563249 #16161] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "089663941"], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.564708 #16161] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "089663941"], ["date_of_birth", "2001-04-01"], ["phone", "2400437767"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:40:35.566075 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:40:35.567150 #16161]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 15:40:35 +0000
F, [2020-04-01T15:40:35.583458 #16161] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:40:35.586565 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:40:35.587325 #16161] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:40:35.587608 #16161]  INFO -- : ----------------------------------------------
I, [2020-04-01T15:40:35.587684 #16161]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T15:40:35.587746 #16161]  INFO -- : ----------------------------------------------
D, [2020-04-01T15:40:35.588732 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.590169 #16161] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "331097487"], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.591616 #16161] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "331097487"], ["date_of_birth", "2001-04-01"], ["phone", "2387346827"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:40:35.592927 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:40:35.594060 #16161]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 15:40:35 +0000
I, [2020-04-01T15:40:35.594985 #16161]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T15:40:35.597507 #16161]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T15:40:35.598907 #16161] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T15:40:35.600274 #16161]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.4ms)
I, [2020-04-01T15:40:35.601542 #16161]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:40:35.602162 #16161]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:40:35.602805 #16161]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:40:35.603499 #16161]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T15:40:35.604440 #16161]  INFO -- : Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:40:35.607988 #16161] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:40:35.608940 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:40:35.609279 #16161]  INFO -- : ---------------------------------------------
I, [2020-04-01T15:40:35.609366 #16161]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T15:40:35.609435 #16161]  INFO -- : ---------------------------------------------
D, [2020-04-01T15:40:35.610427 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.611859 #16161] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "111616413"], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.613323 #16161] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "111616413"], ["date_of_birth", "2001-04-01"], ["phone", "3417696188"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:40:35.614651 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:40:35.615739 #16161]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 15:40:35 +0000
I, [2020-04-01T15:40:35.616669 #16161]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T15:40:35.616936 #16161]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:40:35.617821 #16161] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:40:35.619096 #16161]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:40:35.626267 #16161]  INFO -- :   Rendered employees/_form.html.erb (6.6ms)
I, [2020-04-01T15:40:35.626679 #16161]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.2ms)
I, [2020-04-01T15:40:35.627917 #16161]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:40:35.628563 #16161]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T15:40:35.629188 #16161]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:40:35.629890 #16161]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:40:35.630885 #16161]  INFO -- : Completed 200 OK in 14ms (Views: 11.5ms | ActiveRecord: 0.1ms)
D, [2020-04-01T15:40:35.634533 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:40:35.635231 #16161] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:40:35.635571 #16161]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:40:35.635649 #16161]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T15:40:35.635721 #16161]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:40:35.636722 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.638224 #16161] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "187776908"], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.639611 #16161] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "187776908"], ["date_of_birth", "2001-04-01"], ["phone", "7974214218"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:40:35.640922 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:40:35.642102 #16161]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:40:35 +0000
I, [2020-04-01T15:40:35.643156 #16161]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:40:35.643409 #16161]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:40:35.644249 #16161] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.645440 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:40:35.647049 #16161] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:40:35.648616 #16161] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T15:40:35.649893 #16161] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:40:35.650758 #16161]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T15:40:35.651739 #16161]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:40:35.656134 #16161] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:41:19.233556 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T15:41:19.291462 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:41:19.291827 #16228]  INFO -- : ----------------------------------------------
I, [2020-04-01T15:41:19.291866 #16228]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T15:41:19.291887 #16228]  INFO -- : ----------------------------------------------
D, [2020-04-01T15:41:19.359643 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.361974 #16228] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "319954842"], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.363336 #16228] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "319954842"], ["date_of_birth", "2001-04-01"], ["phone", "0131785672"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:41:19.364515 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:41:19.366790 #16228]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 15:41:19 +0000
I, [2020-04-01T15:41:19.372810 #16228]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T15:41:19.380301 #16228]  INFO -- :   Rendering employees/index.html.erb within layouts/application
I, [2020-04-01T15:41:19.383396 #16228]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.7ms)
I, [2020-04-01T15:41:19.384333 #16228]  INFO -- : Completed 500  in 11ms (ActiveRecord: 0.0ms)
F, [2020-04-01T15:41:19.395605 #16228] FATAL -- : 
NoMethodError - undefined method `each' for nil:NilClass:
  app/views/employees/index.html.erb:12:in `_app_views_employees_index_html_erb__304244848717085481_47350038782860'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:41:19.400625 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:41:19.401556 #16228] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:41:19.401902 #16228]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:41:19.401996 #16228]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T15:41:19.402052 #16228]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:41:19.403038 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.404438 #16228] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "288741167"], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.405835 #16228] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "288741167"], ["date_of_birth", "2001-04-01"], ["phone", "8757902753"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:41:19.407092 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:41:19.411577 #16228]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:41:19 +0000
I, [2020-04-01T15:41:19.412482 #16228]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:41:19.412845 #16228]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:41:19.413928 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.526535 #16228] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.527853 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:41:19.529260 #16228]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:41:19.559515 #16228]  INFO -- :   Rendered employees/_form.html.erb (29.0ms)
I, [2020-04-01T15:41:19.559920 #16228]  INFO -- :   Rendered employees/new.html.erb within layouts/application (30.3ms)
I, [2020-04-01T15:41:19.726330 #16228]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T15:41:19.727731 #16228]  INFO -- :   Rendered partials/_nav.html.erb (0.3ms)
I, [2020-04-01T15:41:19.729199 #16228]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T15:41:19.731004 #16228]  INFO -- :   Rendered partials/_footer.html.erb (0.7ms)
I, [2020-04-01T15:41:19.732566 #16228]  INFO -- : Completed 200 OK in 319ms (Views: 203.0ms | ActiveRecord: 0.3ms)
D, [2020-04-01T15:41:19.739449 #16228] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:41:19.740287 #16228] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:41:19.740581 #16228]  INFO -- : ---------------------------------------------
I, [2020-04-01T15:41:19.740649 #16228]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T15:41:19.740718 #16228]  INFO -- : ---------------------------------------------
D, [2020-04-01T15:41:19.742238 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.744925 #16228] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "145776316"], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.747735 #16228] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "145776316"], ["date_of_birth", "2001-04-01"], ["phone", "7764363411"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:41:19.750169 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:41:19.751684 #16228]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 15:41:19 +0000
I, [2020-04-01T15:41:19.756106 #16228]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T15:41:19.756790 #16228]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:41:19.758402 #16228] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:41:19.761129 #16228]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:41:19.770638 #16228]  INFO -- :   Rendered employees/_form.html.erb (8.8ms)
I, [2020-04-01T15:41:19.771256 #16228]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (9.6ms)
I, [2020-04-01T15:41:19.772876 #16228]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:41:19.773684 #16228]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T15:41:19.774767 #16228]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:41:19.775658 #16228]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:41:19.777402 #16228]  INFO -- : Completed 200 OK in 20ms (Views: 15.4ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:41:19.787577 #16228] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:41:19.788818 #16228] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:41:19.789093 #16228]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:41:19.789790 #16228]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T15:41:19.789862 #16228]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:41:19.791465 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.794099 #16228] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "122689183"], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.797118 #16228] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "122689183"], ["date_of_birth", "2001-04-01"], ["phone", "1466961715"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:41:19.799014 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:41:19.800944 #16228]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:41:19 +0000
I, [2020-04-01T15:41:19.802426 #16228]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:41:19.802736 #16228]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:41:19.803820 #16228] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.805505 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.807490 #16228] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.809496 #16228] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T15:41:19.811447 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:41:19.812511 #16228]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T15:41:19.813960 #16228]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:41:19.820994 #16228] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:41:19.821855 #16228] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:41:19.822153 #16228]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T15:41:19.822229 #16228]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T15:41:19.822438 #16228]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T15:41:19.823555 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.826301 #16228] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "188298104"], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.829031 #16228] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "188298104"], ["date_of_birth", "2001-04-01"], ["phone", "9479090351"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:41:19.832845 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:41:19.834584 #16228]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 15:41:19 +0000
F, [2020-04-01T15:41:19.860458 #16228] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:41:19.867538 #16228] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:41:19.868814 #16228] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:41:19.869709 #16228]  INFO -- : --------------------------------------------
I, [2020-04-01T15:41:19.869784 #16228]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T15:41:19.869849 #16228]  INFO -- : --------------------------------------------
D, [2020-04-01T15:41:19.871449 #16228] DEBUG -- :   [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.874297 #16228] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "246494411"], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.876862 #16228] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "246494411"], ["date_of_birth", "2001-04-01"], ["phone", "0154534447"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:41:19.891889 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:41:19.892984 #16228]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 15:41:19 +0000
I, [2020-04-01T15:41:19.894014 #16228]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T15:41:19.895038 #16228]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:41:19.901825 #16228]  INFO -- :   Rendered employees/_form.html.erb (6.3ms)
I, [2020-04-01T15:41:19.902270 #16228]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.9ms)
I, [2020-04-01T15:41:19.903421 #16228]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:41:19.903953 #16228]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:41:19.904552 #16228]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:41:19.905147 #16228]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:41:19.906098 #16228]  INFO -- : Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T15:41:19.909070 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:41:19.909757 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:41:19.910080 #16228]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:41:19.910177 #16228]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T15:41:19.910238 #16228]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:41:19.911168 #16228] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.912661 #16228] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "268407888"], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.914058 #16228] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "268407888"], ["date_of_birth", "2001-04-01"], ["phone", "9682637948"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:41:19.915399 #16228] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.916325 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T15:41:19.917468 #16228]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:41:19 +0000
I, [2020-04-01T15:41:19.918214 #16228]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:41:19.918557 #16228]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:41:19.919544 #16228] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.920802 #16228] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.922153 #16228] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:41:19.923455 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:41:19.924293 #16228]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T15:41:19.925161 #16228]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:41:19.929085 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T15:41:19.930016 #16228] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T15:41:19.930994 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:41:19.931587 #16228] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:41:19.931868 #16228]  INFO -- : --------------------------------------------------
I, [2020-04-01T15:41:19.931941 #16228]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T15:41:19.932031 #16228]  INFO -- : --------------------------------------------------
D, [2020-04-01T15:41:19.932861 #16228] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.934061 #16228] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "311754733"], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.935414 #16228] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "311754733"], ["date_of_birth", "2001-04-01"], ["phone", "8959826241"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:41:19.936636 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.948048 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.949372 #16228] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.950709 #16228] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1294761184"], ["active", 1]]
D, [2020-04-01T15:41:19.951910 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.965382 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.966777 #16228] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:41:19.967918 #16228] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:41:19.969009 #16228] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.975514 #16228] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.976590 #16228] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T15:41:19.977517 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:41:19.978634 #16228]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 15:41:19 +0000
I, [2020-04-01T15:41:19.979392 #16228]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T15:41:19.979659 #16228]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:41:19.980427 #16228] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:41:19.982276 #16228]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T15:41:19.991235 #16228] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x0000562116fecc10>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:41:19.994482 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:41:19.995293 #16228] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:41:19.995571 #16228]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:41:19.995641 #16228]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T15:41:19.995697 #16228]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:41:19.996657 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:19.998012 #16228] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "106367528"], ["LIMIT", 1]]
D, [2020-04-01T15:41:19.999469 #16228] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "106367528"], ["date_of_birth", "2001-04-01"], ["phone", "6158621051"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:41:20.000775 #16228] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:41:20.001954 #16228]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:41:20 +0000
I, [2020-04-01T15:41:20.002878 #16228]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:41:20.003198 #16228]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:41:20.003954 #16228] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:41:20.005132 #16228] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:41:20.007195 #16228] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:41:20.008940 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:41:20.009900 #16228]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:41:20.016724 #16228]  INFO -- :   Rendered employees/_form.html.erb (6.4ms)
I, [2020-04-01T15:41:20.017082 #16228]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (6.9ms)
I, [2020-04-01T15:41:20.018328 #16228]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:41:20.018881 #16228]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:41:20.019465 #16228]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:41:20.020064 #16228]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:41:20.021097 #16228]  INFO -- : Completed 200 OK in 18ms (Views: 10.9ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:41:20.025248 #16228] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:21.071941 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T15:42:21.130787 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:21.131145 #16302]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:42:21.131192 #16302]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T15:42:21.131214 #16302]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:42:21.200786 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.203146 #16302] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "066987602"], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.204522 #16302] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "066987602"], ["date_of_birth", "2001-04-01"], ["phone", "7484256266"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:21.205682 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:21.211344 #16302]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:42:21 +0000
I, [2020-04-01T15:42:21.217436 #16302]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:42:21.217743 #16302]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:42:21.222388 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.337525 #16302] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.338928 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:21.342074 #16302]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:42:21.372203 #16302]  INFO -- :   Rendered employees/_form.html.erb (28.5ms)
I, [2020-04-01T15:42:21.372586 #16302]  INFO -- :   Rendered employees/new.html.erb within layouts/application (30.2ms)
I, [2020-04-01T15:42:21.573544 #16302]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T15:42:21.575059 #16302]  INFO -- :   Rendered partials/_nav.html.erb (0.5ms)
I, [2020-04-01T15:42:21.576691 #16302]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T15:42:21.578595 #16302]  INFO -- :   Rendered partials/_footer.html.erb (0.8ms)
I, [2020-04-01T15:42:21.580570 #16302]  INFO -- : Completed 200 OK in 362ms (Views: 239.5ms | ActiveRecord: 0.3ms)
D, [2020-04-01T15:42:21.590643 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:21.592197 #16302] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:21.592499 #16302]  INFO -- : ----------------------------------------------
I, [2020-04-01T15:42:21.592585 #16302]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T15:42:21.592657 #16302]  INFO -- : ----------------------------------------------
D, [2020-04-01T15:42:21.594361 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.597267 #16302] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "167277138"], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.600139 #16302] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "167277138"], ["date_of_birth", "2001-04-01"], ["phone", "8117072226"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:21.602210 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:21.603903 #16302]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 15:42:21 +0000
I, [2020-04-01T15:42:21.605327 #16302]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T15:42:21.609039 #16302]  INFO -- :   Rendering employees/index.html.erb within layouts/application
I, [2020-04-01T15:42:21.615830 #16302]  INFO -- :   Rendered employees/index.html.erb within layouts/application (6.4ms)
I, [2020-04-01T15:42:21.618900 #16302]  INFO -- : Completed 500  in 13ms (ActiveRecord: 0.0ms)
F, [2020-04-01T15:42:21.644439 #16302] FATAL -- : 
NoMethodError - undefined method `each' for nil:NilClass:
  app/views/employees/index.html.erb:12:in `_app_views_employees_index_html_erb___352266963865977826_47171421467280'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:42:21.656861 #16302] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:21.658114 #16302] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:21.658502 #16302]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:42:21.658591 #16302]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T15:42:21.658653 #16302]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:42:21.659847 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.661654 #16302] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "266325974"], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.663588 #16302] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "266325974"], ["date_of_birth", "2001-04-01"], ["phone", "6381790821"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:21.665429 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.666438 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T15:42:21.667998 #16302]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:42:21 +0000
I, [2020-04-01T15:42:21.669095 #16302]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:42:21.669440 #16302]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:42:21.670793 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.672428 #16302] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.674108 #16302] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:21.675867 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:21.677000 #16302]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T15:42:21.678373 #16302]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:42:21.683477 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T15:42:21.684665 #16302] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T15:42:21.686361 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:21.687024 #16302] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:21.687362 #16302]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T15:42:21.687437 #16302]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T15:42:21.687494 #16302]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T15:42:21.688420 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.689958 #16302] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "258488534"], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.691760 #16302] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "258488534"], ["date_of_birth", "2001-04-01"], ["phone", "1632602808"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:21.697066 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:21.698180 #16302]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 15:42:21 +0000
F, [2020-04-01T15:42:21.713718 #16302] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:42:21.716656 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:21.717281 #16302] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:21.717602 #16302]  INFO -- : --------------------------------------------
I, [2020-04-01T15:42:21.717693 #16302]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T15:42:21.717751 #16302]  INFO -- : --------------------------------------------
D, [2020-04-01T15:42:21.718604 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.719989 #16302] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "216611018"], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.721434 #16302] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "216611018"], ["date_of_birth", "2001-04-01"], ["phone", "1847529081"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:21.722697 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:21.723605 #16302]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 15:42:21 +0000
I, [2020-04-01T15:42:21.724463 #16302]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T15:42:21.725525 #16302]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:42:21.732767 #16302]  INFO -- :   Rendered employees/_form.html.erb (6.7ms)
I, [2020-04-01T15:42:21.733154 #16302]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.3ms)
I, [2020-04-01T15:42:21.734465 #16302]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:42:21.735069 #16302]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:42:21.735704 #16302]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:42:21.736376 #16302]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:42:21.737336 #16302]  INFO -- : Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T15:42:21.740431 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:21.741053 #16302] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:21.741323 #16302]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:42:21.741406 #16302]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T15:42:21.741547 #16302]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:42:21.742317 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.743629 #16302] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "370631445"], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.744990 #16302] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "370631445"], ["date_of_birth", "2001-04-01"], ["phone", "8853142725"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:21.746429 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:21.747515 #16302]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:42:21 +0000
I, [2020-04-01T15:42:21.748427 #16302]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:42:21.748699 #16302]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:42:21.749805 #16302] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.751132 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.753279 #16302] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.755091 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:21.756387 #16302]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:42:21.764334 #16302]  INFO -- :   Rendered employees/_form.html.erb (7.1ms)
I, [2020-04-01T15:42:21.764688 #16302]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (8.0ms)
I, [2020-04-01T15:42:21.766029 #16302]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T15:42:21.766661 #16302]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:42:21.767371 #16302]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:42:21.768002 #16302]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:42:21.769413 #16302]  INFO -- : Completed 200 OK in 20ms (Views: 12.9ms | ActiveRecord: 0.4ms)
D, [2020-04-01T15:42:21.774271 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:21.775064 #16302] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:21.775343 #16302]  INFO -- : --------------------------------------------------
I, [2020-04-01T15:42:21.775413 #16302]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T15:42:21.775470 #16302]  INFO -- : --------------------------------------------------
D, [2020-04-01T15:42:21.776538 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.778115 #16302] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "022460278"], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.779767 #16302] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "022460278"], ["date_of_birth", "2001-04-01"], ["phone", "9485063912"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:21.781121 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.792742 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.794229 #16302] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.795525 #16302] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9125543585"], ["active", 1]]
D, [2020-04-01T15:42:21.796776 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.810955 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.812351 #16302] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:42:21.813613 #16302] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:42:21.814829 #16302] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.821884 #16302] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.823073 #16302] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T15:42:21.824045 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:21.825242 #16302]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 15:42:21 +0000
I, [2020-04-01T15:42:21.826189 #16302]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T15:42:21.826497 #16302]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:42:21.827325 #16302] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:42:21.829352 #16302]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T15:42:21.838671 #16302] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x000055cde9084e38>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:42:21.842128 #16302] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:21.842980 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:21.843293 #16302]  INFO -- : ---------------------------------------------
I, [2020-04-01T15:42:21.843363 #16302]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T15:42:21.843420 #16302]  INFO -- : ---------------------------------------------
D, [2020-04-01T15:42:21.844339 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.845747 #16302] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "283361830"], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.847224 #16302] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "283361830"], ["date_of_birth", "2001-04-01"], ["phone", "0844262390"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:21.848536 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:21.849615 #16302]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 15:42:21 +0000
I, [2020-04-01T15:42:21.850500 #16302]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T15:42:21.850770 #16302]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:42:21.851508 #16302] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:42:21.852820 #16302]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:42:21.860134 #16302]  INFO -- :   Rendered employees/_form.html.erb (6.9ms)
I, [2020-04-01T15:42:21.860584 #16302]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.4ms)
I, [2020-04-01T15:42:21.861838 #16302]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:42:21.862450 #16302]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:42:21.863095 #16302]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:42:21.863755 #16302]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:42:21.864710 #16302]  INFO -- : Completed 200 OK in 14ms (Views: 11.7ms | ActiveRecord: 0.1ms)
D, [2020-04-01T15:42:21.868198 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:21.868897 #16302] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:21.869192 #16302]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:42:21.869290 #16302]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T15:42:21.869352 #16302]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:42:21.870265 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.871636 #16302] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "124124797"], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.873005 #16302] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "124124797"], ["date_of_birth", "2001-04-01"], ["phone", "2984453582"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:21.874368 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:21.875462 #16302]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:42:21 +0000
I, [2020-04-01T15:42:21.876405 #16302]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:42:21.876707 #16302]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:42:21.877452 #16302] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.879001 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:21.880851 #16302] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:42:21.882596 #16302] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T15:42:21.883911 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:21.884831 #16302]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T15:42:21.885897 #16302]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
D, [2020-04-01T15:42:21.890379 #16302] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:33.021475 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T15:42:33.083512 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:33.084206 #16327]  INFO -- : ----------------------------------------------
I, [2020-04-01T15:42:33.084287 #16327]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T15:42:33.084332 #16327]  INFO -- : ----------------------------------------------
D, [2020-04-01T15:42:33.188252 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.190970 #16327] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "253920857"], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.192561 #16327] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "253920857"], ["date_of_birth", "2001-04-01"], ["phone", "2130574602"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:33.193916 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:33.196486 #16327]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 15:42:33 +0000
I, [2020-04-01T15:42:33.203457 #16327]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T15:42:33.211934 #16327]  INFO -- :   Rendering employees/index.html.erb within layouts/application
I, [2020-04-01T15:42:33.215318 #16327]  INFO -- :   Rendered employees/index.html.erb within layouts/application (3.0ms)
I, [2020-04-01T15:42:33.216396 #16327]  INFO -- : Completed 500  in 13ms (ActiveRecord: 0.0ms)
F, [2020-04-01T15:42:33.228055 #16327] FATAL -- : 
NoMethodError - undefined method `each' for nil:NilClass:
  app/views/employees/index.html.erb:12:in `_app_views_employees_index_html_erb___4040750000715739609_46932093306940'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:42:33.232999 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:33.233943 #16327] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:33.234237 #16327]  INFO -- : --------------------------------------------
I, [2020-04-01T15:42:33.234302 #16327]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T15:42:33.234362 #16327]  INFO -- : --------------------------------------------
D, [2020-04-01T15:42:33.235213 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.236559 #16327] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "180536452"], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.237936 #16327] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "180536452"], ["date_of_birth", "2001-04-01"], ["phone", "3769842929"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:33.239158 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:33.240117 #16327]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 15:42:33 +0000
I, [2020-04-01T15:42:33.240932 #16327]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T15:42:33.242337 #16327]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:42:33.377312 #16327]  INFO -- :   Rendered employees/_form.html.erb (133.9ms)
I, [2020-04-01T15:42:33.377872 #16327]  INFO -- :   Rendered employees/new.html.erb within layouts/application (135.1ms)
I, [2020-04-01T15:42:33.546850 #16327]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T15:42:33.548156 #16327]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T15:42:33.549671 #16327]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T15:42:33.551232 #16327]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T15:42:33.552509 #16327]  INFO -- : Completed 200 OK in 311ms (Views: 309.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T15:42:33.558350 #16327] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:33.559336 #16327] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:33.560060 #16327]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:42:33.560147 #16327]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T15:42:33.560218 #16327]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:42:33.561957 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.564911 #16327] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "105209497"], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.567856 #16327] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "105209497"], ["date_of_birth", "2001-04-01"], ["phone", "9996225380"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:33.573891 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:33.579736 #16327]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:42:33 +0000
I, [2020-04-01T15:42:33.580971 #16327]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:42:33.581290 #16327]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:42:33.583010 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.585840 #16327] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.588238 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:33.589755 #16327]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:42:33.602940 #16327]  INFO -- :   Rendered employees/_form.html.erb (12.0ms)
I, [2020-04-01T15:42:33.603969 #16327]  INFO -- :   Rendered employees/new.html.erb within layouts/application (13.3ms)
I, [2020-04-01T15:42:33.607321 #16327]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T15:42:33.608572 #16327]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:42:33.609847 #16327]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:42:33.611172 #16327]  INFO -- :   Rendered partials/_footer.html.erb (0.9ms)
I, [2020-04-01T15:42:33.615039 #16327]  INFO -- : Completed 200 OK in 33ms (Views: 23.1ms | ActiveRecord: 0.3ms)
D, [2020-04-01T15:42:33.622216 #16327] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:33.623030 #16327] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:33.623324 #16327]  INFO -- : --------------------------------------------------
I, [2020-04-01T15:42:33.623401 #16327]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T15:42:33.623461 #16327]  INFO -- : --------------------------------------------------
D, [2020-04-01T15:42:33.624720 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.626311 #16327] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "224278441"], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.628236 #16327] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "224278441"], ["date_of_birth", "2001-04-01"], ["phone", "6596039680"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:33.630110 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.648192 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.650956 #16327] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.653768 #16327] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9117505141"], ["active", 1]]
D, [2020-04-01T15:42:33.657662 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.685964 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.688774 #16327] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:42:33.691802 #16327] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:42:33.694482 #16327] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.713209 #16327] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.714456 #16327] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T15:42:33.715440 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:33.716577 #16327]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 15:42:33 +0000
I, [2020-04-01T15:42:33.717567 #16327]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T15:42:33.717834 #16327]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:42:33.718709 #16327] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:42:33.720607 #16327]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T15:42:33.729485 #16327] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x0000555e79725308>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:42:33.732937 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:33.733810 #16327] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:33.734124 #16327]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T15:42:33.734209 #16327]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T15:42:33.734281 #16327]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T15:42:33.735230 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.736640 #16327] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "154190519"], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.738053 #16327] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "154190519"], ["date_of_birth", "2001-04-01"], ["phone", "8523476417"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:33.739315 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:33.740222 #16327]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 15:42:33 +0000
F, [2020-04-01T15:42:33.754895 #16327] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:42:33.757786 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:33.758426 #16327] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:33.758732 #16327]  INFO -- : ---------------------------------------------
I, [2020-04-01T15:42:33.758808 #16327]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T15:42:33.758868 #16327]  INFO -- : ---------------------------------------------
D, [2020-04-01T15:42:33.759664 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.760910 #16327] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "225439508"], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.762255 #16327] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "225439508"], ["date_of_birth", "2001-04-01"], ["phone", "1034686712"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:33.763463 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:33.764419 #16327]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 15:42:33 +0000
I, [2020-04-01T15:42:33.765234 #16327]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T15:42:33.765486 #16327]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:42:33.766286 #16327] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:42:33.767940 #16327]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:42:33.775455 #16327]  INFO -- :   Rendered employees/_form.html.erb (6.8ms)
I, [2020-04-01T15:42:33.775857 #16327]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.6ms)
I, [2020-04-01T15:42:33.777082 #16327]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:42:33.777683 #16327]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:42:33.778296 #16327]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:42:33.778958 #16327]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:42:33.779893 #16327]  INFO -- : Completed 200 OK in 14ms (Views: 11.7ms | ActiveRecord: 0.1ms)
D, [2020-04-01T15:42:33.783433 #16327] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:33.784093 #16327] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:33.784388 #16327]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:42:33.784502 #16327]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T15:42:33.784562 #16327]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:42:33.785443 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.786863 #16327] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "385635092"], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.788269 #16327] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "385635092"], ["date_of_birth", "2001-04-01"], ["phone", "4860995277"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:33.789536 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.790448 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T15:42:33.791629 #16327]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:42:33 +0000
I, [2020-04-01T15:42:33.792481 #16327]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:42:33.792774 #16327]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:42:33.793876 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.795183 #16327] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.796493 #16327] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:33.797798 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:33.798736 #16327]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T15:42:33.799708 #16327]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-01T15:42:33.803577 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T15:42:33.804569 #16327] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T15:42:33.805479 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:33.806156 #16327] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:33.806458 #16327]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:42:33.806541 #16327]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T15:42:33.806611 #16327]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:42:33.807389 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.808580 #16327] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "315317743"], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.809911 #16327] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "315317743"], ["date_of_birth", "2001-04-01"], ["phone", "0911278867"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:33.811149 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:33.812135 #16327]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:42:33 +0000
I, [2020-04-01T15:42:33.812984 #16327]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:42:33.813299 #16327]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:42:33.814010 #16327] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.815107 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.817041 #16327] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.818660 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:33.819499 #16327]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:42:33.826222 #16327]  INFO -- :   Rendered employees/_form.html.erb (6.2ms)
I, [2020-04-01T15:42:33.826560 #16327]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (6.8ms)
I, [2020-04-01T15:42:33.827738 #16327]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T15:42:33.828230 #16327]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:42:33.828800 #16327]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T15:42:33.829371 #16327]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:42:33.830457 #16327]  INFO -- : Completed 200 OK in 17ms (Views: 10.5ms | ActiveRecord: 0.3ms)
D, [2020-04-01T15:42:33.834420 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:42:33.834981 #16327] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:42:33.835238 #16327]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:42:33.835374 #16327]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T15:42:33.835432 #16327]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:42:33.836219 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.837418 #16327] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "164993391"], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.838769 #16327] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "164993391"], ["date_of_birth", "2001-04-01"], ["phone", "1477299833"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:42:33.839992 #16327] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:33.840972 #16327]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:42:33 +0000
I, [2020-04-01T15:42:33.841868 #16327]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:42:33.842133 #16327]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:42:33.842853 #16327] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.844061 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:42:33.845565 #16327] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:42:33.847138 #16327] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T15:42:33.848323 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:42:33.849148 #16327]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T15:42:33.850129 #16327]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:42:33.854190 #16327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:44:21.687101 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T15:44:21.747349 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:44:21.747865 #16460]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:44:21.747931 #16460]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T15:44:21.747969 #16460]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:44:21.838951 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:21.841477 #16460] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "309660069"], ["LIMIT", 1]]
D, [2020-04-01T15:44:21.842841 #16460] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "309660069"], ["date_of_birth", "2001-04-01"], ["phone", "5802155513"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:44:21.843885 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:44:21.849735 #16460]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:44:21 +0000
I, [2020-04-01T15:44:21.856176 #16460]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:44:21.856521 #16460]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:44:21.861360 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:21.980491 #16460] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:44:21.981880 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:44:21.985024 #16460]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:44:22.016272 #16460]  INFO -- :   Rendered employees/_form.html.erb (29.6ms)
I, [2020-04-01T15:44:22.016666 #16460]  INFO -- :   Rendered employees/new.html.erb within layouts/application (31.3ms)
I, [2020-04-01T15:44:22.211346 #16460]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T15:44:22.213016 #16460]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T15:44:22.214589 #16460]  INFO -- :   Rendered partials/_quick_links.html.erb (0.7ms)
I, [2020-04-01T15:44:22.216421 #16460]  INFO -- :   Rendered partials/_footer.html.erb (0.7ms)
I, [2020-04-01T15:44:22.218120 #16460]  INFO -- : Completed 200 OK in 361ms (Views: 234.4ms | ActiveRecord: 0.3ms)
D, [2020-04-01T15:44:22.229410 #16460] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:44:22.230886 #16460] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:44:22.231829 #16460]  INFO -- : --------------------------------------------------
I, [2020-04-01T15:44:22.231909 #16460]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T15:44:22.231970 #16460]  INFO -- : --------------------------------------------------
D, [2020-04-01T15:44:22.233781 #16460] DEBUG -- :   [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.235620 #16460] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "207274390"], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.237501 #16460] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "207274390"], ["date_of_birth", "2001-04-01"], ["phone", "4644971507"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:44:22.240773 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.267491 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.269849 #16460] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.271680 #16460] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4928428972"], ["active", 1]]
D, [2020-04-01T15:44:22.273813 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.298107 #16460] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.300023 #16460] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:44:22.302466 #16460] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T15:44:22.304350 #16460] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.315470 #16460] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.316673 #16460] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T15:44:22.317568 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:44:22.318782 #16460]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 15:44:22 +0000
I, [2020-04-01T15:44:22.319790 #16460]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T15:44:22.320012 #16460]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:44:22.320878 #16460] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:44:22.322667 #16460]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T15:44:22.331498 #16460] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x000055c6293380c0>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:44:22.335254 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:44:22.336203 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:44:22.336501 #16460]  INFO -- : --------------------------------------------
I, [2020-04-01T15:44:22.336568 #16460]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T15:44:22.336622 #16460]  INFO -- : --------------------------------------------
D, [2020-04-01T15:44:22.337835 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.339196 #16460] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "070220355"], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.340586 #16460] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "070220355"], ["date_of_birth", "2001-04-01"], ["phone", "5759620243"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:44:22.341920 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:44:22.342916 #16460]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 15:44:22 +0000
I, [2020-04-01T15:44:22.343814 #16460]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T15:44:22.344906 #16460]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T15:44:22.351839 #16460]  INFO -- :   Rendered employees/_form.html.erb (6.5ms)
I, [2020-04-01T15:44:22.352207 #16460]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.0ms)
I, [2020-04-01T15:44:22.353560 #16460]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:44:22.354208 #16460]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T15:44:22.354800 #16460]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:44:22.355446 #16460]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:44:22.356310 #16460]  INFO -- : Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T15:44:22.359390 #16460] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:44:22.360094 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:44:22.360416 #16460]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:44:22.360490 #16460]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T15:44:22.360551 #16460]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:44:22.361373 #16460] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.362761 #16460] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "054728749"], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.364080 #16460] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "054728749"], ["date_of_birth", "2001-04-01"], ["phone", "4112147861"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:44:22.365334 #16460] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:44:22.366545 #16460]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:44:22 +0000
I, [2020-04-01T15:44:22.367512 #16460]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:44:22.367787 #16460]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:44:22.368525 #16460] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.369832 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.371519 #16460] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.373205 #16460] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T15:44:22.374510 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:44:22.375429 #16460]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T15:44:22.376405 #16460]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:44:22.380716 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:44:22.381373 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:44:22.381636 #16460]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T15:44:22.381742 #16460]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T15:44:22.381804 #16460]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T15:44:22.382615 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.383814 #16460] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "039358330"], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.385180 #16460] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "039358330"], ["date_of_birth", "2001-04-01"], ["phone", "2681120942"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:44:22.386552 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:44:22.387427 #16460]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 15:44:22 +0000
F, [2020-04-01T15:44:22.402980 #16460] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:44:22.405987 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:44:22.406703 #16460] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:44:22.407021 #16460]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:44:22.407092 #16460]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T15:44:22.407148 #16460]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:44:22.407976 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.409244 #16460] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "363839383"], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.410664 #16460] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "363839383"], ["date_of_birth", "2001-04-01"], ["phone", "9237647146"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:44:22.411925 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.412890 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T15:44:22.414035 #16460]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 15:44:22 +0000
I, [2020-04-01T15:44:22.414739 #16460]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T15:44:22.415018 #16460]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T15:44:22.416032 #16460] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.417425 #16460] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.418784 #16460] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:44:22.419979 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:44:22.420850 #16460]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T15:44:22.421839 #16460]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-01T15:44:22.425769 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T15:44:22.426659 #16460] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T15:44:22.427641 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:44:22.428331 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:44:22.428617 #16460]  INFO -- : ---------------------------------------------
I, [2020-04-01T15:44:22.428686 #16460]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T15:44:22.428746 #16460]  INFO -- : ---------------------------------------------
D, [2020-04-01T15:44:22.429611 #16460] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.430909 #16460] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "248497050"], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.432159 #16460] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "248497050"], ["date_of_birth", "2001-04-01"], ["phone", "7463269421"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:44:22.433436 #16460] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:44:22.434463 #16460]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 15:44:22 +0000
I, [2020-04-01T15:44:22.435183 #16460]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T15:44:22.435447 #16460]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:44:22.436185 #16460] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:44:22.437870 #16460]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:44:22.445533 #16460]  INFO -- :   Rendered employees/_form.html.erb (6.9ms)
I, [2020-04-01T15:44:22.445960 #16460]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.8ms)
I, [2020-04-01T15:44:22.447176 #16460]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:44:22.447755 #16460]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:44:22.448388 #16460]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T15:44:22.449044 #16460]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:44:22.449981 #16460]  INFO -- : Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.1ms)
D, [2020-04-01T15:44:22.453162 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:44:22.453822 #16460] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:44:22.454108 #16460]  INFO -- : ----------------------------------------------
I, [2020-04-01T15:44:22.454181 #16460]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T15:44:22.454274 #16460]  INFO -- : ----------------------------------------------
D, [2020-04-01T15:44:22.455104 #16460] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.456383 #16460] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "180596280"], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.457711 #16460] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "180596280"], ["date_of_birth", "2001-04-01"], ["phone", "8542382472"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:44:22.458948 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:44:22.459794 #16460]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 15:44:22 +0000
I, [2020-04-01T15:44:22.460547 #16460]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T15:44:22.462483 #16460]  INFO -- :   Rendering employees/index.html.erb within layouts/application
I, [2020-04-01T15:44:22.465333 #16460]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.5ms)
I, [2020-04-01T15:44:22.466361 #16460]  INFO -- : Completed 500  in 5ms (ActiveRecord: 0.0ms)
F, [2020-04-01T15:44:22.477007 #16460] FATAL -- : 
NoMethodError - undefined method `each' for nil:NilClass:
  app/views/employees/index.html.erb:12:in `_app_views_employees_index_html_erb__2537508952810688465_47154800431320'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T15:44:22.480989 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:44:22.481906 #16460] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:44:22.482160 #16460]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T15:44:22.482225 #16460]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T15:44:22.482289 #16460]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T15:44:22.483179 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.484607 #16460] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "295164173"], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.485958 #16460] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "295164173"], ["date_of_birth", "2001-04-01"], ["phone", "2840955843"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T15:44:22.487141 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:44:22.488205 #16460]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 15:44:22 +0000
I, [2020-04-01T15:44:22.489086 #16460]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T15:44:22.489382 #16460]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:44:22.490231 #16460] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.491519 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:44:22.493704 #16460] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:44:22.495389 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:44:22.496280 #16460]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T15:44:22.503430 #16460]  INFO -- :   Rendered employees/_form.html.erb (6.7ms)
I, [2020-04-01T15:44:22.503801 #16460]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.2ms)
I, [2020-04-01T15:44:22.504941 #16460]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:44:22.505493 #16460]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:44:22.506127 #16460]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:44:22.506790 #16460]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:44:22.507934 #16460]  INFO -- : Completed 200 OK in 18ms (Views: 11.2ms | ActiveRecord: 0.3ms)
D, [2020-04-01T15:44:22.511894 #16460] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:46:26.330909 #16599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T15:46:26.393043 #16599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:46:26.393743 #16599]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:46:26.393829 #16599]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T15:46:26.393898 #16599]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:46:26.502812 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:46:26.504575 #16599] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:46:26.506235 #16599] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5500430007"], ["active", 1]]
D, [2020-04-01T15:46:26.507525 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:46:26.514232 #16599]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 15:46:26 +0000
I, [2020-04-01T15:46:26.521246 #16599]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T15:46:26.521717 #16599]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T15:46:26.527036 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:46:26.643312 #16599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T15:46:26.644617 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:46:26.648896 #16599]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T15:46:26.681580 #16599]  INFO -- :   Rendered stores/_form.html.erb (30.8ms)
I, [2020-04-01T15:46:26.682047 #16599]  INFO -- :   Rendered stores/new.html.erb within layouts/application (32.8ms)
I, [2020-04-01T15:46:26.885788 #16599]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T15:46:26.887392 #16599]  INFO -- :   Rendered partials/_nav.html.erb (0.6ms)
I, [2020-04-01T15:46:26.889158 #16599]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T15:46:26.891313 #16599]  INFO -- :   Rendered partials/_footer.html.erb (0.9ms)
I, [2020-04-01T15:46:26.893225 #16599]  INFO -- : Completed 200 OK in 371ms (Views: 246.5ms | ActiveRecord: 0.4ms)
D, [2020-04-01T15:46:26.904607 #16599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:46:26.906350 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:46:26.907472 #16599]  INFO -- : --------------------------------------------
I, [2020-04-01T15:46:26.907568 #16599]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T15:46:26.907657 #16599]  INFO -- : --------------------------------------------
D, [2020-04-01T15:46:26.909174 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:46:26.911659 #16599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:46:26.913401 #16599] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9576556096"], ["active", 1]]
D, [2020-04-01T15:46:26.916154 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:46:26.918129 #16599]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 15:46:26 +0000
I, [2020-04-01T15:46:26.919801 #16599]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T15:46:26.920769 #16599]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:46:26.922873 #16599] DEBUG -- :   [1m[36mStore Load (0.9ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:46:26.927810 #16599]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T15:46:26.929802 #16599]  INFO -- :   Rendered stores/show.html.erb within layouts/application (1.6ms)
I, [2020-04-01T15:46:26.933201 #16599]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:46:26.934511 #16599]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T15:46:26.936013 #16599]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:46:26.937231 #16599]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T15:46:26.939622 #16599]  INFO -- : Completed 200 OK in 18ms (Views: 10.8ms | ActiveRecord: 0.9ms)
D, [2020-04-01T15:46:26.951285 #16599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:46:26.952873 #16599] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:46:26.953199 #16599]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T15:46:26.953283 #16599]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T15:46:26.953362 #16599]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T15:46:26.954637 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:46:26.956747 #16599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:46:26.958849 #16599] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3558123650"], ["active", 1]]
D, [2020-04-01T15:46:26.961540 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T15:46:26.962970 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T15:46:26.965479 #16599]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 15:46:26 +0000
I, [2020-04-01T15:46:26.967231 #16599]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T15:46:26.968100 #16599]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T15:46:26.971081 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:46:26.973961 #16599] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T15:46:26.976616 #16599] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T15:46:26.979258 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:46:26.980317 #16599]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T15:46:26.981788 #16599]  INFO -- : Completed 302 Found in 13ms (ActiveRecord: 0.4ms)
D, [2020-04-01T15:46:26.987317 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T15:46:26.988489 #16599] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T15:46:26.989658 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:46:26.990557 #16599] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:46:26.991068 #16599]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T15:46:26.991160 #16599]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T15:46:26.991231 #16599]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T15:46:26.992151 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:46:26.993609 #16599] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:46:26.995425 #16599] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5976197336"], ["active", 1]]
D, [2020-04-01T15:46:26.997419 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:46:26.998561 #16599]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 15:46:26 +0000
F, [2020-04-01T15:46:27.016816 #16599] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T15:46:27.023680 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:46:27.024418 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:46:27.024754 #16599]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T15:46:27.024826 #16599]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T15:46:27.024886 #16599]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T15:46:27.025760 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:46:27.027082 #16599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:46:27.028398 #16599] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2414135831"], ["active", 1]]
D, [2020-04-01T15:46:27.029788 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:46:27.030927 #16599]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 15:46:27 +0000
I, [2020-04-01T15:46:27.032106 #16599]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T15:46:27.032481 #16599]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:46:27.033352 #16599] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:46:27.034667 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:46:27.036152 #16599] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:46:27.037871 #16599] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T15:46:27.039225 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:46:27.040041 #16599]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T15:46:27.041110 #16599]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
D, [2020-04-01T15:46:27.045557 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:46:27.046418 #16599] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:46:27.046691 #16599]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T15:46:27.046814 #16599]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T15:46:27.046898 #16599]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T15:46:27.047589 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:46:27.048762 #16599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:46:27.050161 #16599] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3736859944"], ["active", 1]]
D, [2020-04-01T15:46:27.051423 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:46:27.052391 #16599]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 15:46:27 +0000
I, [2020-04-01T15:46:27.053346 #16599]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T15:46:27.053598 #16599]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T15:46:27.054479 #16599] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:46:27.055688 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:46:27.057529 #16599] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T15:46:27.059209 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T15:46:27.061327 #16599]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T15:46:27.069691 #16599]  INFO -- :   Rendered stores/_form.html.erb (7.4ms)
I, [2020-04-01T15:46:27.070127 #16599]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (8.4ms)
I, [2020-04-01T15:46:27.071343 #16599]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T15:46:27.071940 #16599]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T15:46:27.072509 #16599]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T15:46:27.073206 #16599]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:46:27.074470 #16599]  INFO -- : Completed 200 OK in 21ms (Views: 13.8ms | ActiveRecord: 0.3ms)
D, [2020-04-01T15:46:27.079084 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:46:27.079906 #16599] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:46:27.080201 #16599]  INFO -- : -------------------------------------------
I, [2020-04-01T15:46:27.080275 #16599]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T15:46:27.080360 #16599]  INFO -- : -------------------------------------------
D, [2020-04-01T15:46:27.081129 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:46:27.082424 #16599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:46:27.083814 #16599] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5677970676"], ["active", 1]]
D, [2020-04-01T15:46:27.085255 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:46:27.086299 #16599]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 15:46:27 +0000
I, [2020-04-01T15:46:27.087115 #16599]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T15:46:27.089346 #16599]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-01T15:46:27.090748 #16599] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T15:46:27.092046 #16599]  INFO -- :   Rendered stores/index.html.erb within layouts/application (2.4ms)
I, [2020-04-01T15:46:27.093305 #16599]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:46:27.094021 #16599]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T15:46:27.094735 #16599]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:46:27.095394 #16599]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:46:27.096231 #16599]  INFO -- : Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.2ms)
D, [2020-04-01T15:46:27.099644 #16599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:46:27.100589 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:46:27.100903 #16599]  INFO -- : -----------------------------------------
I, [2020-04-01T15:46:27.100995 #16599]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T15:46:27.101059 #16599]  INFO -- : -----------------------------------------
D, [2020-04-01T15:46:27.101830 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:46:27.103129 #16599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:46:27.104545 #16599] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7345266067"], ["active", 1]]
D, [2020-04-01T15:46:27.105946 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:46:27.106983 #16599]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 15:46:27 +0000
I, [2020-04-01T15:46:27.107763 #16599]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T15:46:27.108615 #16599]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T15:46:27.115769 #16599]  INFO -- :   Rendered stores/_form.html.erb (6.6ms)
I, [2020-04-01T15:46:27.116235 #16599]  INFO -- :   Rendered stores/new.html.erb within layouts/application (7.2ms)
I, [2020-04-01T15:46:27.117450 #16599]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:46:27.118137 #16599]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T15:46:27.118791 #16599]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T15:46:27.119473 #16599]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:46:27.120341 #16599]  INFO -- : Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T15:46:27.123304 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T15:46:27.123996 #16599] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T15:46:27.124394 #16599]  INFO -- : ------------------------------------------
I, [2020-04-01T15:46:27.124475 #16599]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T15:46:27.124538 #16599]  INFO -- : ------------------------------------------
D, [2020-04-01T15:46:27.125201 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T15:46:27.126469 #16599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T15:46:27.127789 #16599] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8414683960"], ["active", 1]]
D, [2020-04-01T15:46:27.129116 #16599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T15:46:27.130174 #16599]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 15:46:27 +0000
I, [2020-04-01T15:46:27.130950 #16599]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T15:46:27.131214 #16599]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T15:46:27.131928 #16599] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T15:46:27.133107 #16599]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T15:46:27.140415 #16599]  INFO -- :   Rendered stores/_form.html.erb (6.8ms)
I, [2020-04-01T15:46:27.140907 #16599]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (7.4ms)
I, [2020-04-01T15:46:27.142081 #16599]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T15:46:27.142694 #16599]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T15:46:27.143375 #16599]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T15:46:27.144018 #16599]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T15:46:27.144982 #16599]  INFO -- : Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.1ms)
D, [2020-04-01T15:46:27.148508 #16599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:45.882094 #20095] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T16:38:45.939810 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:45.940175 #20095]  INFO -- : ---------------------------------------------
I, [2020-04-01T16:38:45.940218 #20095]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T16:38:45.940241 #20095]  INFO -- : ---------------------------------------------
D, [2020-04-01T16:38:46.008574 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.010930 #20095] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "228395232"], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.012333 #20095] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "228395232"], ["date_of_birth", "2001-04-01"], ["phone", "4015653893"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:46.013373 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:46.015709 #20095]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 16:38:46 +0000
I, [2020-04-01T16:38:46.021824 #20095]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T16:38:46.022140 #20095]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T16:38:46.026868 #20095] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T16:38:46.030922 #20095]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T16:38:46.169578 #20095]  INFO -- :   Rendered employees/_form.html.erb (137.1ms)
I, [2020-04-01T16:38:46.170099 #20095]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (138.8ms)
I, [2020-04-01T16:38:46.326186 #20095]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T16:38:46.327498 #20095]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T16:38:46.328841 #20095]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T16:38:46.330270 #20095]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T16:38:46.331444 #20095]  INFO -- : Completed 200 OK in 309ms (Views: 301.7ms | ActiveRecord: 0.1ms)
D, [2020-04-01T16:38:46.337705 #20095] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:46.338533 #20095] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:46.338850 #20095]  INFO -- : ----------------------------------------------
I, [2020-04-01T16:38:46.338930 #20095]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T16:38:46.338989 #20095]  INFO -- : ----------------------------------------------
D, [2020-04-01T16:38:46.340123 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.341739 #20095] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "108857231"], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.343362 #20095] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "108857231"], ["date_of_birth", "2001-04-01"], ["phone", "5611365545"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:46.344948 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:46.346257 #20095]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 16:38:46 +0000
I, [2020-04-01T16:38:46.347325 #20095]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T16:38:46.349253 #20095]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T16:38:46.350528 #20095] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
I, [2020-04-01T16:38:46.354555 #20095]  INFO -- :   Rendered employees/index.html.erb within layouts/application (4.9ms)
I, [2020-04-01T16:38:46.355800 #20095]  INFO -- : Completed 500  in 8ms (ActiveRecord: 0.3ms)
F, [2020-04-01T16:38:46.380473 #20095] FATAL -- : 
NoMethodError - undefined method `total_pages' for #<Employee::ActiveRecord_Relation:0x00005641a0dd1ed0>:
  app/views/employees/index.html.erb:22:in `_app_views_employees_index_html_erb__3407311988763658514_47419935841600'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:38:46.388730 #20095] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:46.390119 #20095] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:46.390884 #20095]  INFO -- : --------------------------------------------
I, [2020-04-01T16:38:46.390969 #20095]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T16:38:46.391030 #20095]  INFO -- : --------------------------------------------
D, [2020-04-01T16:38:46.393021 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.395683 #20095] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "333061427"], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.399064 #20095] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "333061427"], ["date_of_birth", "2001-04-01"], ["phone", "5176134401"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:46.402925 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:46.404638 #20095]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 16:38:46 +0000
I, [2020-04-01T16:38:46.406585 #20095]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T16:38:46.408145 #20095]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T16:38:46.418114 #20095]  INFO -- :   Rendered employees/_form.html.erb (8.9ms)
I, [2020-04-01T16:38:46.418653 #20095]  INFO -- :   Rendered employees/new.html.erb within layouts/application (10.0ms)
I, [2020-04-01T16:38:46.420213 #20095]  INFO -- :   Rendered partials/_topbar.html.erb (0.5ms)
I, [2020-04-01T16:38:46.420947 #20095]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T16:38:46.421763 #20095]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T16:38:46.422556 #20095]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T16:38:46.423924 #20095]  INFO -- : Completed 200 OK in 17ms (Views: 15.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T16:38:46.428162 #20095] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:46.429023 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:46.429576 #20095]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T16:38:46.429672 #20095]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T16:38:46.429739 #20095]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T16:38:46.430859 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.432498 #20095] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "311994927"], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.434199 #20095] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "311994927"], ["date_of_birth", "2001-04-01"], ["phone", "5087730448"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:46.437325 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:46.439766 #20095]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 16:38:46 +0000
I, [2020-04-01T16:38:46.447102 #20095]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T16:38:46.447408 #20095]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T16:38:46.448786 #20095] DEBUG -- :   [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.452046 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.456095 #20095] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.460748 #20095] DEBUG -- :   [1m[35m (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:46.462922 #20095]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T16:38:46.475475 #20095]  INFO -- :   Rendered employees/_form.html.erb (11.4ms)
I, [2020-04-01T16:38:46.475831 #20095]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (12.6ms)
I, [2020-04-01T16:38:46.478711 #20095]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T16:38:46.479919 #20095]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T16:38:46.481175 #20095]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T16:38:46.482532 #20095]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T16:38:46.485465 #20095]  INFO -- : Completed 200 OK in 38ms (Views: 20.9ms | ActiveRecord: 1.6ms)
D, [2020-04-01T16:38:46.502538 #20095] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:46.503232 #20095] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:46.503529 #20095]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T16:38:46.503605 #20095]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T16:38:46.503677 #20095]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T16:38:46.504617 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.506027 #20095] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "208340804"], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.507426 #20095] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "208340804"], ["date_of_birth", "2001-04-01"], ["phone", "3553593966"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:46.508683 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:46.509935 #20095]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 16:38:46 +0000
I, [2020-04-01T16:38:46.510952 #20095]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T16:38:46.511221 #20095]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T16:38:46.512006 #20095] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.513194 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.514789 #20095] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.516299 #20095] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T16:38:46.517527 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:46.518452 #20095]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T16:38:46.519413 #20095]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T16:38:46.524243 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:46.524894 #20095] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:46.525204 #20095]  INFO -- : --------------------------------------------------
I, [2020-04-01T16:38:46.525277 #20095]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T16:38:46.525340 #20095]  INFO -- : --------------------------------------------------
D, [2020-04-01T16:38:46.526172 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.527385 #20095] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238127217"], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.528669 #20095] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "238127217"], ["date_of_birth", "2001-04-01"], ["phone", "2380859434"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:46.529956 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.540851 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.542235 #20095] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.543462 #20095] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2610399343"], ["active", 1]]
D, [2020-04-01T16:38:46.544604 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.557845 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.559150 #20095] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T16:38:46.560311 #20095] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T16:38:46.561412 #20095] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.567629 #20095] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.568733 #20095] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T16:38:46.569700 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:46.570687 #20095]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 16:38:46 +0000
I, [2020-04-01T16:38:46.571509 #20095]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T16:38:46.571769 #20095]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T16:38:46.572508 #20095] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T16:38:46.574411 #20095]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T16:38:46.583275 #20095] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x00005641a486c6d0>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:38:46.586463 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:46.587300 #20095] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:46.587608 #20095]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T16:38:46.587683 #20095]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T16:38:46.587745 #20095]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T16:38:46.588610 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.589976 #20095] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "266457010"], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.591285 #20095] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "266457010"], ["date_of_birth", "2001-04-01"], ["phone", "0439643046"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:46.592557 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:46.593826 #20095]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 16:38:46 +0000
I, [2020-04-01T16:38:46.594678 #20095]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T16:38:46.594966 #20095]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T16:38:46.596014 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.597853 #20095] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.599111 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:46.599973 #20095]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T16:38:46.606758 #20095]  INFO -- :   Rendered employees/_form.html.erb (6.4ms)
I, [2020-04-01T16:38:46.607140 #20095]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.9ms)
I, [2020-04-01T16:38:46.608340 #20095]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T16:38:46.608911 #20095]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T16:38:46.609484 #20095]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T16:38:46.610119 #20095]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T16:38:46.611129 #20095]  INFO -- : Completed 200 OK in 16ms (Views: 10.8ms | ActiveRecord: 0.2ms)
D, [2020-04-01T16:38:46.614607 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:46.615283 #20095] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:46.615546 #20095]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T16:38:46.615622 #20095]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T16:38:46.615684 #20095]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T16:38:46.616494 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.617718 #20095] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "153272552"], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.619035 #20095] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "153272552"], ["date_of_birth", "2001-04-01"], ["phone", "4495297762"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:46.620191 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:46.621081 #20095]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 16:38:46 +0000
F, [2020-04-01T16:38:46.635850 #20095] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:38:46.638766 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:46.639384 #20095] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:46.639647 #20095]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T16:38:46.639716 #20095]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T16:38:46.639772 #20095]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T16:38:46.640570 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.641765 #20095] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "386596245"], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.643014 #20095] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "386596245"], ["date_of_birth", "2001-04-01"], ["phone", "8448732604"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:46.644144 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.645005 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T16:38:46.646131 #20095]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 16:38:46 +0000
I, [2020-04-01T16:38:46.646849 #20095]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T16:38:46.647147 #20095]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T16:38:46.648086 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:46.649361 #20095] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T16:38:46.650648 #20095] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:46.651938 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:46.652795 #20095]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T16:38:46.653764 #20095]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-01T16:38:46.657428 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T16:38:46.658349 #20095] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T16:38:46.659221 #20095] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:59.313045 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T16:38:59.372747 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:59.373079 #20121]  INFO -- : --------------------------------------------
I, [2020-04-01T16:38:59.373118 #20121]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T16:38:59.373138 #20121]  INFO -- : --------------------------------------------
D, [2020-04-01T16:38:59.441500 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:59.443873 #20121] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "110951444"], ["LIMIT", 1]]
D, [2020-04-01T16:38:59.445233 #20121] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "110951444"], ["date_of_birth", "2001-04-01"], ["phone", "9689214069"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:59.446405 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:59.448570 #20121]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 16:38:59 +0000
I, [2020-04-01T16:38:59.454781 #20121]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T16:38:59.461272 #20121]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T16:38:59.600142 #20121]  INFO -- :   Rendered employees/_form.html.erb (137.1ms)
I, [2020-04-01T16:38:59.600588 #20121]  INFO -- :   Rendered employees/new.html.erb within layouts/application (139.0ms)
I, [2020-04-01T16:38:59.773719 #20121]  INFO -- :   Rendered partials/_topbar.html.erb (1.4ms)
I, [2020-04-01T16:38:59.775590 #20121]  INFO -- :   Rendered partials/_nav.html.erb (1.0ms)
I, [2020-04-01T16:38:59.778292 #20121]  INFO -- :   Rendered partials/_quick_links.html.erb (1.2ms)
I, [2020-04-01T16:38:59.781055 #20121]  INFO -- :   Rendered partials/_footer.html.erb (1.2ms)
I, [2020-04-01T16:38:59.784100 #20121]  INFO -- : Completed 200 OK in 329ms (Views: 322.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T16:38:59.795568 #20121] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:59.798049 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:59.798351 #20121]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T16:38:59.798438 #20121]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T16:38:59.798712 #20121]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T16:38:59.800392 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:59.802262 #20121] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "076446501"], ["LIMIT", 1]]
D, [2020-04-01T16:38:59.804035 #20121] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "076446501"], ["date_of_birth", "2001-04-01"], ["phone", "8907342412"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:59.806265 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:59.812064 #20121]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 16:38:59 +0000
I, [2020-04-01T16:38:59.813206 #20121]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T16:38:59.813742 #20121]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T16:38:59.815157 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:59.817518 #20121] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T16:38:59.819669 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:59.820802 #20121]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T16:38:59.832633 #20121]  INFO -- :   Rendered employees/_form.html.erb (10.7ms)
I, [2020-04-01T16:38:59.833073 #20121]  INFO -- :   Rendered employees/new.html.erb within layouts/application (11.9ms)
I, [2020-04-01T16:38:59.836361 #20121]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T16:38:59.837656 #20121]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T16:38:59.838680 #20121]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T16:38:59.839446 #20121]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T16:38:59.841092 #20121]  INFO -- : Completed 200 OK in 27ms (Views: 19.6ms | ActiveRecord: 0.2ms)
D, [2020-04-01T16:38:59.853313 #20121] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:59.855434 #20121] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:59.856428 #20121]  INFO -- : ----------------------------------------------
I, [2020-04-01T16:38:59.856497 #20121]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T16:38:59.856573 #20121]  INFO -- : ----------------------------------------------
D, [2020-04-01T16:38:59.858404 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:59.860926 #20121] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "299094480"], ["LIMIT", 1]]
D, [2020-04-01T16:38:59.866590 #20121] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "299094480"], ["date_of_birth", "2001-04-01"], ["phone", "1906115066"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:59.869304 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:59.870977 #20121]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 16:38:59 +0000
I, [2020-04-01T16:38:59.872128 #20121]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T16:38:59.874496 #20121]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T16:38:59.875915 #20121] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
I, [2020-04-01T16:38:59.881693 #20121]  INFO -- :   Rendered employees/index.html.erb within layouts/application (6.8ms)
I, [2020-04-01T16:38:59.883618 #20121]  INFO -- : Completed 500  in 11ms (ActiveRecord: 0.2ms)
F, [2020-04-01T16:38:59.905923 #20121] FATAL -- : 
NoMethodError - undefined method `total_pages' for #<Employee::ActiveRecord_Relation:0x000055919ab672c8>:
  app/views/employees/index.html.erb:22:in `_app_views_employees_index_html_erb___4577131678815377250_47041927368580'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:38:59.913452 #20121] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:59.917059 #20121] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:59.917399 #20121]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T16:38:59.917479 #20121]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T16:38:59.917540 #20121]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T16:38:59.918628 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:59.920050 #20121] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "172343204"], ["LIMIT", 1]]
D, [2020-04-01T16:38:59.921437 #20121] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "172343204"], ["date_of_birth", "2001-04-01"], ["phone", "1534384270"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:59.922709 #20121] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:59.923710 #20121]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 16:38:59 +0000
F, [2020-04-01T16:38:59.938683 #20121] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:38:59.941720 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:59.943610 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:59.943885 #20121]  INFO -- : ---------------------------------------------
I, [2020-04-01T16:38:59.943983 #20121]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T16:38:59.944055 #20121]  INFO -- : ---------------------------------------------
D, [2020-04-01T16:38:59.944861 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:59.946185 #20121] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "295779718"], ["LIMIT", 1]]
D, [2020-04-01T16:38:59.947435 #20121] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "295779718"], ["date_of_birth", "2001-04-01"], ["phone", "6778770497"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:59.948663 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:59.949611 #20121]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 16:38:59 +0000
I, [2020-04-01T16:38:59.950514 #20121]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T16:38:59.950738 #20121]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T16:38:59.951797 #20121] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T16:38:59.953533 #20121]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T16:38:59.960753 #20121]  INFO -- :   Rendered employees/_form.html.erb (6.5ms)
I, [2020-04-01T16:38:59.961169 #20121]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.3ms)
I, [2020-04-01T16:38:59.962396 #20121]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T16:38:59.962938 #20121]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T16:38:59.963594 #20121]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T16:38:59.964245 #20121]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T16:38:59.965205 #20121]  INFO -- : Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 0.1ms)
D, [2020-04-01T16:38:59.968646 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:59.970620 #20121] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:59.970946 #20121]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T16:38:59.971026 #20121]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T16:38:59.971098 #20121]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T16:38:59.971896 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:59.973134 #20121] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "153360621"], ["LIMIT", 1]]
D, [2020-04-01T16:38:59.974488 #20121] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "153360621"], ["date_of_birth", "2001-04-01"], ["phone", "6188416275"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:59.975652 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:59.976762 #20121]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 16:38:59 +0000
I, [2020-04-01T16:38:59.977685 #20121]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T16:38:59.977994 #20121]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T16:38:59.978694 #20121] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:38:59.979804 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:59.981393 #20121] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:38:59.983032 #20121] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T16:38:59.984227 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:38:59.985064 #20121]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T16:38:59.986052 #20121]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T16:38:59.990211 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:38:59.992023 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:38:59.992292 #20121]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T16:38:59.992365 #20121]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T16:38:59.992427 #20121]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T16:38:59.993247 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:59.994538 #20121] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "127174474"], ["LIMIT", 1]]
D, [2020-04-01T16:38:59.995779 #20121] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "127174474"], ["date_of_birth", "2001-04-01"], ["phone", "0625893547"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:38:59.997003 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:38:59.997920 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T16:38:59.999039 #20121]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 16:38:59 +0000
I, [2020-04-01T16:38:59.999700 #20121]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T16:39:00.000027 #20121]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T16:39:00.000938 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:39:00.002226 #20121] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T16:39:00.003513 #20121] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:39:00.004814 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:39:00.005584 #20121]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T16:39:00.006537 #20121]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-01T16:39:00.010335 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T16:39:00.011330 #20121] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T16:39:00.012212 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:39:00.014109 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:39:00.014378 #20121]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T16:39:00.014444 #20121]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T16:39:00.014497 #20121]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T16:39:00.015293 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:39:00.016492 #20121] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "325103933"], ["LIMIT", 1]]
D, [2020-04-01T16:39:00.017832 #20121] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "325103933"], ["date_of_birth", "2001-04-01"], ["phone", "4951863787"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:39:00.019142 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:39:00.020144 #20121]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 16:39:00 +0000
I, [2020-04-01T16:39:00.021087 #20121]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T16:39:00.021346 #20121]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T16:39:00.022184 #20121] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:39:00.023338 #20121] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:39:00.025243 #20121] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:39:00.026964 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T16:39:00.027839 #20121]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T16:39:00.034582 #20121]  INFO -- :   Rendered employees/_form.html.erb (6.3ms)
I, [2020-04-01T16:39:00.034949 #20121]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (6.8ms)
I, [2020-04-01T16:39:00.036028 #20121]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T16:39:00.036554 #20121]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T16:39:00.037162 #20121]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T16:39:00.037815 #20121]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T16:39:00.038883 #20121]  INFO -- : Completed 200 OK in 17ms (Views: 10.7ms | ActiveRecord: 0.3ms)
D, [2020-04-01T16:39:00.042653 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:39:00.044524 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:39:00.044784 #20121]  INFO -- : --------------------------------------------------
I, [2020-04-01T16:39:00.044857 #20121]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T16:39:00.044963 #20121]  INFO -- : --------------------------------------------------
D, [2020-04-01T16:39:00.045824 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:39:00.046999 #20121] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "332141716"], ["LIMIT", 1]]
D, [2020-04-01T16:39:00.048250 #20121] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "332141716"], ["date_of_birth", "2001-04-01"], ["phone", "9963445830"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:39:00.049508 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:39:00.060397 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:39:00.061829 #20121] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T16:39:00.063083 #20121] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3532105717"], ["active", 1]]
D, [2020-04-01T16:39:00.064238 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:39:00.077366 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:39:00.078638 #20121] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T16:39:00.079722 #20121] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T16:39:00.080761 #20121] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:39:00.087084 #20121] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:39:00.088170 #20121] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T16:39:00.089096 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:39:00.090177 #20121]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 16:39:00 +0000
I, [2020-04-01T16:39:00.090996 #20121]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T16:39:00.091236 #20121]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T16:39:00.092016 #20121] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T16:39:00.093848 #20121]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T16:39:00.102660 #20121] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x000055919be59ef8>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:39:00.106046 #20121] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:42:17.146422 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T16:42:17.206408 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:42:17.206748 #20511]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T16:42:17.206796 #20511]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T16:42:17.206817 #20511]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T16:42:17.275036 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.277381 #20511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "029837939"], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.278764 #20511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "029837939"], ["date_of_birth", "2001-04-01"], ["phone", "1372976595"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:42:17.279857 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.280587 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T16:42:17.286302 #20511]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 16:42:17 +0000
I, [2020-04-01T16:42:17.292376 #20511]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T16:42:17.292669 #20511]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T16:42:17.297217 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.298728 #20511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.300117 #20511] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:42:17.301406 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:42:17.302541 #20511]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T16:42:17.303504 #20511]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T16:42:17.308791 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T16:42:17.309752 #20511] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T16:42:17.311713 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:42:17.312838 #20511] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:42:17.313169 #20511]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T16:42:17.313247 #20511]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T16:42:17.313315 #20511]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T16:42:17.314285 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.315566 #20511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "357234417"], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.316845 #20511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "357234417"], ["date_of_birth", "2001-04-01"], ["phone", "7400437361"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:42:17.318106 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:42:17.319024 #20511]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 16:42:17 +0000
F, [2020-04-01T16:42:17.334198 #20511] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:42:17.336913 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:42:17.337804 #20511] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:42:17.338108 #20511]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T16:42:17.338180 #20511]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T16:42:17.338237 #20511]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T16:42:17.339045 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.340270 #20511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "183978887"], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.341614 #20511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "183978887"], ["date_of_birth", "2001-04-01"], ["phone", "5779270574"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:42:17.344667 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:42:17.345712 #20511]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 16:42:17 +0000
I, [2020-04-01T16:42:17.346647 #20511]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T16:42:17.346927 #20511]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T16:42:17.347939 #20511] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.349061 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.457235 #20511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.459077 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T16:42:17.462339 #20511]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T16:42:17.493143 #20511]  INFO -- :   Rendered employees/_form.html.erb (29.2ms)
I, [2020-04-01T16:42:17.493545 #20511]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (30.9ms)
I, [2020-04-01T16:42:17.662285 #20511]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T16:42:17.663635 #20511]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T16:42:17.665216 #20511]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T16:42:17.667814 #20511]  INFO -- :   Rendered partials/_footer.html.erb (1.4ms)
I, [2020-04-01T16:42:17.669693 #20511]  INFO -- : Completed 200 OK in 322ms (Views: 208.5ms | ActiveRecord: 0.4ms)
D, [2020-04-01T16:42:17.683492 #20511] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:42:17.684768 #20511] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:42:17.685285 #20511]  INFO -- : ---------------------------------------------
I, [2020-04-01T16:42:17.685376 #20511]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T16:42:17.685440 #20511]  INFO -- : ---------------------------------------------
D, [2020-04-01T16:42:17.686734 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.688451 #20511] DEBUG -- :   [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "039918294"], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.690365 #20511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "039918294"], ["date_of_birth", "2001-04-01"], ["phone", "5664815647"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:42:17.692016 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:42:17.693403 #20511]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 16:42:17 +0000
I, [2020-04-01T16:42:17.694685 #20511]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T16:42:17.695038 #20511]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T16:42:17.696066 #20511] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T16:42:17.697809 #20511]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T16:42:17.708633 #20511]  INFO -- :   Rendered employees/_form.html.erb (10.4ms)
I, [2020-04-01T16:42:17.709492 #20511]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (10.9ms)
I, [2020-04-01T16:42:17.712426 #20511]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T16:42:17.713544 #20511]  INFO -- :   Rendered partials/_nav.html.erb (0.7ms)
I, [2020-04-01T16:42:17.715334 #20511]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T16:42:17.716565 #20511]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T16:42:17.719439 #20511]  INFO -- : Completed 200 OK in 23ms (Views: 19.7ms | ActiveRecord: 0.1ms)
D, [2020-04-01T16:42:17.727582 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:42:17.728853 #20511] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:42:17.729181 #20511]  INFO -- : --------------------------------------------
I, [2020-04-01T16:42:17.729273 #20511]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T16:42:17.729521 #20511]  INFO -- : --------------------------------------------
D, [2020-04-01T16:42:17.730728 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.732276 #20511] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "030858448"], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.734159 #20511] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "030858448"], ["date_of_birth", "2001-04-01"], ["phone", "5018521917"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:42:17.735821 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:42:17.737146 #20511]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 16:42:17 +0000
I, [2020-04-01T16:42:17.738295 #20511]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T16:42:17.739943 #20511]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T16:42:17.749090 #20511]  INFO -- :   Rendered employees/_form.html.erb (8.3ms)
I, [2020-04-01T16:42:17.749670 #20511]  INFO -- :   Rendered employees/new.html.erb within layouts/application (9.2ms)
I, [2020-04-01T16:42:17.751164 #20511]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T16:42:17.751914 #20511]  INFO -- :   Rendered partials/_nav.html.erb (0.3ms)
I, [2020-04-01T16:42:17.752643 #20511]  INFO -- :   Rendered partials/_quick_links.html.erb (0.3ms)
I, [2020-04-01T16:42:17.753457 #20511]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T16:42:17.755798 #20511]  INFO -- : Completed 200 OK in 17ms (Views: 14.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T16:42:17.764137 #20511] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:42:17.765427 #20511] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:42:17.766708 #20511]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T16:42:17.766796 #20511]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T16:42:17.766864 #20511]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T16:42:17.768399 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.770980 #20511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "327163627"], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.773341 #20511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "327163627"], ["date_of_birth", "2001-04-01"], ["phone", "3613027915"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:42:17.777154 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:42:17.779509 #20511]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 16:42:17 +0000
I, [2020-04-01T16:42:17.780876 #20511]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T16:42:17.781183 #20511]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T16:42:17.783254 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.786471 #20511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.789499 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T16:42:17.791656 #20511]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T16:42:17.818818 #20511]  INFO -- :   Rendered employees/_form.html.erb (13.1ms)
I, [2020-04-01T16:42:17.819310 #20511]  INFO -- :   Rendered employees/new.html.erb within layouts/application (27.3ms)
I, [2020-04-01T16:42:17.820559 #20511]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T16:42:17.821099 #20511]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T16:42:17.821756 #20511]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T16:42:17.822428 #20511]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T16:42:17.823579 #20511]  INFO -- : Completed 200 OK in 42ms (Views: 32.1ms | ActiveRecord: 0.3ms)
D, [2020-04-01T16:42:17.827533 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:42:17.828609 #20511] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:42:17.828940 #20511]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T16:42:17.829065 #20511]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T16:42:17.829127 #20511]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T16:42:17.830234 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.831659 #20511] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091804164"], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.833157 #20511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "091804164"], ["date_of_birth", "2001-04-01"], ["phone", "0988629799"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:42:17.834492 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:42:17.835729 #20511]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 16:42:17 +0000
I, [2020-04-01T16:42:17.836707 #20511]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T16:42:17.837026 #20511]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T16:42:17.837937 #20511] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.839178 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.840876 #20511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.842590 #20511] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T16:42:17.843832 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:42:17.844745 #20511]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T16:42:17.845783 #20511]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T16:42:17.851082 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:42:17.851950 #20511] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:42:17.852258 #20511]  INFO -- : --------------------------------------------------
I, [2020-04-01T16:42:17.852333 #20511]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T16:42:17.852403 #20511]  INFO -- : --------------------------------------------------
D, [2020-04-01T16:42:17.853280 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.854535 #20511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "202300895"], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.855904 #20511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "202300895"], ["date_of_birth", "2001-04-01"], ["phone", "7198986263"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:42:17.857236 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.868833 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.870249 #20511] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.871489 #20511] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6551586803"], ["active", 1]]
D, [2020-04-01T16:42:17.872690 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.886334 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.887650 #20511] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T16:42:17.888788 #20511] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T16:42:17.889967 #20511] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.896331 #20511] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.897509 #20511] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T16:42:17.898459 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:42:17.899473 #20511]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 16:42:17 +0000
I, [2020-04-01T16:42:17.900294 #20511]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T16:42:17.900578 #20511]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T16:42:17.901382 #20511] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T16:42:17.903296 #20511]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T16:42:17.912283 #20511] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x000055ea59480050>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:42:17.915713 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:42:17.917069 #20511] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:42:17.917381 #20511]  INFO -- : ----------------------------------------------
I, [2020-04-01T16:42:17.917451 #20511]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T16:42:17.917509 #20511]  INFO -- : ----------------------------------------------
D, [2020-04-01T16:42:17.918466 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:42:17.919830 #20511] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "254667020"], ["LIMIT", 1]]
D, [2020-04-01T16:42:17.921193 #20511] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "254667020"], ["date_of_birth", "2001-04-01"], ["phone", "2438187932"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:42:17.922468 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:42:17.923419 #20511]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 16:42:17 +0000
I, [2020-04-01T16:42:17.924198 #20511]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T16:42:17.925965 #20511]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T16:42:17.926960 #20511] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
I, [2020-04-01T16:42:17.930305 #20511]  INFO -- :   Rendered employees/index.html.erb within layouts/application (4.0ms)
I, [2020-04-01T16:42:17.931223 #20511]  INFO -- : Completed 500  in 7ms (ActiveRecord: 0.1ms)
F, [2020-04-01T16:42:17.944429 #20511] FATAL -- : 
NoMethodError - undefined method `total_pages' for #<Employee::ActiveRecord_Relation:0x000055ea59838350>:
  app/views/employees/index.html.erb:22:in `_app_views_employees_index_html_erb___122615880648565320_47232506281300'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:42:17.948334 #20511] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:30.991567 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T16:57:31.048613 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:31.048961 #21492]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T16:57:31.049001 #21492]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T16:57:31.049023 #21492]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T16:57:31.115385 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.117693 #21492] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "002620995"], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.119040 #21492] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "002620995"], ["date_of_birth", "2001-04-01"], ["phone", "0192190153"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:31.120080 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:31.122289 #21492]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 16:57:31 +0000
F, [2020-04-01T16:57:31.143049 #21492] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:57:31.147105 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:31.147799 #21492] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:31.148066 #21492]  INFO -- : --------------------------------------------
I, [2020-04-01T16:57:31.148136 #21492]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T16:57:31.148227 #21492]  INFO -- : --------------------------------------------
D, [2020-04-01T16:57:31.149050 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.150366 #21492] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "368915678"], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.151626 #21492] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "368915678"], ["date_of_birth", "2001-04-01"], ["phone", "0718786910"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:31.152931 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:31.153899 #21492]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 16:57:31 +0000
I, [2020-04-01T16:57:31.154774 #21492]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T16:57:31.161162 #21492]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T16:57:31.298685 #21492]  INFO -- :   Rendered employees/_form.html.erb (135.9ms)
I, [2020-04-01T16:57:31.299131 #21492]  INFO -- :   Rendered employees/new.html.erb within layouts/application (137.6ms)
I, [2020-04-01T16:57:31.461046 #21492]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T16:57:31.462498 #21492]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T16:57:31.463959 #21492]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T16:57:31.465460 #21492]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T16:57:31.466700 #21492]  INFO -- : Completed 200 OK in 312ms (Views: 306.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T16:57:31.471406 #21492] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:31.472274 #21492] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:31.472545 #21492]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T16:57:31.472746 #21492]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T16:57:31.472809 #21492]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T16:57:31.473959 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.475666 #21492] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084267760"], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.477176 #21492] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "084267760"], ["date_of_birth", "2001-04-01"], ["phone", "4868079784"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:31.478927 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:31.485299 #21492]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 16:57:31 +0000
I, [2020-04-01T16:57:31.486438 #21492]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T16:57:31.486874 #21492]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T16:57:31.488398 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.492023 #21492] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.495826 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:31.500351 #21492]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T16:57:31.509444 #21492]  INFO -- :   Rendered employees/_form.html.erb (8.7ms)
I, [2020-04-01T16:57:31.510058 #21492]  INFO -- :   Rendered employees/new.html.erb within layouts/application (9.2ms)
I, [2020-04-01T16:57:31.511959 #21492]  INFO -- :   Rendered partials/_topbar.html.erb (0.5ms)
I, [2020-04-01T16:57:31.512756 #21492]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T16:57:31.513573 #21492]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T16:57:31.514438 #21492]  INFO -- :   Rendered partials/_footer.html.erb (0.4ms)
I, [2020-04-01T16:57:31.516710 #21492]  INFO -- : Completed 200 OK in 30ms (Views: 18.7ms | ActiveRecord: 0.2ms)
D, [2020-04-01T16:57:31.528975 #21492] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:31.530408 #21492] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:31.530690 #21492]  INFO -- : ----------------------------------------------
I, [2020-04-01T16:57:31.530764 #21492]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T16:57:31.531447 #21492]  INFO -- : ----------------------------------------------
D, [2020-04-01T16:57:31.532969 #21492] DEBUG -- :   [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.535567 #21492] DEBUG -- :   [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "338887273"], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.537590 #21492] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "338887273"], ["date_of_birth", "2001-04-01"], ["phone", "1427363258"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:31.539883 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:31.541444 #21492]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 16:57:31 +0000
I, [2020-04-01T16:57:31.542454 #21492]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T16:57:31.545053 #21492]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T16:57:31.546440 #21492] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
I, [2020-04-01T16:57:31.551622 #21492]  INFO -- :   Rendered employees/index.html.erb within layouts/application (6.1ms)
I, [2020-04-01T16:57:31.552889 #21492]  INFO -- : Completed 500  in 10ms (ActiveRecord: 0.1ms)
F, [2020-04-01T16:57:31.576776 #21492] FATAL -- : 
NoMethodError - undefined method `total_pages' for #<Employee::ActiveRecord_Relation:0x000055db61e1f270>:
  app/views/employees/index.html.erb:22:in `_app_views_employees_index_html_erb___3611380969580896340_47200364179540'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:57:31.588168 #21492] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:31.589670 #21492] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:31.590636 #21492]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T16:57:31.590713 #21492]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T16:57:31.590777 #21492]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T16:57:31.592134 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.594315 #21492] DEBUG -- :   [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "110290573"], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.596991 #21492] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "110290573"], ["date_of_birth", "2001-04-01"], ["phone", "0323463210"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:31.600855 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:31.603452 #21492]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 16:57:31 +0000
I, [2020-04-01T16:57:31.605314 #21492]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T16:57:31.606308 #21492]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T16:57:31.608025 #21492] DEBUG -- :   [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.611183 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.614704 #21492] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.627501 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:31.628863 #21492]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T16:57:31.636320 #21492]  INFO -- :   Rendered employees/_form.html.erb (6.6ms)
I, [2020-04-01T16:57:31.636686 #21492]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.5ms)
I, [2020-04-01T16:57:31.638049 #21492]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T16:57:31.638627 #21492]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T16:57:31.639179 #21492]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T16:57:31.639804 #21492]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T16:57:31.640886 #21492]  INFO -- : Completed 200 OK in 34ms (Views: 12.1ms | ActiveRecord: 1.0ms)
D, [2020-04-01T16:57:31.645109 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:31.645840 #21492] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:31.646154 #21492]  INFO -- : --------------------------------------------------
I, [2020-04-01T16:57:31.646235 #21492]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T16:57:31.646306 #21492]  INFO -- : --------------------------------------------------
D, [2020-04-01T16:57:31.647216 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.648575 #21492] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "009725669"], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.650055 #21492] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "009725669"], ["date_of_birth", "2001-04-01"], ["phone", "7374035481"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:31.651350 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.662577 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.663883 #21492] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.665177 #21492] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2424069090"], ["active", 1]]
D, [2020-04-01T16:57:31.666515 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.679701 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.680976 #21492] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T16:57:31.682205 #21492] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T16:57:31.683291 #21492] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.689660 #21492] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.690831 #21492] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T16:57:31.691868 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:31.693012 #21492]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 16:57:31 +0000
I, [2020-04-01T16:57:31.694004 #21492]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T16:57:31.694304 #21492]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T16:57:31.695103 #21492] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T16:57:31.697040 #21492]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T16:57:31.706165 #21492] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x000055db63b95fe8>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:57:31.709599 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:31.710540 #21492] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:31.710840 #21492]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T16:57:31.710924 #21492]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T16:57:31.710990 #21492]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T16:57:31.711917 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.713319 #21492] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "048983343"], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.714704 #21492] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "048983343"], ["date_of_birth", "2001-04-01"], ["phone", "6937721419"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:31.715891 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.716773 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T16:57:31.717993 #21492]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 16:57:31 +0000
I, [2020-04-01T16:57:31.718855 #21492]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T16:57:31.719158 #21492]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T16:57:31.720228 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.721515 #21492] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.722903 #21492] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:31.724182 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:31.725153 #21492]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T16:57:31.726116 #21492]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-01T16:57:31.730044 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T16:57:31.730970 #21492] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T16:57:31.731878 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:31.732552 #21492] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:31.732817 #21492]  INFO -- : ---------------------------------------------
I, [2020-04-01T16:57:31.732891 #21492]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T16:57:31.732951 #21492]  INFO -- : ---------------------------------------------
D, [2020-04-01T16:57:31.733765 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.735004 #21492] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "306734938"], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.736326 #21492] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "306734938"], ["date_of_birth", "2001-04-01"], ["phone", "7129003079"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:31.737548 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:31.738479 #21492]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 16:57:31 +0000
I, [2020-04-01T16:57:31.739266 #21492]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T16:57:31.739551 #21492]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T16:57:31.740302 #21492] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T16:57:31.741580 #21492]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T16:57:31.748422 #21492]  INFO -- :   Rendered employees/_form.html.erb (6.4ms)
I, [2020-04-01T16:57:31.748831 #21492]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (6.9ms)
I, [2020-04-01T16:57:31.750100 #21492]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T16:57:31.750675 #21492]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T16:57:31.751276 #21492]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T16:57:31.751864 #21492]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T16:57:31.752771 #21492]  INFO -- : Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.1ms)
D, [2020-04-01T16:57:31.756253 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:31.756864 #21492] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:31.757182 #21492]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T16:57:31.757260 #21492]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T16:57:31.757327 #21492]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T16:57:31.758111 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.759382 #21492] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "027945192"], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.760587 #21492] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "027945192"], ["date_of_birth", "2001-04-01"], ["phone", "3405230452"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:31.761831 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:31.762788 #21492]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 16:57:31 +0000
I, [2020-04-01T16:57:31.763659 #21492]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T16:57:31.763919 #21492]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T16:57:31.764659 #21492] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.765928 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:31.767468 #21492] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:57:31.769081 #21492] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T16:57:31.770377 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:31.771149 #21492]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T16:57:31.772098 #21492]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T16:57:31.776020 #21492] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:47.381560 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T16:57:47.442172 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:47.442541 #21521]  INFO -- : --------------------------------------------
I, [2020-04-01T16:57:47.442601 #21521]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T16:57:47.442623 #21521]  INFO -- : --------------------------------------------
D, [2020-04-01T16:57:47.509739 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:47.512062 #21521] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "325016175"], ["LIMIT", 1]]
D, [2020-04-01T16:57:47.513415 #21521] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "325016175"], ["date_of_birth", "2001-04-01"], ["phone", "5983601939"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:47.514549 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:47.516833 #21521]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 16:57:47 +0000
I, [2020-04-01T16:57:47.523033 #21521]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T16:57:47.529477 #21521]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T16:57:47.668822 #21521]  INFO -- :   Rendered employees/_form.html.erb (137.8ms)
I, [2020-04-01T16:57:47.669297 #21521]  INFO -- :   Rendered employees/new.html.erb within layouts/application (139.5ms)
I, [2020-04-01T16:57:47.857877 #21521]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T16:57:47.860284 #21521]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T16:57:47.862263 #21521]  INFO -- :   Rendered partials/_quick_links.html.erb (1.1ms)
I, [2020-04-01T16:57:47.865025 #21521]  INFO -- :   Rendered partials/_footer.html.erb (1.2ms)
I, [2020-04-01T16:57:47.867635 #21521]  INFO -- : Completed 200 OK in 344ms (Views: 338.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T16:57:47.876237 #21521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:47.878250 #21521] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:47.878568 #21521]  INFO -- : --------------------------------------------------
I, [2020-04-01T16:57:47.878823 #21521]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T16:57:47.878887 #21521]  INFO -- : --------------------------------------------------
D, [2020-04-01T16:57:47.880064 #21521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:47.881989 #21521] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "291516317"], ["LIMIT", 1]]
D, [2020-04-01T16:57:47.883789 #21521] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "291516317"], ["date_of_birth", "2001-04-01"], ["phone", "9847623575"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:47.885842 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:47.903894 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:47.906638 #21521] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T16:57:47.909434 #21521] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8012014382"], ["active", 1]]
D, [2020-04-01T16:57:47.911618 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:47.944914 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:47.947142 #21521] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T16:57:47.949646 #21521] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T16:57:47.952015 #21521] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:57:47.961643 #21521] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:57:47.963576 #21521] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T16:57:47.966092 #21521] DEBUG -- :   [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:47.968527 #21521]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 16:57:47 +0000
I, [2020-04-01T16:57:47.970330 #21521]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T16:57:47.971455 #21521]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T16:57:47.972883 #21521] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T16:57:47.977018 #21521]  INFO -- : Completed 500  in 5ms (ActiveRecord: 0.1ms)
F, [2020-04-01T16:57:47.990155 #21521] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x000055f9bfc6b718>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:57:47.993777 #21521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:47.995546 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:47.996099 #21521]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T16:57:47.996256 #21521]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T16:57:47.996382 #21521]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T16:57:47.998248 #21521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:48.000721 #21521] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "157250764"], ["LIMIT", 1]]
D, [2020-04-01T16:57:48.003393 #21521] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "157250764"], ["date_of_birth", "2001-04-01"], ["phone", "1911163122"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:48.005822 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:48.007722 #21521]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 16:57:48 +0000
I, [2020-04-01T16:57:48.014841 #21521]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T16:57:48.015338 #21521]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T16:57:48.016649 #21521] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:57:48.018709 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:48.021486 #21521] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:57:48.025168 #21521] DEBUG -- :   [1m[36mEmployee Update (0.2ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T16:57:48.028002 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:48.029524 #21521]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T16:57:48.031165 #21521]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.7ms)
D, [2020-04-01T16:57:48.039637 #21521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:48.040645 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:48.041089 #21521]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T16:57:48.041256 #21521]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T16:57:48.041356 #21521]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T16:57:48.042913 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:48.045009 #21521] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "269270411"], ["LIMIT", 1]]
D, [2020-04-01T16:57:48.047038 #21521] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "269270411"], ["date_of_birth", "2001-04-01"], ["phone", "7267208272"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:48.048778 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:48.050097 #21521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T16:57:48.051861 #21521]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 16:57:48 +0000
I, [2020-04-01T16:57:48.053213 #21521]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T16:57:48.053593 #21521]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T16:57:48.055124 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:48.056957 #21521] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T16:57:48.058972 #21521] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:48.060843 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:48.062185 #21521]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T16:57:48.063502 #21521]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
D, [2020-04-01T16:57:48.069703 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T16:57:48.070938 #21521] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T16:57:48.072259 #21521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:48.073085 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:48.073506 #21521]  INFO -- : ---------------------------------------------
I, [2020-04-01T16:57:48.073607 #21521]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T16:57:48.073719 #21521]  INFO -- : ---------------------------------------------
D, [2020-04-01T16:57:48.074889 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:48.076998 #21521] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "231725223"], ["LIMIT", 1]]
D, [2020-04-01T16:57:48.078807 #21521] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "231725223"], ["date_of_birth", "2001-04-01"], ["phone", "0018068333"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:48.080369 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:48.081663 #21521]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 16:57:48 +0000
I, [2020-04-01T16:57:48.082771 #21521]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T16:57:48.083113 #21521]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T16:57:48.084078 #21521] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T16:57:48.086206 #21521]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T16:57:48.096128 #21521]  INFO -- :   Rendered employees/_form.html.erb (9.0ms)
I, [2020-04-01T16:57:48.096590 #21521]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (10.0ms)
I, [2020-04-01T16:57:48.098072 #21521]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T16:57:48.098747 #21521]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T16:57:48.099439 #21521]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T16:57:48.100162 #21521]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T16:57:48.101241 #21521]  INFO -- : Completed 200 OK in 18ms (Views: 14.8ms | ActiveRecord: 0.1ms)
D, [2020-04-01T16:57:48.106783 #21521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:48.107534 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:48.107877 #21521]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T16:57:48.107957 #21521]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T16:57:48.108032 #21521]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T16:57:48.109101 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:48.110715 #21521] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "157802776"], ["LIMIT", 1]]
D, [2020-04-01T16:57:48.112253 #21521] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "157802776"], ["date_of_birth", "2001-04-01"], ["phone", "8885867841"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:48.113702 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:48.114798 #21521]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 16:57:48 +0000
F, [2020-04-01T16:57:48.132970 #21521] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:57:48.136045 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:48.136750 #21521] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:48.137047 #21521]  INFO -- : ----------------------------------------------
I, [2020-04-01T16:57:48.137117 #21521]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T16:57:48.137177 #21521]  INFO -- : ----------------------------------------------
D, [2020-04-01T16:57:48.138332 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:48.139790 #21521] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "328503177"], ["LIMIT", 1]]
D, [2020-04-01T16:57:48.141279 #21521] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "328503177"], ["date_of_birth", "2001-04-01"], ["phone", "5322951888"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:48.142589 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:48.143605 #21521]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 16:57:48 +0000
I, [2020-04-01T16:57:48.144503 #21521]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T16:57:48.146263 #21521]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T16:57:48.147321 #21521] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
I, [2020-04-01T16:57:48.150748 #21521]  INFO -- :   Rendered employees/index.html.erb within layouts/application (4.1ms)
I, [2020-04-01T16:57:48.151771 #21521]  INFO -- : Completed 500  in 7ms (ActiveRecord: 0.1ms)
F, [2020-04-01T16:57:48.164433 #21521] FATAL -- : 
NoMethodError - undefined method `total_pages' for #<Employee::ActiveRecord_Relation:0x000055f9bf5d52c8>:
  app/views/employees/index.html.erb:22:in `_app_views_employees_index_html_erb___4607657678105860322_47265588973680'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T16:57:48.168313 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:48.169138 #21521] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:48.169437 #21521]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T16:57:48.169508 #21521]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T16:57:48.169569 #21521]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T16:57:48.170499 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:48.171804 #21521] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "128702399"], ["LIMIT", 1]]
D, [2020-04-01T16:57:48.173222 #21521] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "128702399"], ["date_of_birth", "2001-04-01"], ["phone", "6640084932"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:48.174478 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:48.175713 #21521]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 16:57:48 +0000
I, [2020-04-01T16:57:48.176567 #21521]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T16:57:48.176894 #21521]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T16:57:48.178019 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:48.179785 #21521] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T16:57:48.181102 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:48.182056 #21521]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T16:57:48.189224 #21521]  INFO -- :   Rendered employees/_form.html.erb (6.7ms)
I, [2020-04-01T16:57:48.189615 #21521]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.3ms)
I, [2020-04-01T16:57:48.190889 #21521]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T16:57:48.191450 #21521]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T16:57:48.192125 #21521]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T16:57:48.192778 #21521]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T16:57:48.193938 #21521]  INFO -- : Completed 200 OK in 17ms (Views: 11.5ms | ActiveRecord: 0.2ms)
D, [2020-04-01T16:57:48.197691 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T16:57:48.198336 #21521] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T16:57:48.198618 #21521]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T16:57:48.198699 #21521]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T16:57:48.198764 #21521]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T16:57:48.199624 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:48.200853 #21521] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "119740112"], ["LIMIT", 1]]
D, [2020-04-01T16:57:48.202275 #21521] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "119740112"], ["date_of_birth", "2001-04-01"], ["phone", "4684045831"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T16:57:48.203504 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:48.204593 #21521]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 16:57:48 +0000
I, [2020-04-01T16:57:48.205540 #21521]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T16:57:48.205903 #21521]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T16:57:48.206693 #21521] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:57:48.207868 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T16:57:48.209917 #21521] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T16:57:48.211562 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T16:57:48.212382 #21521]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T16:57:48.219259 #21521]  INFO -- :   Rendered employees/_form.html.erb (6.4ms)
I, [2020-04-01T16:57:48.219645 #21521]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.0ms)
I, [2020-04-01T16:57:48.220741 #21521]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T16:57:48.221345 #21521]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T16:57:48.221967 #21521]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T16:57:48.222631 #21521]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T16:57:48.223694 #21521]  INFO -- : Completed 200 OK in 17ms (Views: 10.8ms | ActiveRecord: 0.3ms)
D, [2020-04-01T16:57:48.227871 #21521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:02:23.362190 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T17:02:23.420364 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:02:23.420747 #21936]  INFO -- : --------------------------------------------
I, [2020-04-01T17:02:23.420788 #21936]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T17:02:23.420810 #21936]  INFO -- : --------------------------------------------
D, [2020-04-01T17:02:23.488324 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:23.490713 #21936] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "377571269"], ["LIMIT", 1]]
D, [2020-04-01T17:02:23.492137 #21936] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "377571269"], ["date_of_birth", "2001-04-01"], ["phone", "1943990464"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:02:23.493170 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:02:23.495419 #21936]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 17:02:23 +0000
I, [2020-04-01T17:02:23.501728 #21936]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T17:02:23.508337 #21936]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T17:02:23.646410 #21936]  INFO -- :   Rendered employees/_form.html.erb (136.5ms)
I, [2020-04-01T17:02:23.646854 #21936]  INFO -- :   Rendered employees/new.html.erb within layouts/application (138.2ms)
I, [2020-04-01T17:02:23.811848 #21936]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T17:02:23.813153 #21936]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T17:02:23.814652 #21936]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T17:02:23.816065 #21936]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T17:02:23.817272 #21936]  INFO -- : Completed 200 OK in 315ms (Views: 310.1ms | ActiveRecord: 0.0ms)
D, [2020-04-01T17:02:23.823270 #21936] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:02:23.824131 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:02:23.824450 #21936]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T17:02:23.824522 #21936]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T17:02:23.824588 #21936]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T17:02:23.825867 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:23.827707 #21936] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "111736127"], ["LIMIT", 1]]
D, [2020-04-01T17:02:23.829340 #21936] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "111736127"], ["date_of_birth", "2001-04-01"], ["phone", "8816304048"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:02:23.830976 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:02:23.832411 #21936]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 17:02:23 +0000
I, [2020-04-01T17:02:23.837391 #21936]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T17:02:23.837841 #21936]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T17:02:23.839301 #21936] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:02:23.841558 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:23.844059 #21936] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:02:23.846424 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T17:02:23.847907 #21936]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T17:02:23.861067 #21936]  INFO -- :   Rendered employees/_form.html.erb (11.7ms)
I, [2020-04-01T17:02:23.861486 #21936]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (13.3ms)
I, [2020-04-01T17:02:23.867244 #21936]  INFO -- :   Rendered partials/_topbar.html.erb (3.9ms)
I, [2020-04-01T17:02:23.868079 #21936]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T17:02:23.868658 #21936]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T17:02:23.869542 #21936]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T17:02:23.871410 #21936]  INFO -- : Completed 200 OK in 33ms (Views: 23.0ms | ActiveRecord: 0.5ms)
D, [2020-04-01T17:02:23.880047 #21936] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:02:23.881104 #21936] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:02:23.881850 #21936]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T17:02:23.881928 #21936]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T17:02:23.881988 #21936]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T17:02:23.884029 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:23.886602 #21936] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "192086236"], ["LIMIT", 1]]
D, [2020-04-01T17:02:23.889417 #21936] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "192086236"], ["date_of_birth", "2001-04-01"], ["phone", "2557769253"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:02:23.893316 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:02:23.895717 #21936]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 17:02:23 +0000
F, [2020-04-01T17:02:23.923320 #21936] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T17:02:23.931332 #21936] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:02:23.932566 #21936] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:02:23.932852 #21936]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T17:02:23.933451 #21936]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T17:02:23.933516 #21936]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T17:02:23.934984 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:23.937601 #21936] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "367832367"], ["LIMIT", 1]]
D, [2020-04-01T17:02:23.939648 #21936] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "367832367"], ["date_of_birth", "2001-04-01"], ["phone", "4497155774"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:02:23.943632 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:23.945229 #21936] DEBUG -- :   [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T17:02:23.948317 #21936]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 17:02:23 +0000
I, [2020-04-01T17:02:23.950697 #21936]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T17:02:23.951008 #21936]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T17:02:23.953518 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:23.956447 #21936] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T17:02:23.959131 #21936] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:02:23.963103 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:02:23.964738 #21936]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T17:02:23.967545 #21936]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.4ms)
D, [2020-04-01T17:02:23.975257 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T17:02:23.976337 #21936] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T17:02:23.977716 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:02:23.978478 #21936] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:02:23.978950 #21936]  INFO -- : ----------------------------------------------
I, [2020-04-01T17:02:23.979038 #21936]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T17:02:23.979119 #21936]  INFO -- : ----------------------------------------------
D, [2020-04-01T17:02:23.980270 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:23.982052 #21936] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "156781205"], ["LIMIT", 1]]
D, [2020-04-01T17:02:23.983770 #21936] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "156781205"], ["date_of_birth", "2001-04-01"], ["phone", "9353878694"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:02:23.985732 #21936] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:02:23.986948 #21936]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 17:02:23 +0000
I, [2020-04-01T17:02:23.988101 #21936]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T17:02:23.990019 #21936]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T17:02:23.991564 #21936] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
I, [2020-04-01T17:02:24.003204 #21936]  INFO -- :   Rendered employees/index.html.erb within layouts/application (12.8ms)
I, [2020-04-01T17:02:24.004224 #21936]  INFO -- : Completed 500  in 16ms (ActiveRecord: 0.1ms)
F, [2020-04-01T17:02:24.017272 #21936] FATAL -- : 
NoMethodError - undefined method `total_pages' for #<Employee::ActiveRecord_Relation:0x0000558319f6ce48>:
  app/views/employees/index.html.erb:22:in `_app_views_employees_index_html_erb___761073411462101493_47010782526600'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T17:02:24.021352 #21936] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:02:24.022305 #21936] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:02:24.022571 #21936]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T17:02:24.022640 #21936]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T17:02:24.022705 #21936]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T17:02:24.023682 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:24.025034 #21936] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "192306747"], ["LIMIT", 1]]
D, [2020-04-01T17:02:24.026607 #21936] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "192306747"], ["date_of_birth", "2001-04-01"], ["phone", "9851302139"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:02:24.027901 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:02:24.029051 #21936]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 17:02:24 +0000
I, [2020-04-01T17:02:24.030106 #21936]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T17:02:24.030436 #21936]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T17:02:24.031268 #21936] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:02:24.032425 #21936] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:24.034043 #21936] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:02:24.035632 #21936] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T17:02:24.036856 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:02:24.037786 #21936]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T17:02:24.038803 #21936]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
D, [2020-04-01T17:02:24.042938 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:02:24.043594 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:02:24.043864 #21936]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T17:02:24.043990 #21936]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T17:02:24.044045 #21936]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T17:02:24.044904 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:24.046173 #21936] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "144539357"], ["LIMIT", 1]]
D, [2020-04-01T17:02:24.047476 #21936] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "144539357"], ["date_of_birth", "2001-04-01"], ["phone", "1541612545"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:02:24.048685 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:02:24.049934 #21936]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 17:02:24 +0000
I, [2020-04-01T17:02:24.050717 #21936]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T17:02:24.050984 #21936]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T17:02:24.051939 #21936] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:24.053731 #21936] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T17:02:24.055003 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T17:02:24.055943 #21936]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T17:02:24.063001 #21936]  INFO -- :   Rendered employees/_form.html.erb (6.6ms)
I, [2020-04-01T17:02:24.063365 #21936]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.1ms)
I, [2020-04-01T17:02:24.064580 #21936]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T17:02:24.065159 #21936]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T17:02:24.065844 #21936]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T17:02:24.066616 #21936]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T17:02:24.067699 #21936]  INFO -- : Completed 200 OK in 16ms (Views: 11.4ms | ActiveRecord: 0.2ms)
D, [2020-04-01T17:02:24.071329 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:02:24.072027 #21936] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:02:24.072338 #21936]  INFO -- : --------------------------------------------------
I, [2020-04-01T17:02:24.072408 #21936]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T17:02:24.072489 #21936]  INFO -- : --------------------------------------------------
D, [2020-04-01T17:02:24.073317 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:24.074589 #21936] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "041253407"], ["LIMIT", 1]]
D, [2020-04-01T17:02:24.075945 #21936] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "041253407"], ["date_of_birth", "2001-04-01"], ["phone", "1200414383"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:02:24.077219 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:24.088728 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:24.090166 #21936] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T17:02:24.091507 #21936] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0321960038"], ["active", 1]]
D, [2020-04-01T17:02:24.092839 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:24.106286 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:24.107613 #21936] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T17:02:24.108808 #21936] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T17:02:24.109950 #21936] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:02:24.116347 #21936] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:02:24.117477 #21936] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T17:02:24.118550 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:02:24.119592 #21936]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 17:02:24 +0000
I, [2020-04-01T17:02:24.120447 #21936]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T17:02:24.120733 #21936]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T17:02:24.121525 #21936] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T17:02:24.123466 #21936]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T17:02:24.132572 #21936] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x000055831abe9248>:
  app/controllers/employees_controller.rb:35:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T17:02:24.135980 #21936] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:02:24.136906 #21936] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:02:24.137236 #21936]  INFO -- : ---------------------------------------------
I, [2020-04-01T17:02:24.137330 #21936]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T17:02:24.137411 #21936]  INFO -- : ---------------------------------------------
D, [2020-04-01T17:02:24.138332 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:02:24.139659 #21936] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "054992474"], ["LIMIT", 1]]
D, [2020-04-01T17:02:24.140999 #21936] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "054992474"], ["date_of_birth", "2001-04-01"], ["phone", "9496968164"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:02:24.142401 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:02:24.143371 #21936]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 17:02:24 +0000
I, [2020-04-01T17:02:24.144174 #21936]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T17:02:24.144449 #21936]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T17:02:24.145165 #21936] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T17:02:24.146496 #21936]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T17:02:24.153357 #21936]  INFO -- :   Rendered employees/_form.html.erb (6.4ms)
I, [2020-04-01T17:02:24.153784 #21936]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (6.9ms)
I, [2020-04-01T17:02:24.154942 #21936]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T17:02:24.155501 #21936]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T17:02:24.156094 #21936]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T17:02:24.156748 #21936]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T17:02:24.157766 #21936]  INFO -- : Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.1ms)
D, [2020-04-01T17:02:24.161087 #21936] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:04:49.248515 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T17:04:49.307591 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:04:49.307936 #22109]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T17:04:49.307988 #22109]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T17:04:49.308010 #22109]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T17:04:49.376765 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.379192 #22109] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "300287084"], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.380533 #22109] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "300287084"], ["date_of_birth", "2001-04-01"], ["phone", "1505597131"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:04:49.381673 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:04:49.383801 #22109]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 17:04:49 +0000
F, [2020-04-01T17:04:49.405389 #22109] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T17:04:49.409747 #22109] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:04:49.410837 #22109] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:04:49.411110 #22109]  INFO -- : ---------------------------------------------
I, [2020-04-01T17:04:49.411186 #22109]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T17:04:49.411239 #22109]  INFO -- : ---------------------------------------------
D, [2020-04-01T17:04:49.412140 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.413552 #22109] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "181628016"], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.414889 #22109] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "181628016"], ["date_of_birth", "2001-04-01"], ["phone", "5970367101"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:04:49.416081 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:04:49.417145 #22109]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 17:04:49 +0000
I, [2020-04-01T17:04:49.418121 #22109]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T17:04:49.418398 #22109]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T17:04:49.423233 #22109] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T17:04:49.427035 #22109]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T17:04:49.565202 #22109]  INFO -- :   Rendered employees/_form.html.erb (136.6ms)
I, [2020-04-01T17:04:49.565730 #22109]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (138.3ms)
I, [2020-04-01T17:04:49.728966 #22109]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T17:04:49.730421 #22109]  INFO -- :   Rendered partials/_nav.html.erb (0.5ms)
I, [2020-04-01T17:04:49.731852 #22109]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T17:04:49.733420 #22109]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T17:04:49.734692 #22109]  INFO -- : Completed 200 OK in 316ms (Views: 308.8ms | ActiveRecord: 0.2ms)
D, [2020-04-01T17:04:49.739497 #22109] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:04:49.740675 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:04:49.740952 #22109]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T17:04:49.741024 #22109]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T17:04:49.741153 #22109]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T17:04:49.742462 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.744319 #22109] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "155224054"], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.746126 #22109] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "155224054"], ["date_of_birth", "2001-04-01"], ["phone", "6361385640"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:04:49.747869 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:04:49.749265 #22109]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 17:04:49 +0000
I, [2020-04-01T17:04:49.753991 #22109]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T17:04:49.754332 #22109]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T17:04:49.755216 #22109] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.757790 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.760046 #22109] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.762346 #22109] DEBUG -- :   [1m[36mEmployee Update (0.2ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T17:04:49.765294 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:04:49.767589 #22109]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T17:04:49.769943 #22109]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
D, [2020-04-01T17:04:49.781706 #22109] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:04:49.783164 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:04:49.783899 #22109]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T17:04:49.783972 #22109]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T17:04:49.784031 #22109]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T17:04:49.785767 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.788153 #22109] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "276605413"], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.790862 #22109] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "276605413"], ["date_of_birth", "2001-04-01"], ["phone", "3869531931"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:04:49.793747 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:04:49.796283 #22109]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 17:04:49 +0000
I, [2020-04-01T17:04:49.797872 #22109]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T17:04:49.798788 #22109]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T17:04:49.801324 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.805249 #22109] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.809443 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T17:04:49.811965 #22109]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T17:04:49.822807 #22109]  INFO -- :   Rendered employees/_form.html.erb (9.5ms)
I, [2020-04-01T17:04:49.823340 #22109]  INFO -- :   Rendered employees/new.html.erb within layouts/application (10.9ms)
I, [2020-04-01T17:04:49.824829 #22109]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T17:04:49.825592 #22109]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T17:04:49.826399 #22109]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T17:04:49.827418 #22109]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T17:04:49.829381 #22109]  INFO -- : Completed 200 OK in 30ms (Views: 17.2ms | ActiveRecord: 0.2ms)
D, [2020-04-01T17:04:49.835423 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:04:49.836400 #22109] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:04:49.836900 #22109]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T17:04:49.836984 #22109]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T17:04:49.837070 #22109]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T17:04:49.838214 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.839944 #22109] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "074858789"], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.842530 #22109] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "074858789"], ["date_of_birth", "2001-04-01"], ["phone", "8696559208"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:04:49.846657 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:04:49.848619 #22109]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 17:04:49 +0000
I, [2020-04-01T17:04:49.850968 #22109]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T17:04:49.851266 #22109]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T17:04:49.852873 #22109] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.856237 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.860238 #22109] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.865204 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T17:04:49.867203 #22109]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T17:04:49.880685 #22109]  INFO -- :   Rendered employees/_form.html.erb (12.4ms)
I, [2020-04-01T17:04:49.881758 #22109]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (13.6ms)
I, [2020-04-01T17:04:49.884230 #22109]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T17:04:49.885502 #22109]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T17:04:49.886653 #22109]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T17:04:49.887921 #22109]  INFO -- :   Rendered partials/_footer.html.erb (0.8ms)
I, [2020-04-01T17:04:49.891091 #22109]  INFO -- : Completed 200 OK in 40ms (Views: 21.9ms | ActiveRecord: 0.3ms)
D, [2020-04-01T17:04:49.907712 #22109] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:04:49.908553 #22109] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:04:49.908832 #22109]  INFO -- : ----------------------------------------------
I, [2020-04-01T17:04:49.908943 #22109]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T17:04:49.909011 #22109]  INFO -- : ----------------------------------------------
D, [2020-04-01T17:04:49.910115 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.911497 #22109] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "335882016"], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.912863 #22109] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "335882016"], ["date_of_birth", "2001-04-01"], ["phone", "9656072678"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:04:49.914194 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:04:49.915229 #22109]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 17:04:49 +0000
I, [2020-04-01T17:04:49.916013 #22109]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T17:04:49.918263 #22109]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T17:04:49.919359 #22109] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T17:04:49.920571 #22109]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.0ms)
I, [2020-04-01T17:04:49.921951 #22109]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T17:04:49.922502 #22109]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T17:04:49.923076 #22109]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T17:04:49.923672 #22109]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T17:04:49.924600 #22109]  INFO -- : Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.1ms)
D, [2020-04-01T17:04:49.927746 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:04:49.928924 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:04:49.929238 #22109]  INFO -- : --------------------------------------------------
I, [2020-04-01T17:04:49.929310 #22109]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T17:04:49.929367 #22109]  INFO -- : --------------------------------------------------
D, [2020-04-01T17:04:49.930272 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.931503 #22109] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "076998187"], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.932864 #22109] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "076998187"], ["date_of_birth", "2001-04-01"], ["phone", "5094821667"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:04:49.934144 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.945430 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.946841 #22109] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.948117 #22109] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9972850559"], ["active", 1]]
D, [2020-04-01T17:04:49.949417 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.963036 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.964268 #22109] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T17:04:49.965606 #22109] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T17:04:49.966775 #22109] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.973198 #22109] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.974387 #22109] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T17:04:49.975303 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:04:49.976307 #22109]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 17:04:49 +0000
I, [2020-04-01T17:04:49.977248 #22109]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T17:04:49.977530 #22109]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T17:04:49.978344 #22109] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T17:04:49.980242 #22109]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T17:04:49.989226 #22109] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x00005573c904c5f8>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T17:04:49.992582 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:04:49.993920 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:04:49.994260 #22109]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T17:04:49.994349 #22109]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T17:04:49.994410 #22109]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T17:04:49.995328 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:49.996672 #22109] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "338403416"], ["LIMIT", 1]]
D, [2020-04-01T17:04:49.998090 #22109] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "338403416"], ["date_of_birth", "2001-04-01"], ["phone", "5033253720"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:04:49.999319 #22109] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:50.000211 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T17:04:50.001517 #22109]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 17:04:50 +0000
I, [2020-04-01T17:04:50.003370 #22109]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T17:04:50.003633 #22109]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T17:04:50.004721 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:50.006190 #22109] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T17:04:50.007536 #22109] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:04:50.008889 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:04:50.009824 #22109]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T17:04:50.010825 #22109]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
D, [2020-04-01T17:04:50.014790 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T17:04:50.015746 #22109] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T17:04:50.016675 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:04:50.017465 #22109] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:04:50.017805 #22109]  INFO -- : --------------------------------------------
I, [2020-04-01T17:04:50.017878 #22109]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T17:04:50.017949 #22109]  INFO -- : --------------------------------------------
D, [2020-04-01T17:04:50.018741 #22109] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:04:50.019949 #22109] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "361284833"], ["LIMIT", 1]]
D, [2020-04-01T17:04:50.021278 #22109] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "361284833"], ["date_of_birth", "2001-04-01"], ["phone", "3179877966"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:04:50.022512 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:04:50.023345 #22109]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 17:04:50 +0000
I, [2020-04-01T17:04:50.024089 #22109]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T17:04:50.025021 #22109]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T17:04:50.031965 #22109]  INFO -- :   Rendered employees/_form.html.erb (6.5ms)
I, [2020-04-01T17:04:50.032389 #22109]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.1ms)
I, [2020-04-01T17:04:50.033574 #22109]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T17:04:50.034236 #22109]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T17:04:50.034822 #22109]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T17:04:50.035458 #22109]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T17:04:50.036258 #22109]  INFO -- : Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.0ms)
D, [2020-04-01T17:04:50.039088 #22109] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:05:36.297286 #22171] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T17:05:36.355726 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:05:36.356056 #22171]  INFO -- : ----------------------------------------------
I, [2020-04-01T17:05:36.356097 #22171]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T17:05:36.356118 #22171]  INFO -- : ----------------------------------------------
D, [2020-04-01T17:05:36.424256 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:36.426627 #22171] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "122006707"], ["LIMIT", 1]]
D, [2020-04-01T17:05:36.427935 #22171] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "122006707"], ["date_of_birth", "2001-04-01"], ["phone", "3322131285"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:05:36.429067 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:05:36.431299 #22171]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 17:05:36 +0000
I, [2020-04-01T17:05:36.437312 #22171]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T17:05:36.444453 #22171]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T17:05:36.446143 #22171] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T17:05:36.448001 #22171]  INFO -- :   Rendered employees/index.html.erb within layouts/application (3.2ms)
I, [2020-04-01T17:05:36.610029 #22171]  INFO -- :   Rendered partials/_topbar.html.erb (0.7ms)
I, [2020-04-01T17:05:36.611317 #22171]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T17:05:36.612593 #22171]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T17:05:36.613941 #22171]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T17:05:36.614955 #22171]  INFO -- : Completed 200 OK in 177ms (Views: 171.7ms | ActiveRecord: 0.1ms)
D, [2020-04-01T17:05:36.620308 #22171] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:05:36.621149 #22171] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:05:36.621412 #22171]  INFO -- : ---------------------------------------------
I, [2020-04-01T17:05:36.621478 #22171]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T17:05:36.621537 #22171]  INFO -- : ---------------------------------------------
D, [2020-04-01T17:05:36.622597 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:36.624124 #22171] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "164639271"], ["LIMIT", 1]]
D, [2020-04-01T17:05:36.625503 #22171] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "164639271"], ["date_of_birth", "2001-04-01"], ["phone", "1239499745"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:05:36.626753 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:05:36.627893 #22171]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 17:05:36 +0000
I, [2020-04-01T17:05:36.628806 #22171]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T17:05:36.629050 #22171]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T17:05:36.630167 #22171] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T17:05:36.631774 #22171]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T17:05:36.809726 #22171]  INFO -- :   Rendered employees/_form.html.erb (176.2ms)
I, [2020-04-01T17:05:36.810763 #22171]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (178.1ms)
I, [2020-04-01T17:05:36.813433 #22171]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T17:05:36.814743 #22171]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T17:05:36.816007 #22171]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T17:05:36.817261 #22171]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T17:05:36.820381 #22171]  INFO -- : Completed 200 OK in 190ms (Views: 186.9ms | ActiveRecord: 0.1ms)
D, [2020-04-01T17:05:36.829877 #22171] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:05:36.830668 #22171] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:05:36.830974 #22171]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T17:05:36.831052 #22171]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T17:05:36.831880 #22171]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T17:05:36.832814 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:36.835584 #22171] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "185908707"], ["LIMIT", 1]]
D, [2020-04-01T17:05:36.837542 #22171] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "185908707"], ["date_of_birth", "2001-04-01"], ["phone", "3919645991"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:05:36.839825 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:05:36.846480 #22171]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 17:05:36 +0000
I, [2020-04-01T17:05:36.848215 #22171]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T17:05:36.848493 #22171]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T17:05:36.850360 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:36.853393 #22171] DEBUG -- :   [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T17:05:36.856754 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T17:05:36.858499 #22171]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T17:05:36.869431 #22171]  INFO -- :   Rendered employees/_form.html.erb (10.2ms)
I, [2020-04-01T17:05:36.870502 #22171]  INFO -- :   Rendered employees/new.html.erb within layouts/application (11.7ms)
I, [2020-04-01T17:05:36.872980 #22171]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T17:05:36.873553 #22171]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T17:05:36.874726 #22171]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T17:05:36.876130 #22171]  INFO -- :   Rendered partials/_footer.html.erb (1.0ms)
I, [2020-04-01T17:05:36.879370 #22171]  INFO -- : Completed 200 OK in 30ms (Views: 19.2ms | ActiveRecord: 0.7ms)
D, [2020-04-01T17:05:36.902211 #22171] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:05:36.903056 #22171] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:05:36.903350 #22171]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T17:05:36.903427 #22171]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T17:05:36.903488 #22171]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T17:05:36.904465 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:36.906067 #22171] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "376267756"], ["LIMIT", 1]]
D, [2020-04-01T17:05:36.907437 #22171] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "376267756"], ["date_of_birth", "2001-04-01"], ["phone", "0667118946"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:05:36.908676 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:05:36.909677 #22171]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 17:05:36 +0000
F, [2020-04-01T17:05:36.925251 #22171] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T17:05:36.927892 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:05:36.928554 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:05:36.928812 #22171]  INFO -- : --------------------------------------------------
I, [2020-04-01T17:05:36.928895 #22171]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T17:05:36.928952 #22171]  INFO -- : --------------------------------------------------
D, [2020-04-01T17:05:36.929778 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:36.930967 #22171] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "081491072"], ["LIMIT", 1]]
D, [2020-04-01T17:05:36.932281 #22171] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "081491072"], ["date_of_birth", "2001-04-01"], ["phone", "1263407923"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:05:36.933414 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:36.944379 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:36.945722 #22171] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T17:05:36.946989 #22171] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1033574853"], ["active", 1]]
D, [2020-04-01T17:05:36.948262 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:36.961594 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:36.962898 #22171] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T17:05:36.964022 #22171] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T17:05:36.965159 #22171] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:05:36.971412 #22171] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:05:36.972523 #22171] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T17:05:36.973421 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:05:36.974536 #22171]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 17:05:36 +0000
I, [2020-04-01T17:05:36.975417 #22171]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T17:05:36.975711 #22171]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T17:05:36.976452 #22171] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T17:05:36.978230 #22171]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T17:05:36.986580 #22171] FATAL -- : 
NoMethodError - undefined method `call' for #<Class:0x0000560ee111ebd0>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T17:05:36.989900 #22171] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:05:36.990825 #22171] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:05:36.991106 #22171]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T17:05:36.991190 #22171]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T17:05:36.991256 #22171]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T17:05:36.992101 #22171] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:36.993513 #22171] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "131453162"], ["LIMIT", 1]]
D, [2020-04-01T17:05:36.994852 #22171] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "131453162"], ["date_of_birth", "2001-04-01"], ["phone", "6755662543"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:05:36.996093 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:36.996952 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T17:05:36.998154 #22171]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 17:05:36 +0000
I, [2020-04-01T17:05:36.998897 #22171]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T17:05:36.999165 #22171]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T17:05:37.000207 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:37.001429 #22171] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T17:05:37.002831 #22171] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:05:37.004172 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:05:37.005031 #22171]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T17:05:37.006172 #22171]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-01T17:05:37.010264 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T17:05:37.011049 #22171] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T17:05:37.012113 #22171] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:05:37.012769 #22171] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:05:37.013051 #22171]  INFO -- : --------------------------------------------
I, [2020-04-01T17:05:37.013131 #22171]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T17:05:37.013192 #22171]  INFO -- : --------------------------------------------
D, [2020-04-01T17:05:37.014076 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:37.015312 #22171] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "187079622"], ["LIMIT", 1]]
D, [2020-04-01T17:05:37.016587 #22171] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "187079622"], ["date_of_birth", "2001-04-01"], ["phone", "6479679990"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:05:37.017855 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:05:37.018742 #22171]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 17:05:37 +0000
I, [2020-04-01T17:05:37.019534 #22171]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T17:05:37.020584 #22171]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T17:05:37.027411 #22171]  INFO -- :   Rendered employees/_form.html.erb (6.4ms)
I, [2020-04-01T17:05:37.027841 #22171]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.9ms)
I, [2020-04-01T17:05:37.029074 #22171]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T17:05:37.029608 #22171]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T17:05:37.030271 #22171]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T17:05:37.030867 #22171]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T17:05:37.031703 #22171]  INFO -- : Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.0ms)
D, [2020-04-01T17:05:37.034725 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:05:37.035476 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:05:37.035753 #22171]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T17:05:37.035823 #22171]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T17:05:37.035881 #22171]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T17:05:37.036625 #22171] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:37.037908 #22171] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "280777535"], ["LIMIT", 1]]
D, [2020-04-01T17:05:37.039216 #22171] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "280777535"], ["date_of_birth", "2001-04-01"], ["phone", "8177344311"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:05:37.040586 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:05:37.041733 #22171]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 17:05:37 +0000
I, [2020-04-01T17:05:37.042599 #22171]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T17:05:37.042904 #22171]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T17:05:37.043651 #22171] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:05:37.044818 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:37.047009 #22171] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:05:37.048568 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T17:05:37.049360 #22171]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T17:05:37.055962 #22171]  INFO -- :   Rendered employees/_form.html.erb (6.1ms)
I, [2020-04-01T17:05:37.056265 #22171]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (6.7ms)
I, [2020-04-01T17:05:37.057316 #22171]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T17:05:37.057909 #22171]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T17:05:37.058481 #22171]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T17:05:37.059051 #22171]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T17:05:37.060170 #22171]  INFO -- : Completed 200 OK in 17ms (Views: 10.3ms | ActiveRecord: 0.3ms)
D, [2020-04-01T17:05:37.064221 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T17:05:37.064900 #22171] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T17:05:37.065188 #22171]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T17:05:37.065256 #22171]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T17:05:37.065311 #22171]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T17:05:37.066396 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:37.067575 #22171] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "298076967"], ["LIMIT", 1]]
D, [2020-04-01T17:05:37.068921 #22171] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "298076967"], ["date_of_birth", "2001-04-01"], ["phone", "2712067243"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T17:05:37.070183 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:05:37.071194 #22171]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 17:05:37 +0000
I, [2020-04-01T17:05:37.072144 #22171]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T17:05:37.072414 #22171]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T17:05:37.073135 #22171] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:05:37.074318 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T17:05:37.075821 #22171] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T17:05:37.077454 #22171] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T17:05:37.078859 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T17:05:37.079671 #22171]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T17:05:37.080660 #22171]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
D, [2020-04-01T17:05:37.084923 #22171] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:05:34.053765 #1798] DEBUG -- :   [1m[35m (3.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:05:34.206258 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:05:34.206666 #1798]  INFO -- : ---------------------------------------------
I, [2020-04-01T20:05:34.206708 #1798]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T20:05:34.206732 #1798]  INFO -- : ---------------------------------------------
D, [2020-04-01T20:05:34.400143 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:34.406943 #1798] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "234218663"], ["LIMIT", 1]]
D, [2020-04-01T20:05:34.408462 #1798] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "234218663"], ["date_of_birth", "2001-04-01"], ["phone", "3546964212"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:05:34.409608 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:05:34.416239 #1798]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 20:05:34 +0000
I, [2020-04-01T20:05:34.430801 #1798]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T20:05:34.431088 #1798]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:05:34.436069 #1798] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:05:34.441988 #1798]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T20:05:34.833343 #1798]  INFO -- :   Rendered employees/_form.html.erb (386.3ms)
I, [2020-04-01T20:05:34.833833 #1798]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (391.5ms)
I, [2020-04-01T20:05:35.131942 #1798]  INFO -- :   Rendered partials/_topbar.html.erb (1.7ms)
I, [2020-04-01T20:05:35.138233 #1798]  INFO -- :   Rendered partials/_nav.html.erb (5.3ms)
I, [2020-04-01T20:05:35.141066 #1798]  INFO -- :   Rendered partials/_quick_links.html.erb (1.1ms)
I, [2020-04-01T20:05:35.143900 #1798]  INFO -- :   Rendered partials/_footer.html.erb (1.1ms)
I, [2020-04-01T20:05:35.147034 #1798]  INFO -- : Completed 200 OK in 715ms (Views: 705.1ms | ActiveRecord: 0.2ms)
D, [2020-04-01T20:05:35.167611 #1798] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:05:35.168665 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:05:35.169123 #1798]  INFO -- : --------------------------------------------------
I, [2020-04-01T20:05:35.169203 #1798]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T20:05:35.169273 #1798]  INFO -- : --------------------------------------------------
D, [2020-04-01T20:05:35.170625 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.172576 #1798] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "075687881"], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.174649 #1798] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "075687881"], ["date_of_birth", "2001-04-01"], ["phone", "8594099775"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:05:35.176451 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.201954 #1798] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.205251 #1798] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.208783 #1798] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0870339202"], ["active", 1]]
D, [2020-04-01T20:05:35.213740 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.258849 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.261531 #1798] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:05:35.263052 #1798] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:05:35.264839 #1798] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.282241 #1798] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.286353 #1798] DEBUG -- :   [1m[36mAssignment Create (2.4ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:05:35.288062 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:05:35.290162 #1798]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 20:05:35 +0000
I, [2020-04-01T20:05:35.291744 #1798]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T20:05:35.292622 #1798]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:05:35.294163 #1798] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:05:35.304681 #1798]  INFO -- : Completed 500  in 11ms (ActiveRecord: 0.1ms)
F, [2020-04-01T20:05:35.324300 #1798] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055d96f854c30>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:05:35.328660 #1798] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:05:35.336030 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:05:35.336392 #1798]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:05:35.336465 #1798]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T20:05:35.336537 #1798]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:05:35.337591 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.339372 #1798] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "193352760"], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.340832 #1798] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "193352760"], ["date_of_birth", "2001-04-01"], ["phone", "8672086067"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:05:35.342199 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:05:35.343349 #1798]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 20:05:35 +0000
I, [2020-04-01T20:05:35.344238 #1798]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T20:05:35.350598 #1798]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T20:05:35.351972 #1798] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T20:05:35.353343 #1798]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.4ms)
I, [2020-04-01T20:05:35.358686 #1798]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:05:35.359303 #1798]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:05:35.359936 #1798]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:05:35.360582 #1798]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:05:35.361598 #1798]  INFO -- : Completed 200 OK in 17ms (Views: 10.6ms | ActiveRecord: 0.2ms)
D, [2020-04-01T20:05:35.365220 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:05:35.369128 #1798] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:05:35.369440 #1798]  INFO -- : --------------------------------------------
I, [2020-04-01T20:05:35.369514 #1798]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T20:05:35.369574 #1798]  INFO -- : --------------------------------------------
D, [2020-04-01T20:05:35.370664 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.372131 #1798] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "300084641"], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.373562 #1798] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "300084641"], ["date_of_birth", "2001-04-01"], ["phone", "0489426630"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:05:35.378971 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:05:35.380111 #1798]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 20:05:35 +0000
I, [2020-04-01T20:05:35.381080 #1798]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T20:05:35.386308 #1798]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T20:05:35.397845 #1798]  INFO -- :   Rendered employees/_form.html.erb (6.7ms)
I, [2020-04-01T20:05:35.398298 #1798]  INFO -- :   Rendered employees/new.html.erb within layouts/application (11.6ms)
I, [2020-04-01T20:05:35.399552 #1798]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:05:35.400178 #1798]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:05:35.400817 #1798]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:05:35.401466 #1798]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:05:35.402450 #1798]  INFO -- : Completed 200 OK in 21ms (Views: 15.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:05:35.405770 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:05:35.411237 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:05:35.411558 #1798]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:05:35.411659 #1798]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T20:05:35.411719 #1798]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:05:35.412746 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.414334 #1798] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "130674944"], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.415745 #1798] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "130674944"], ["date_of_birth", "2001-04-01"], ["phone", "5736345601"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:05:35.417040 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:05:35.422392 #1798]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:05:35 +0000
I, [2020-04-01T20:05:35.427303 #1798]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T20:05:35.427610 #1798]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:05:35.428532 #1798] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.432348 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.434902 #1798] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.436602 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:05:35.437582 #1798]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T20:05:35.444723 #1798]  INFO -- :   Rendered employees/_form.html.erb (6.7ms)
I, [2020-04-01T20:05:35.445060 #1798]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.2ms)
I, [2020-04-01T20:05:35.446304 #1798]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T20:05:35.446869 #1798]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:05:35.447458 #1798]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:05:35.448060 #1798]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:05:35.449189 #1798]  INFO -- : Completed 200 OK in 21ms (Views: 11.2ms | ActiveRecord: 0.4ms)
D, [2020-04-01T20:05:35.461746 #1798] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:05:35.463793 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:05:35.464076 #1798]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:05:35.464154 #1798]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T20:05:35.464233 #1798]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:05:35.465292 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.466792 #1798] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "294134954"], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.468213 #1798] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "294134954"], ["date_of_birth", "2001-04-01"], ["phone", "2042768413"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:05:35.469491 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.470455 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T20:05:35.472828 #1798]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:05:35 +0000
I, [2020-04-01T20:05:35.473972 #1798]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T20:05:35.474239 #1798]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T20:05:35.475438 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.476912 #1798] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.478342 #1798] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:05:35.479665 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:05:35.480628 #1798]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T20:05:35.481607 #1798]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-01T20:05:35.490014 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T20:05:35.491005 #1798] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:05:35.492020 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:05:35.494036 #1798] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:05:35.494320 #1798]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:05:35.494419 #1798]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T20:05:35.494480 #1798]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:05:35.495421 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.496734 #1798] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "364992735"], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.502135 #1798] DEBUG -- :   [1m[36mEmployee Create (4.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "364992735"], ["date_of_birth", "2001-04-01"], ["phone", "8726270210"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:05:35.503366 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:05:35.504772 #1798]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:05:35 +0000
I, [2020-04-01T20:05:35.505724 #1798]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T20:05:35.506039 #1798]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T20:05:35.507133 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.509019 #1798] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.510308 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:05:35.511251 #1798]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T20:05:35.518273 #1798]  INFO -- :   Rendered employees/_form.html.erb (6.5ms)
I, [2020-04-01T20:05:35.518622 #1798]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.1ms)
I, [2020-04-01T20:05:35.519853 #1798]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:05:35.520416 #1798]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:05:35.521003 #1798]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:05:35.521600 #1798]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:05:35.524432 #1798]  INFO -- : Completed 200 OK in 18ms (Views: 12.8ms | ActiveRecord: 0.2ms)
D, [2020-04-01T20:05:35.528491 #1798] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:05:35.530461 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:05:35.530733 #1798]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T20:05:35.530807 #1798]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T20:05:35.530864 #1798]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T20:05:35.531893 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.533326 #1798] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "017191914"], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.538841 #1798] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "017191914"], ["date_of_birth", "2001-04-01"], ["phone", "9790581468"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:05:35.540085 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:05:35.541139 #1798]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 20:05:35 +0000
F, [2020-04-01T20:05:35.562813 #1798] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:05:35.566053 #1798] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:05:35.571279 #1798] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:05:35.571578 #1798]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:05:35.571645 #1798]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T20:05:35.571709 #1798]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:05:35.572739 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.574330 #1798] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "077703398"], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.575756 #1798] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "077703398"], ["date_of_birth", "2001-04-01"], ["phone", "7254186538"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:05:35.576989 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:05:35.578223 #1798]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:05:35 +0000
I, [2020-04-01T20:05:35.579325 #1798]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T20:05:35.579580 #1798]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:05:35.580399 #1798] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.581573 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:05:35.583284 #1798] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:05:35.584919 #1798] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T20:05:35.590236 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:05:35.591124 #1798]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T20:05:35.592115 #1798]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:05:35.596696 #1798] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:22.113572 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:06:22.194982 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:22.195385 #1859]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:06:22.195427 #1859]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T20:06:22.195448 #1859]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:06:22.315787 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:22.318319 #1859] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "101957156"], ["LIMIT", 1]]
D, [2020-04-01T20:06:22.319651 #1859] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "101957156"], ["date_of_birth", "2001-04-01"], ["phone", "3634342988"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:22.320740 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:22.323263 #1859]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:06:22 +0000
I, [2020-04-01T20:06:22.338141 #1859]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T20:06:22.338475 #1859]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:06:22.347580 #1859] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:06:22.349440 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:22.351352 #1859] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:06:22.352967 #1859] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T20:06:22.358225 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:22.359378 #1859]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T20:06:22.360384 #1859]  INFO -- : Completed 302 Found in 22ms (ActiveRecord: 0.6ms)
D, [2020-04-01T20:06:22.371301 #1859] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:22.372090 #1859] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:22.372350 #1859]  INFO -- : ---------------------------------------------
I, [2020-04-01T20:06:22.372437 #1859]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T20:06:22.372492 #1859]  INFO -- : ---------------------------------------------
D, [2020-04-01T20:06:22.373545 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:22.375028 #1859] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "053995542"], ["LIMIT", 1]]
D, [2020-04-01T20:06:22.376418 #1859] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "053995542"], ["date_of_birth", "2001-04-01"], ["phone", "5142746926"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:22.377610 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:22.378725 #1859]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 20:06:22 +0000
I, [2020-04-01T20:06:22.379697 #1859]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T20:06:22.379971 #1859]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:06:22.380799 #1859] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:06:22.386248 #1859]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T20:06:22.570074 #1859]  INFO -- :   Rendered employees/_form.html.erb (182.1ms)
I, [2020-04-01T20:06:22.570494 #1859]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (183.9ms)
I, [2020-04-01T20:06:22.828916 #1859]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T20:06:22.837769 #1859]  INFO -- :   Rendered partials/_nav.html.erb (0.5ms)
I, [2020-04-01T20:06:22.839389 #1859]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T20:06:22.840957 #1859]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T20:06:22.842315 #1859]  INFO -- : Completed 200 OK in 462ms (Views: 457.4ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:06:22.847827 #1859] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:22.848613 #1859] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:22.848916 #1859]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:06:22.848988 #1859]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T20:06:22.849045 #1859]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:06:22.854420 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:22.856350 #1859] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "165198157"], ["LIMIT", 1]]
D, [2020-04-01T20:06:22.858119 #1859] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "165198157"], ["date_of_birth", "2001-04-01"], ["phone", "9054412812"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:22.859810 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:22.861280 #1859]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 20:06:22 +0000
I, [2020-04-01T20:06:22.863307 #1859]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T20:06:22.866192 #1859]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T20:06:22.867613 #1859] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T20:06:22.870297 #1859]  INFO -- :   Rendered employees/index.html.erb within layouts/application (3.8ms)
I, [2020-04-01T20:06:22.873600 #1859]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:06:22.879124 #1859]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:06:22.880419 #1859]  INFO -- :   Rendered partials/_quick_links.html.erb (0.9ms)
I, [2020-04-01T20:06:22.884912 #1859]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:06:22.886255 #1859]  INFO -- : Completed 200 OK in 23ms (Views: 19.6ms | ActiveRecord: 0.2ms)
D, [2020-04-01T20:06:22.896230 #1859] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:22.897206 #1859] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:22.897498 #1859]  INFO -- : --------------------------------------------
I, [2020-04-01T20:06:22.897572 #1859]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T20:06:22.897648 #1859]  INFO -- : --------------------------------------------
D, [2020-04-01T20:06:22.899227 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:22.901221 #1859] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "299131509"], ["LIMIT", 1]]
D, [2020-04-01T20:06:22.903201 #1859] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "299131509"], ["date_of_birth", "2001-04-01"], ["phone", "3895756605"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:22.906134 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:22.907656 #1859]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 20:06:22 +0000
I, [2020-04-01T20:06:22.909791 #1859]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T20:06:22.912500 #1859]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T20:06:22.933311 #1859]  INFO -- :   Rendered employees/_form.html.erb (20.0ms)
I, [2020-04-01T20:06:22.938520 #1859]  INFO -- :   Rendered employees/new.html.erb within layouts/application (20.9ms)
I, [2020-04-01T20:06:22.941990 #1859]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T20:06:22.942554 #1859]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:06:22.944411 #1859]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:06:22.945830 #1859]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:06:22.948202 #1859]  INFO -- : Completed 200 OK in 37ms (Views: 34.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:06:22.961397 #1859] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:22.962955 #1859] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:22.963267 #1859]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T20:06:22.963339 #1859]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T20:06:22.963403 #1859]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T20:06:22.965694 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:22.967711 #1859] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "111971511"], ["LIMIT", 1]]
D, [2020-04-01T20:06:22.974240 #1859] DEBUG -- :   [1m[36mEmployee Create (4.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "111971511"], ["date_of_birth", "2001-04-01"], ["phone", "9021939192"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:22.976428 #1859] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:22.978385 #1859]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 20:06:22 +0000
F, [2020-04-01T20:06:23.002874 #1859] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:06:23.007835 #1859] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:23.008513 #1859] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:23.009004 #1859]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:06:23.009077 #1859]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T20:06:23.009142 #1859]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:06:23.014464 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:23.016256 #1859] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "213202127"], ["LIMIT", 1]]
D, [2020-04-01T20:06:23.018027 #1859] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "213202127"], ["date_of_birth", "2001-04-01"], ["phone", "1755441881"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:23.020681 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:23.022542 #1859]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:06:23 +0000
I, [2020-04-01T20:06:23.024304 #1859]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T20:06:23.025255 #1859]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:06:23.030891 #1859] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:06:23.033470 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:23.038065 #1859] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:06:23.043859 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:23.045392 #1859]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T20:06:23.073115 #1859]  INFO -- :   Rendered employees/_form.html.erb (27.2ms)
I, [2020-04-01T20:06:23.073537 #1859]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (27.9ms)
I, [2020-04-01T20:06:23.074822 #1859]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T20:06:23.075388 #1859]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:06:23.075990 #1859]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:06:23.076578 #1859]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:06:23.077710 #1859]  INFO -- : Completed 200 OK in 52ms (Views: 32.5ms | ActiveRecord: 0.4ms)
D, [2020-04-01T20:06:23.082092 #1859] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:23.082775 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:23.083052 #1859]  INFO -- : --------------------------------------------------
I, [2020-04-01T20:06:23.083121 #1859]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T20:06:23.083202 #1859]  INFO -- : --------------------------------------------------
D, [2020-04-01T20:06:23.084227 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:23.085616 #1859] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "118151500"], ["LIMIT", 1]]
D, [2020-04-01T20:06:23.089414 #1859] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "118151500"], ["date_of_birth", "2001-04-01"], ["phone", "3059447471"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:23.090630 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:23.105936 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:23.107622 #1859] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:06:23.108982 #1859] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8696788218"], ["active", 1]]
D, [2020-04-01T20:06:23.110173 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:23.130186 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:23.131814 #1859] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:06:23.132951 #1859] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:06:23.138173 #1859] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:06:23.148379 #1859] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:06:23.149601 #1859] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:06:23.150568 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:23.151732 #1859]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 20:06:23 +0000
I, [2020-04-01T20:06:23.152639 #1859]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T20:06:23.152903 #1859]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:06:23.153789 #1859] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:06:23.155679 #1859]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T20:06:23.167523 #1859] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055d7ff8df3b0>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:06:23.171205 #1859] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:23.172102 #1859] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:23.172413 #1859]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:06:23.172487 #1859]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T20:06:23.172547 #1859]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:06:23.173596 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:23.179320 #1859] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "103660785"], ["LIMIT", 1]]
D, [2020-04-01T20:06:23.180850 #1859] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "103660785"], ["date_of_birth", "2001-04-01"], ["phone", "4087665275"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:23.182186 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:23.183103 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T20:06:23.184480 #1859]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:06:23 +0000
I, [2020-04-01T20:06:23.185504 #1859]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T20:06:23.185868 #1859]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T20:06:23.187019 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:23.188443 #1859] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T20:06:23.193838 #1859] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:23.195187 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:23.196101 #1859]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T20:06:23.197086 #1859]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:06:23.201420 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T20:06:23.202402 #1859] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:06:23.203438 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:23.204141 #1859] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:23.204422 #1859]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:06:23.204497 #1859]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T20:06:23.204556 #1859]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:06:23.205551 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:23.211027 #1859] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "146285068"], ["LIMIT", 1]]
D, [2020-04-01T20:06:23.212460 #1859] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "146285068"], ["date_of_birth", "2001-04-01"], ["phone", "3850750487"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:23.213736 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:23.215082 #1859]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:06:23 +0000
I, [2020-04-01T20:06:23.215968 #1859]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T20:06:23.216255 #1859]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T20:06:23.217404 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:23.219318 #1859] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T20:06:23.220641 #1859] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:23.221613 #1859]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T20:06:23.232961 #1859]  INFO -- :   Rendered employees/_form.html.erb (10.7ms)
I, [2020-04-01T20:06:23.233382 #1859]  INFO -- :   Rendered employees/new.html.erb within layouts/application (11.4ms)
I, [2020-04-01T20:06:23.234718 #1859]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:06:23.235325 #1859]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:06:23.235978 #1859]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:06:23.236611 #1859]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:06:23.237810 #1859]  INFO -- : Completed 200 OK in 21ms (Views: 15.8ms | ActiveRecord: 0.2ms)
D, [2020-04-01T20:06:23.242052 #1859] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:55.358633 #1905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:06:55.440687 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:55.441092 #1905]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T20:06:55.441133 #1905]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T20:06:55.441157 #1905]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T20:06:55.561125 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:55.567784 #1905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "316760129"], ["LIMIT", 1]]
D, [2020-04-01T20:06:55.569205 #1905] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "316760129"], ["date_of_birth", "2001-04-01"], ["phone", "7070463078"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:55.570304 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:55.572623 #1905]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 20:06:55 +0000
F, [2020-04-01T20:06:55.613050 #1905] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:06:55.623510 #1905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:55.625482 #1905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:55.625801 #1905]  INFO -- : --------------------------------------------
I, [2020-04-01T20:06:55.625869 #1905]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T20:06:55.625945 #1905]  INFO -- : --------------------------------------------
D, [2020-04-01T20:06:55.627012 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:55.628560 #1905] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "058325692"], ["LIMIT", 1]]
D, [2020-04-01T20:06:55.630109 #1905] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "058325692"], ["date_of_birth", "2001-04-01"], ["phone", "8523412728"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:55.631354 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:55.632477 #1905]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 20:06:55 +0000
I, [2020-04-01T20:06:55.633543 #1905]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T20:06:55.644671 #1905]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T20:06:55.923965 #1905]  INFO -- :   Rendered employees/_form.html.erb (272.9ms)
I, [2020-04-01T20:06:55.924460 #1905]  INFO -- :   Rendered employees/new.html.erb within layouts/application (279.4ms)
I, [2020-04-01T20:06:56.168787 #1905]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T20:06:56.170133 #1905]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T20:06:56.171523 #1905]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T20:06:56.173005 #1905]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T20:06:56.174178 #1905]  INFO -- : Completed 200 OK in 540ms (Views: 531.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:06:56.182239 #1905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:56.184132 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:56.184472 #1905]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:06:56.184546 #1905]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T20:06:56.184604 #1905]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:06:56.185833 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.187465 #1905] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "293298533"], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.189128 #1905] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "293298533"], ["date_of_birth", "2001-04-01"], ["phone", "7086933859"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:56.190744 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:56.192221 #1905]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:06:56 +0000
I, [2020-04-01T20:06:56.197397 #1905]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T20:06:56.197850 #1905]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:06:56.199411 #1905] DEBUG -- :   [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.201597 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.204260 #1905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.209030 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:56.210738 #1905]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T20:06:56.228603 #1905]  INFO -- :   Rendered employees/_form.html.erb (17.0ms)
I, [2020-04-01T20:06:56.229654 #1905]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (18.0ms)
I, [2020-04-01T20:06:56.238592 #1905]  INFO -- :   Rendered partials/_topbar.html.erb (8.0ms)
I, [2020-04-01T20:06:56.239461 #1905]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:06:56.240311 #1905]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:06:56.241413 #1905]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T20:06:56.243106 #1905]  INFO -- : Completed 200 OK in 45ms (Views: 32.1ms | ActiveRecord: 0.7ms)
D, [2020-04-01T20:06:56.256365 #1905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:56.258723 #1905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:56.259029 #1905]  INFO -- : --------------------------------------------------
I, [2020-04-01T20:06:56.259598 #1905]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T20:06:56.259667 #1905]  INFO -- : --------------------------------------------------
D, [2020-04-01T20:06:56.261255 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.263917 #1905] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "145803606"], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.267476 #1905] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "145803606"], ["date_of_birth", "2001-04-01"], ["phone", "8615142127"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:56.275225 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.303574 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.306506 #1905] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.309397 #1905] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8813080785"], ["active", 1]]
D, [2020-04-01T20:06:56.316303 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.353974 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.357002 #1905] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:06:56.358749 #1905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:06:56.361057 #1905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.374914 #1905] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.376494 #1905] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:06:56.377787 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:56.379131 #1905]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 20:06:56 +0000
I, [2020-04-01T20:06:56.380402 #1905]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T20:06:56.380654 #1905]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:06:56.384133 #1905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:06:56.386933 #1905]  INFO -- : Completed 500  in 6ms (ActiveRecord: 0.1ms)
F, [2020-04-01T20:06:56.414789 #1905] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x0000556ea145b450>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:06:56.418480 #1905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:56.420325 #1905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:56.420633 #1905]  INFO -- : ---------------------------------------------
I, [2020-04-01T20:06:56.420716 #1905]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T20:06:56.420774 #1905]  INFO -- : ---------------------------------------------
D, [2020-04-01T20:06:56.421978 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.423562 #1905] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "191266194"], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.425018 #1905] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "191266194"], ["date_of_birth", "2001-04-01"], ["phone", "9909380400"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:56.426252 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:56.427364 #1905]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 20:06:56 +0000
I, [2020-04-01T20:06:56.428349 #1905]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T20:06:56.428620 #1905]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:06:56.429442 #1905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:06:56.430719 #1905]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T20:06:56.441993 #1905]  INFO -- :   Rendered employees/_form.html.erb (10.8ms)
I, [2020-04-01T20:06:56.442417 #1905]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (11.4ms)
I, [2020-04-01T20:06:56.443611 #1905]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:06:56.444219 #1905]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:06:56.444808 #1905]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:06:56.445412 #1905]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:06:56.446438 #1905]  INFO -- : Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:06:56.454101 #1905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:56.455899 #1905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:56.456184 #1905]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:06:56.456258 #1905]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T20:06:56.456344 #1905]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:06:56.457378 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.458921 #1905] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "004629637"], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.460353 #1905] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "004629637"], ["date_of_birth", "2001-04-01"], ["phone", "0358964927"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:56.461542 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:56.463534 #1905]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:06:56 +0000
I, [2020-04-01T20:06:56.464562 #1905]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T20:06:56.464824 #1905]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T20:06:56.468509 #1905] DEBUG -- :   [1m[35m (2.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.470516 #1905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.471832 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:56.472751 #1905]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T20:06:56.479634 #1905]  INFO -- :   Rendered employees/_form.html.erb (6.4ms)
I, [2020-04-01T20:06:56.480036 #1905]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.0ms)
I, [2020-04-01T20:06:56.481207 #1905]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:06:56.481811 #1905]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:06:56.482437 #1905]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:06:56.483060 #1905]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:06:56.484173 #1905]  INFO -- : Completed 200 OK in 19ms (Views: 11.0ms | ActiveRecord: 2.8ms)
D, [2020-04-01T20:06:56.492209 #1905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:56.493999 #1905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:56.494301 #1905]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:06:56.494375 #1905]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T20:06:56.494437 #1905]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:06:56.495450 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.496889 #1905] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "078469161"], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.498351 #1905] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "078469161"], ["date_of_birth", "2001-04-01"], ["phone", "7169152250"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:56.499631 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.500578 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T20:06:56.505913 #1905]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:06:56 +0000
I, [2020-04-01T20:06:56.506895 #1905]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T20:06:56.507186 #1905]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T20:06:56.508346 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.509809 #1905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.511224 #1905] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:56.512619 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:56.513580 #1905]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T20:06:56.514619 #1905]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-01T20:06:56.522960 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T20:06:56.523940 #1905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:06:56.524985 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:56.526753 #1905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:56.527034 #1905]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:06:56.527161 #1905]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T20:06:56.527242 #1905]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:06:56.528187 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.529521 #1905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "261586087"], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.531032 #1905] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "261586087"], ["date_of_birth", "2001-04-01"], ["phone", "1702051166"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:56.532249 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:56.533277 #1905]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 20:06:56 +0000
I, [2020-04-01T20:06:56.538224 #1905]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T20:06:56.540456 #1905]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T20:06:56.541731 #1905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T20:06:56.543021 #1905]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.2ms)
I, [2020-04-01T20:06:56.544262 #1905]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:06:56.544832 #1905]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:06:56.545436 #1905]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:06:56.546098 #1905]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:06:56.547021 #1905]  INFO -- : Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:06:56.552570 #1905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:06:56.554192 #1905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:06:56.554497 #1905]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:06:56.554573 #1905]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T20:06:56.554634 #1905]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:06:56.555632 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.557052 #1905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "065220802"], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.558494 #1905] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "065220802"], ["date_of_birth", "2001-04-01"], ["phone", "4737393896"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:06:56.559687 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:56.560851 #1905]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:06:56 +0000
I, [2020-04-01T20:06:56.561911 #1905]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T20:06:56.562199 #1905]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:06:56.563018 #1905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.564180 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:06:56.565806 #1905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:06:56.567355 #1905] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T20:06:56.568532 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:06:56.569363 #1905]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T20:06:56.574399 #1905]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:06:56.578808 #1905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:12.585309 #2066] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:09:12.686568 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:12.686962 #2066]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:09:12.687002 #2066]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T20:09:12.687024 #2066]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:09:12.829998 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:12.832427 #2066] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "062309305"], ["LIMIT", 1]]
D, [2020-04-01T20:09:12.834129 #2066] DEBUG -- :   [1m[36mEmployee Create (0.6ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "062309305"], ["date_of_birth", "2001-04-01"], ["phone", "9674863523"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:09:12.835217 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:12.845202 #2066]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:09:12 +0000
F, [2020-04-01T20:09:12.862067 #2066] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:41:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:09:12.866593 #2066] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:12.872713 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:12.873000 #2066]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:09:12.873105 #2066]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T20:09:12.873164 #2066]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:09:12.874334 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:12.875896 #2066] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "313237072"], ["LIMIT", 1]]
D, [2020-04-01T20:09:12.877290 #2066] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "313237072"], ["date_of_birth", "2001-04-01"], ["phone", "8782059581"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:09:12.878554 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:12.879879 #2066]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:09:12 +0000
F, [2020-04-01T20:09:12.893191 #2066] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:52:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:09:12.936046 #2066] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:12.950006 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:12.954000 #2066]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:09:12.954120 #2066]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T20:09:12.955203 #2066]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:09:12.956716 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:12.962425 #2066] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "269292961"], ["LIMIT", 1]]
D, [2020-04-01T20:09:12.963979 #2066] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "269292961"], ["date_of_birth", "2001-04-01"], ["phone", "3977009803"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:09:12.965289 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:12.982528 #2066] DEBUG -- :   [1m[35m (15.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T20:09:12.983990 #2066]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:09:12 +0000
F, [2020-04-01T20:09:12.997588 #2066] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:33:in `block (2 levels) in <class:EmployeesControllerTest>'
  test/controllers/employees_controller_test.rb:32:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:09:13.005526 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T20:09:13.006418 #2066] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:13.012203 #2066] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:13.012477 #2066]  INFO -- : ---------------------------------------------
I, [2020-04-01T20:09:13.012562 #2066]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T20:09:13.012627 #2066]  INFO -- : ---------------------------------------------
D, [2020-04-01T20:09:13.017024 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:13.018704 #2066] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "056637207"], ["LIMIT", 1]]
D, [2020-04-01T20:09:13.020157 #2066] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "056637207"], ["date_of_birth", "2001-04-01"], ["phone", "7283235933"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:09:13.021394 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:13.029834 #2066]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 20:09:13 +0000
F, [2020-04-01T20:09:13.052122 #2066] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:09:13.064519 #2066] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:13.072199 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:13.072499 #2066]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T20:09:13.072572 #2066]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T20:09:13.072634 #2066]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T20:09:13.073824 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:13.075345 #2066] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "068524344"], ["LIMIT", 1]]
D, [2020-04-01T20:09:13.076758 #2066] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "068524344"], ["date_of_birth", "2001-04-01"], ["phone", "2898116072"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:09:13.080499 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:13.081611 #2066]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 20:09:13 +0000
F, [2020-04-01T20:09:13.098409 #2066] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:09:13.111310 #2066] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:13.116534 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:13.116859 #2066]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:09:13.116950 #2066]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T20:09:13.117015 #2066]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:09:13.118255 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:13.119800 #2066] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "235353004"], ["LIMIT", 1]]
D, [2020-04-01T20:09:13.121297 #2066] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "235353004"], ["date_of_birth", "2001-04-01"], ["phone", "9156646619"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:09:13.122725 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:13.123850 #2066]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 20:09:13 +0000
F, [2020-04-01T20:09:13.137700 #2066] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:09:13.141541 #2066] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:13.144969 #2066] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:13.145253 #2066]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:09:13.145323 #2066]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T20:09:13.145377 #2066]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:09:13.146912 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:13.148443 #2066] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "051850876"], ["LIMIT", 1]]
D, [2020-04-01T20:09:13.149969 #2066] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "051850876"], ["date_of_birth", "2001-04-01"], ["phone", "6355506222"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:09:13.151286 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:13.152538 #2066]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:09:13 +0000
F, [2020-04-01T20:09:13.166372 #2066] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:09:13.174332 #2066] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:13.177967 #2066] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:13.178278 #2066]  INFO -- : --------------------------------------------------
I, [2020-04-01T20:09:13.178350 #2066]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T20:09:13.178409 #2066]  INFO -- : --------------------------------------------------
D, [2020-04-01T20:09:13.179499 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:13.180999 #2066] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "009349251"], ["LIMIT", 1]]
D, [2020-04-01T20:09:13.182647 #2066] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "009349251"], ["date_of_birth", "2001-04-01"], ["phone", "5944236186"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:09:13.183960 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:13.199701 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:13.201278 #2066] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:09:13.202746 #2066] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3158186592"], ["active", 1]]
D, [2020-04-01T20:09:13.204115 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:13.226467 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:13.228175 #2066] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:09:13.230120 #2066] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:09:13.231713 #2066] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:09:13.242929 #2066] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:09:13.244183 #2066] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:09:13.245160 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:13.246415 #2066]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 20:09:13 +0000
F, [2020-04-01T20:09:13.256267 #2066] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:09:13.264502 #2066] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:13.269203 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:13.269570 #2066]  INFO -- : --------------------------------------------
I, [2020-04-01T20:09:13.269722 #2066]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T20:09:13.269810 #2066]  INFO -- : --------------------------------------------
D, [2020-04-01T20:09:13.271033 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:13.272769 #2066] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "267295978"], ["LIMIT", 1]]
D, [2020-04-01T20:09:13.279672 #2066] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "267295978"], ["date_of_birth", "2001-04-01"], ["phone", "9622130944"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:09:13.281045 #2066] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:13.286186 #2066]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 20:09:13 +0000
F, [2020-04-01T20:09:13.299800 #2066] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:26:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:09:13.303559 #2066] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:30.955033 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:09:31.038493 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:31.038928 #2157]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T20:09:31.038979 #2157]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T20:09:31.039015 #2157]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T20:09:31.144341 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:31.145917 #2157] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:09:31.147294 #2157] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3680244157"], ["active", 1]]
D, [2020-04-01T20:09:31.148380 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:31.152639 #2157]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 20:09:31 +0000
F, [2020-04-01T20:09:31.188566 #2157] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T20:09:31.197267 #2157] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:31.199246 #2157] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:31.199548 #2157]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:09:31.199631 #2157]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T20:09:31.199705 #2157]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:09:31.200567 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:31.204192 #2157] DEBUG -- :   [1m[36mStore Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:09:31.205573 #2157] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6726049845"], ["active", 1]]
D, [2020-04-01T20:09:31.208128 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:31.209268 #2157]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 20:09:31 +0000
I, [2020-04-01T20:09:31.221810 #2157]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T20:09:31.222123 #2157]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:09:31.227938 #2157] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:09:31.233750 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:31.686714 #2157] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:09:31.688808 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:31.696993 #2157]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T20:09:31.739577 #2157]  INFO -- :   Rendered stores/_form.html.erb (40.7ms)
I, [2020-04-01T20:09:31.740052 #2157]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (42.7ms)
I, [2020-04-01T20:09:32.031818 #2157]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T20:09:32.033326 #2157]  INFO -- :   Rendered partials/_nav.html.erb (0.5ms)
I, [2020-04-01T20:09:32.034850 #2157]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T20:09:32.036397 #2157]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T20:09:32.038134 #2157]  INFO -- : Completed 200 OK in 816ms (Views: 342.9ms | ActiveRecord: 0.5ms)
D, [2020-04-01T20:09:32.049060 #2157] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:32.050725 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:32.051101 #2157]  INFO -- : -------------------------------------------
I, [2020-04-01T20:09:32.051192 #2157]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T20:09:32.051272 #2157]  INFO -- : -------------------------------------------
D, [2020-04-01T20:09:32.052285 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:32.054018 #2157] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:09:32.056972 #2157] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8668531739"], ["active", 1]]
D, [2020-04-01T20:09:32.058948 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:32.065881 #2157]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 20:09:32 +0000
I, [2020-04-01T20:09:32.067573 #2157]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T20:09:32.072252 #2157]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T20:09:32.091085 #2157]  INFO -- :   Rendered stores/index.html.erb within layouts/application (18.4ms)
I, [2020-04-01T20:09:32.093472 #2157]  INFO -- : Completed 500  in 26ms (ActiveRecord: 0.0ms)
F, [2020-04-01T20:09:32.123133 #2157] FATAL -- : 
NoMethodError - undefined method `each' for nil:NilClass:
  app/views/stores/index.html.erb:11:in `_app_views_stores_index_html_erb__1105245017731330283_47408380335080'
  test/controllers/stores_controller_test.rb:9:in `block in <class:StoresControllerTest>'

D, [2020-04-01T20:09:32.136032 #2157] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:32.137616 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:32.138141 #2157]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:09:32.138219 #2157]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T20:09:32.138284 #2157]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:09:32.139310 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:32.142092 #2157] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:09:32.143928 #2157] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5504933211"], ["active", 1]]
D, [2020-04-01T20:09:32.146016 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:32.148185 #2157]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 20:09:32 +0000
I, [2020-04-01T20:09:32.149320 #2157]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T20:09:32.149805 #2157]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T20:09:32.151534 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:32.161793 #2157] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:09:32.163879 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:32.165889 #2157]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T20:09:32.180338 #2157]  INFO -- :   Rendered stores/_form.html.erb (13.6ms)
I, [2020-04-01T20:09:32.180991 #2157]  INFO -- :   Rendered stores/new.html.erb within layouts/application (14.8ms)
I, [2020-04-01T20:09:32.183047 #2157]  INFO -- :   Rendered partials/_topbar.html.erb (0.6ms)
I, [2020-04-01T20:09:32.183863 #2157]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:09:32.184729 #2157]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:09:32.185655 #2157]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:09:32.187894 #2157]  INFO -- : Completed 200 OK in 37ms (Views: 21.3ms | ActiveRecord: 0.3ms)
D, [2020-04-01T20:09:32.219203 #2157] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:32.221545 #2157] DEBUG -- :   [1m[35m (1.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:32.222428 #2157]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T20:09:32.222522 #2157]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T20:09:32.222590 #2157]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T20:09:32.223922 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:32.229988 #2157] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:09:32.239230 #2157] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8475009315"], ["active", 1]]
D, [2020-04-01T20:09:32.242079 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:32.244252 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T20:09:32.246407 #2157]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 20:09:32 +0000
I, [2020-04-01T20:09:32.247613 #2157]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T20:09:32.247901 #2157]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T20:09:32.250086 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:32.274359 #2157] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T20:09:32.277484 #2157] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T20:09:32.297900 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:32.299803 #2157]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T20:09:32.302680 #2157]  INFO -- : Completed 302 Found in 54ms (ActiveRecord: 0.5ms)
D, [2020-04-01T20:09:32.333788 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T20:09:32.334787 #2157] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:09:32.335890 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:32.337372 #2157] DEBUG -- :   [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:32.337713 #2157]  INFO -- : -----------------------------------------
I, [2020-04-01T20:09:32.337791 #2157]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T20:09:32.337852 #2157]  INFO -- : -----------------------------------------
D, [2020-04-01T20:09:32.338628 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:32.339809 #2157] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:09:32.341217 #2157] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4946663217"], ["active", 1]]
D, [2020-04-01T20:09:32.342469 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:32.343542 #2157]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 20:09:32 +0000
I, [2020-04-01T20:09:32.344561 #2157]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T20:09:32.345565 #2157]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T20:09:32.356416 #2157]  INFO -- :   Rendered stores/_form.html.erb (6.4ms)
I, [2020-04-01T20:09:32.356833 #2157]  INFO -- :   Rendered stores/new.html.erb within layouts/application (11.0ms)
I, [2020-04-01T20:09:32.358054 #2157]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T20:09:32.358647 #2157]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:09:32.359252 #2157]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:09:32.359891 #2157]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:09:32.360847 #2157]  INFO -- : Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:09:32.368081 #2157] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:32.368780 #2157] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:32.369055 #2157]  INFO -- : --------------------------------------------
I, [2020-04-01T20:09:32.369131 #2157]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T20:09:32.369225 #2157]  INFO -- : --------------------------------------------
D, [2020-04-01T20:09:32.370068 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:32.371393 #2157] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:09:32.372754 #2157] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1097687138"], ["active", 1]]
D, [2020-04-01T20:09:32.377676 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:32.378969 #2157]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 20:09:32 +0000
I, [2020-04-01T20:09:32.380044 #2157]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T20:09:32.380366 #2157]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:09:32.383003 #2157] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:09:32.385549 #2157]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T20:09:32.386664 #2157]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.8ms)
I, [2020-04-01T20:09:32.387947 #2157]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:09:32.388545 #2157]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:09:32.389142 #2157]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:09:32.389848 #2157]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:09:32.390812 #2157]  INFO -- : Completed 200 OK in 10ms (Views: 5.0ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:09:32.401948 #2157] DEBUG -- :   [1m[35m (4.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:32.402941 #2157] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:32.403299 #2157]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T20:09:32.403385 #2157]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T20:09:32.403449 #2157]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T20:09:32.405141 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:32.406534 #2157] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:09:32.407944 #2157] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4374175284"], ["active", 1]]
D, [2020-04-01T20:09:32.409236 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:32.410986 #2157]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 20:09:32 +0000
I, [2020-04-01T20:09:32.412175 #2157]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T20:09:32.412455 #2157]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:09:32.413311 #2157] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:09:32.414635 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:32.416327 #2157] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:09:32.422039 #2157] DEBUG -- :   [1m[36mStore Update (4.2ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T20:09:32.423314 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:32.424296 #2157]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T20:09:32.425306 #2157]  INFO -- : Completed 302 Found in 13ms (ActiveRecord: 4.5ms)
D, [2020-04-01T20:09:32.429979 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:09:32.432052 #2157] DEBUG -- :   [1m[35m (1.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:09:32.432358 #2157]  INFO -- : ------------------------------------------
I, [2020-04-01T20:09:32.432434 #2157]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T20:09:32.432549 #2157]  INFO -- : ------------------------------------------
D, [2020-04-01T20:09:32.433403 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:09:32.434793 #2157] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:09:32.436190 #2157] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9473240257"], ["active", 1]]
D, [2020-04-01T20:09:32.437456 #2157] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:09:32.442612 #2157]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 20:09:32 +0000
I, [2020-04-01T20:09:32.443646 #2157]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T20:09:32.443946 #2157]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:09:32.444803 #2157] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:09:32.446137 #2157]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T20:09:32.453251 #2157]  INFO -- :   Rendered stores/_form.html.erb (6.6ms)
I, [2020-04-01T20:09:32.453659 #2157]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (7.2ms)
I, [2020-04-01T20:09:32.454890 #2157]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:09:32.455506 #2157]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:09:32.456155 #2157]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:09:32.456803 #2157]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:09:32.460970 #2157]  INFO -- : Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:09:32.464795 #2157] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:11:10.094030 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:11:10.172540 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:11:10.172902 #2279]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:11:10.172939 #2279]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T20:11:10.172962 #2279]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:11:10.281298 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:11:10.282858 #2279] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:11:10.284148 #2279] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5438421153"], ["active", 1]]
D, [2020-04-01T20:11:10.285177 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:11:10.296783 #2279]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 20:11:10 +0000
I, [2020-04-01T20:11:10.306860 #2279]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T20:11:10.307165 #2279]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T20:11:10.311829 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:11:10.643643 #2279] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:11:10.644899 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:11:10.647922 #2279]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T20:11:10.688054 #2279]  INFO -- :   Rendered stores/_form.html.erb (38.5ms)
I, [2020-04-01T20:11:10.688465 #2279]  INFO -- :   Rendered stores/new.html.erb within layouts/application (40.2ms)
I, [2020-04-01T20:11:10.940574 #2279]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T20:11:10.942157 #2279]  INFO -- :   Rendered partials/_nav.html.erb (0.6ms)
I, [2020-04-01T20:11:10.944109 #2279]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T20:11:10.946096 #2279]  INFO -- :   Rendered partials/_footer.html.erb (0.8ms)
I, [2020-04-01T20:11:10.947819 #2279]  INFO -- : Completed 200 OK in 640ms (Views: 301.0ms | ActiveRecord: 0.3ms)
D, [2020-04-01T20:11:10.966702 #2279] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:11:10.969561 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:11:10.970600 #2279]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T20:11:10.970685 #2279]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T20:11:10.970757 #2279]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T20:11:10.972279 #2279] DEBUG -- :   [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:11:10.974593 #2279] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:11:10.976326 #2279] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0354790127"], ["active", 1]]
D, [2020-04-01T20:11:10.978930 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:11:10.980806 #2279]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 20:11:10 +0000
F, [2020-04-01T20:11:11.024169 #2279] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T20:11:11.034989 #2279] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:11:11.037076 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:11:11.037680 #2279]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:11:11.037763 #2279]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T20:11:11.037833 #2279]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:11:11.038956 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:11:11.040901 #2279] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:11:11.042967 #2279] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9874064241"], ["active", 1]]
D, [2020-04-01T20:11:11.045345 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:11:11.047096 #2279]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 20:11:11 +0000
I, [2020-04-01T20:11:11.048946 #2279]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T20:11:11.049607 #2279]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:11:11.055524 #2279] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:11:11.060302 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:11:11.064351 #2279] DEBUG -- :   [1m[36mStore Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:11:11.072204 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:11:11.073951 #2279]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T20:11:11.086958 #2279]  INFO -- :   Rendered stores/_form.html.erb (12.2ms)
I, [2020-04-01T20:11:11.087455 #2279]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (13.2ms)
I, [2020-04-01T20:11:11.089006 #2279]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T20:11:11.089819 #2279]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:11:11.090541 #2279]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:11:11.091257 #2279]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T20:11:11.092754 #2279]  INFO -- : Completed 200 OK in 39ms (Views: 18.8ms | ActiveRecord: 0.9ms)
D, [2020-04-01T20:11:11.100715 #2279] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:11:11.102461 #2279] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:11:11.102735 #2279]  INFO -- : --------------------------------------------
I, [2020-04-01T20:11:11.102809 #2279]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T20:11:11.102921 #2279]  INFO -- : --------------------------------------------
D, [2020-04-01T20:11:11.103885 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:11:11.105508 #2279] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:11:11.107344 #2279] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1743127114"], ["active", 1]]
D, [2020-04-01T20:11:11.112754 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:11:11.113974 #2279]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 20:11:11 +0000
I, [2020-04-01T20:11:11.114950 #2279]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T20:11:11.115192 #2279]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:11:11.116065 #2279] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:11:11.121852 #2279]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T20:11:11.122928 #2279]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.7ms)
I, [2020-04-01T20:11:11.124131 #2279]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:11:11.124721 #2279]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:11:11.125306 #2279]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:11:11.126011 #2279]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:11:11.126946 #2279]  INFO -- : Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:11:11.130459 #2279] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:11:11.133017 #2279] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:11:11.133295 #2279]  INFO -- : -------------------------------------------
I, [2020-04-01T20:11:11.133369 #2279]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T20:11:11.133440 #2279]  INFO -- : -------------------------------------------
D, [2020-04-01T20:11:11.138336 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:11:11.139667 #2279] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:11:11.140981 #2279] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8677892110"], ["active", 1]]
D, [2020-04-01T20:11:11.142194 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:11:11.143275 #2279]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 20:11:11 +0000
I, [2020-04-01T20:11:11.144187 #2279]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T20:11:11.146154 #2279]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T20:11:11.151401 #2279]  INFO -- :   Rendered stores/index.html.erb within layouts/application (4.9ms)
I, [2020-04-01T20:11:11.152422 #2279]  INFO -- : Completed 500  in 8ms (ActiveRecord: 0.0ms)
F, [2020-04-01T20:11:11.169041 #2279] FATAL -- : 
NoMethodError - undefined method `each' for nil:NilClass:
  app/views/stores/index.html.erb:11:in `_app_views_stores_index_html_erb__327699506592255386_47095077785600'
  test/controllers/stores_controller_test.rb:9:in `block in <class:StoresControllerTest>'

D, [2020-04-01T20:11:11.173366 #2279] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:11:11.176096 #2279] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:11:11.176415 #2279]  INFO -- : -----------------------------------------
I, [2020-04-01T20:11:11.176500 #2279]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T20:11:11.176562 #2279]  INFO -- : -----------------------------------------
D, [2020-04-01T20:11:11.177412 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:11:11.178912 #2279] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:11:11.180308 #2279] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0692220423"], ["active", 1]]
D, [2020-04-01T20:11:11.181526 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:11:11.186626 #2279]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 20:11:11 +0000
I, [2020-04-01T20:11:11.187669 #2279]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T20:11:11.188759 #2279]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T20:11:11.195832 #2279]  INFO -- :   Rendered stores/_form.html.erb (6.6ms)
I, [2020-04-01T20:11:11.196278 #2279]  INFO -- :   Rendered stores/new.html.erb within layouts/application (7.1ms)
I, [2020-04-01T20:11:11.197537 #2279]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:11:11.198174 #2279]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:11:11.198800 #2279]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:11:11.199379 #2279]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:11:11.200327 #2279]  INFO -- : Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:11:11.203557 #2279] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:11:11.207085 #2279] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:11:11.207381 #2279]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T20:11:11.207479 #2279]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T20:11:11.207557 #2279]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T20:11:11.208401 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:11:11.209860 #2279] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:11:11.211259 #2279] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1142941488"], ["active", 1]]
D, [2020-04-01T20:11:11.212485 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:11:11.213614 #2279]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 20:11:11 +0000
I, [2020-04-01T20:11:11.218835 #2279]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T20:11:11.219136 #2279]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:11:11.220022 #2279] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:11:11.221249 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:11:11.222940 #2279] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:11:11.224565 #2279] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T20:11:11.225794 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:11:11.226777 #2279]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T20:11:11.227772 #2279]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:11:11.236421 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:11:11.238251 #2279] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:11:11.238539 #2279]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T20:11:11.238636 #2279]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T20:11:11.238700 #2279]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T20:11:11.239516 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:11:11.240793 #2279] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:11:11.242207 #2279] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5779853162"], ["active", 1]]
D, [2020-04-01T20:11:11.243395 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:11:11.244296 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T20:11:11.245470 #2279]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 20:11:11 +0000
I, [2020-04-01T20:11:11.250442 #2279]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T20:11:11.250743 #2279]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T20:11:11.251863 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:11:11.253150 #2279] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T20:11:11.254541 #2279] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T20:11:11.255836 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:11:11.256676 #2279]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T20:11:11.257646 #2279]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:11:11.265823 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T20:11:11.266853 #2279] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:11:11.267887 #2279] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:11:11.269726 #2279] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:11:11.269999 #2279]  INFO -- : ------------------------------------------
I, [2020-04-01T20:11:11.270077 #2279]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T20:11:11.270136 #2279]  INFO -- : ------------------------------------------
D, [2020-04-01T20:11:11.270889 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:11:11.272105 #2279] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:11:11.273438 #2279] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3629699699"], ["active", 1]]
D, [2020-04-01T20:11:11.274723 #2279] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:11:11.275820 #2279]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 20:11:11 +0000
I, [2020-04-01T20:11:11.276756 #2279]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T20:11:11.277003 #2279]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:11:11.278287 #2279] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:11:11.279532 #2279]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T20:11:11.290557 #2279]  INFO -- :   Rendered stores/_form.html.erb (10.5ms)
I, [2020-04-01T20:11:11.290984 #2279]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (11.1ms)
I, [2020-04-01T20:11:11.292205 #2279]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:11:11.292789 #2279]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:11:11.293400 #2279]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:11:11.294095 #2279]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T20:11:11.295105 #2279]  INFO -- : Completed 200 OK in 18ms (Views: 15.3ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:11:11.302891 #2279] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:13:06.912384 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:13:06.999658 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:13:07.000039 #2410]  INFO -- : ------------------------------------------
I, [2020-04-01T20:13:07.000087 #2410]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T20:13:07.000111 #2410]  INFO -- : ------------------------------------------
D, [2020-04-01T20:13:07.362411 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:13:07.364022 #2410] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:13:07.365384 #2410] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8210289208"], ["active", 1]]
D, [2020-04-01T20:13:07.370517 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:13:07.374823 #2410]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 20:13:07 +0000
I, [2020-04-01T20:13:07.384397 #2410]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T20:13:07.384643 #2410]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:13:07.395388 #2410] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:13:07.407766 #2410]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T20:13:07.765428 #2410]  INFO -- :   Rendered stores/_form.html.erb (350.9ms)
I, [2020-04-01T20:13:07.765922 #2410]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (357.8ms)
I, [2020-04-01T20:13:08.004596 #2410]  INFO -- :   Rendered partials/_topbar.html.erb (2.5ms)
I, [2020-04-01T20:13:08.007215 #2410]  INFO -- :   Rendered partials/_nav.html.erb (1.0ms)
I, [2020-04-01T20:13:08.009943 #2410]  INFO -- :   Rendered partials/_quick_links.html.erb (1.1ms)
I, [2020-04-01T20:13:08.012491 #2410]  INFO -- :   Rendered partials/_footer.html.erb (1.1ms)
I, [2020-04-01T20:13:08.019118 #2410]  INFO -- : Completed 200 OK in 634ms (Views: 615.5ms | ActiveRecord: 0.2ms)
D, [2020-04-01T20:13:08.028192 #2410] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:13:08.029245 #2410] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:13:08.029542 #2410]  INFO -- : -------------------------------------------
I, [2020-04-01T20:13:08.029615 #2410]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T20:13:08.029709 #2410]  INFO -- : -------------------------------------------
D, [2020-04-01T20:13:08.033142 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:13:08.034944 #2410] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:13:08.036705 #2410] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9026122862"], ["active", 1]]
D, [2020-04-01T20:13:08.038794 #2410] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:13:08.040125 #2410]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 20:13:08 +0000
I, [2020-04-01T20:13:08.041686 #2410]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T20:13:08.043512 #2410]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T20:13:08.047466 #2410]  INFO -- :   Rendered stores/index.html.erb within layouts/application (3.6ms)
I, [2020-04-01T20:13:08.054079 #2410]  INFO -- : Completed 500  in 8ms (ActiveRecord: 0.0ms)
F, [2020-04-01T20:13:08.094988 #2410] FATAL -- : 
NoMethodError - undefined method `each' for nil:NilClass:
  app/views/stores/index.html.erb:11:in `_app_views_stores_index_html_erb___1006050928319307106_47333501104240'
  test/controllers/stores_controller_test.rb:9:in `block in <class:StoresControllerTest>'

D, [2020-04-01T20:13:08.114446 #2410] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:13:08.115705 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:13:08.115981 #2410]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:13:08.116349 #2410]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T20:13:08.116421 #2410]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:13:08.117561 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:13:08.123415 #2410] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:13:08.125695 #2410] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7571240979"], ["active", 1]]
D, [2020-04-01T20:13:08.127839 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:13:08.129794 #2410]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 20:13:08 +0000
I, [2020-04-01T20:13:08.141269 #2410]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T20:13:08.141563 #2410]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:13:08.144241 #2410] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:13:08.151552 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:13:08.155109 #2410] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:13:08.157777 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:13:08.158914 #2410]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T20:13:08.169822 #2410]  INFO -- :   Rendered stores/_form.html.erb (10.3ms)
I, [2020-04-01T20:13:08.170321 #2410]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (11.1ms)
I, [2020-04-01T20:13:08.171861 #2410]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T20:13:08.172586 #2410]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:13:08.173300 #2410]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:13:08.174034 #2410]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:13:08.175578 #2410]  INFO -- : Completed 200 OK in 34ms (Views: 15.9ms | ActiveRecord: 0.4ms)
D, [2020-04-01T20:13:08.185168 #2410] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:13:08.186004 #2410] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:13:08.186299 #2410]  INFO -- : --------------------------------------------
I, [2020-04-01T20:13:08.186373 #2410]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T20:13:08.186441 #2410]  INFO -- : --------------------------------------------
D, [2020-04-01T20:13:08.187456 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:13:08.189000 #2410] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:13:08.190794 #2410] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5648106104"], ["active", 1]]
D, [2020-04-01T20:13:08.192516 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:13:08.193920 #2410]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 20:13:08 +0000
I, [2020-04-01T20:13:08.195002 #2410]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T20:13:08.195351 #2410]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:13:08.196309 #2410] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:13:08.202666 #2410]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T20:13:08.204030 #2410]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.9ms)
I, [2020-04-01T20:13:08.205567 #2410]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T20:13:08.206257 #2410]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:13:08.206964 #2410]  INFO -- :   Rendered partials/_quick_links.html.erb (0.3ms)
I, [2020-04-01T20:13:08.207843 #2410]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:13:08.209187 #2410]  INFO -- : Completed 200 OK in 13ms (Views: 6.1ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:13:08.217876 #2410] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:13:08.219046 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:13:08.223385 #2410]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T20:13:08.223470 #2410]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T20:13:08.223533 #2410]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T20:13:08.224448 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:13:08.225895 #2410] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:13:08.227291 #2410] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4894298460"], ["active", 1]]
D, [2020-04-01T20:13:08.228480 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:13:08.229599 #2410]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 20:13:08 +0000
I, [2020-04-01T20:13:08.230700 #2410]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T20:13:08.230978 #2410]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:13:08.231804 #2410] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:13:08.232997 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:13:08.234587 #2410] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:13:08.236213 #2410] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T20:13:08.237458 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:13:08.242584 #2410]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T20:13:08.243721 #2410]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:13:08.250615 #2410] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:13:08.251461 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:13:08.251755 #2410]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:13:08.251828 #2410]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T20:13:08.251887 #2410]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:13:08.252743 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:13:08.254115 #2410] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:13:08.255542 #2410] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3257916532"], ["active", 1]]
D, [2020-04-01T20:13:08.256704 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:13:08.259364 #2410]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 20:13:08 +0000
I, [2020-04-01T20:13:08.260396 #2410]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T20:13:08.260688 #2410]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T20:13:08.261848 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:13:08.263614 #2410] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:13:08.264798 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:13:08.266319 #2410]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T20:13:08.277793 #2410]  INFO -- :   Rendered stores/_form.html.erb (10.7ms)
I, [2020-04-01T20:13:08.278220 #2410]  INFO -- :   Rendered stores/new.html.erb within layouts/application (11.6ms)
I, [2020-04-01T20:13:08.279411 #2410]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:13:08.279955 #2410]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:13:08.280561 #2410]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:13:08.281172 #2410]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:13:08.282279 #2410]  INFO -- : Completed 200 OK in 21ms (Views: 16.2ms | ActiveRecord: 0.2ms)
D, [2020-04-01T20:13:08.290362 #2410] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:13:08.291147 #2410] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:13:08.291421 #2410]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T20:13:08.291555 #2410]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T20:13:08.291616 #2410]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T20:13:08.292408 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:13:08.293768 #2410] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:13:08.295140 #2410] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3938704411"], ["active", 1]]
D, [2020-04-01T20:13:08.296390 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:13:08.297339 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T20:13:08.298575 #2410]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 20:13:08 +0000
I, [2020-04-01T20:13:08.299516 #2410]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T20:13:08.299777 #2410]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T20:13:08.300925 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:13:08.302315 #2410] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T20:13:08.303631 #2410] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T20:13:08.304911 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:13:08.309861 #2410]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T20:13:08.310855 #2410]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:13:08.315907 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T20:13:08.316900 #2410] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:13:08.318313 #2410] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:13:08.321996 #2410] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:13:08.322305 #2410]  INFO -- : -----------------------------------------
I, [2020-04-01T20:13:08.322379 #2410]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T20:13:08.322445 #2410]  INFO -- : -----------------------------------------
D, [2020-04-01T20:13:08.323276 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:13:08.324503 #2410] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:13:08.325868 #2410] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1588371086"], ["active", 1]]
D, [2020-04-01T20:13:08.327130 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:13:08.328240 #2410]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 20:13:08 +0000
I, [2020-04-01T20:13:08.329195 #2410]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T20:13:08.330262 #2410]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T20:13:08.340396 #2410]  INFO -- :   Rendered stores/_form.html.erb (9.7ms)
I, [2020-04-01T20:13:08.340812 #2410]  INFO -- :   Rendered stores/new.html.erb within layouts/application (10.2ms)
I, [2020-04-01T20:13:08.342028 #2410]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:13:08.342588 #2410]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:13:08.343167 #2410]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:13:08.343779 #2410]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:13:08.344691 #2410]  INFO -- : Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:13:08.347879 #2410] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:13:08.348593 #2410] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:13:08.348866 #2410]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T20:13:08.348940 #2410]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T20:13:08.348999 #2410]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T20:13:08.349884 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:13:08.351162 #2410] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:13:08.352463 #2410] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0638327278"], ["active", 1]]
D, [2020-04-01T20:13:08.353693 #2410] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:13:08.354706 #2410]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 20:13:08 +0000
F, [2020-04-01T20:13:08.380890 #2410] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T20:13:08.384325 #2410] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:14.631080 #2500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:14:14.734506 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:14.735360 #2500]  INFO -- : -----------------------------------------
I, [2020-04-01T20:14:14.735414 #2500]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T20:14:14.735484 #2500]  INFO -- : -----------------------------------------
D, [2020-04-01T20:14:14.841919 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:14.843535 #2500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:14.844935 #2500] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6271561089"], ["active", 1]]
D, [2020-04-01T20:14:14.846120 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:14.848569 #2500]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 20:14:14 +0000
I, [2020-04-01T20:14:14.857409 #2500]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T20:14:14.864466 #2500]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T20:14:15.150778 #2500]  INFO -- :   Rendered stores/_form.html.erb (280.5ms)
I, [2020-04-01T20:14:15.151230 #2500]  INFO -- :   Rendered stores/new.html.erb within layouts/application (286.4ms)
I, [2020-04-01T20:14:15.371849 #2500]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T20:14:15.373261 #2500]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T20:14:15.374788 #2500]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T20:14:15.376332 #2500]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T20:14:15.377510 #2500]  INFO -- : Completed 200 OK in 520ms (Views: 514.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:14:15.384838 #2500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:15.385754 #2500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:15.386060 #2500]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:14:15.386175 #2500]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T20:14:15.386258 #2500]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:14:15.387161 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:15.388667 #2500] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:15.390246 #2500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0506767364"], ["active", 1]]
D, [2020-04-01T20:14:15.391677 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:15.396983 #2500]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 20:14:15 +0000
I, [2020-04-01T20:14:15.402212 #2500]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T20:14:15.402543 #2500]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T20:14:15.404024 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:15.407108 #2500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:14:15.408622 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:15.409744 #2500]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T20:14:15.422256 #2500]  INFO -- :   Rendered stores/_form.html.erb (11.9ms)
I, [2020-04-01T20:14:15.422697 #2500]  INFO -- :   Rendered stores/new.html.erb within layouts/application (12.6ms)
I, [2020-04-01T20:14:15.424376 #2500]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:14:15.425156 #2500]  INFO -- :   Rendered partials/_nav.html.erb (0.3ms)
I, [2020-04-01T20:14:15.426118 #2500]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:14:15.426892 #2500]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:14:15.428347 #2500]  INFO -- : Completed 200 OK in 25ms (Views: 18.0ms | ActiveRecord: 0.4ms)
D, [2020-04-01T20:14:15.439229 #2500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:15.440143 #2500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:15.440654 #2500]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T20:14:15.440731 #2500]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T20:14:15.440795 #2500]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T20:14:15.441927 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:15.443864 #2500] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:15.446575 #2500] DEBUG -- :   [1m[36mStore Create (0.9ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6938683149"], ["active", 1]]
D, [2020-04-01T20:14:15.453854 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:15.455619 #2500]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 20:14:15 +0000
F, [2020-04-01T20:14:15.490675 #2500] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T20:14:15.503356 #2500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:15.504352 #2500] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:15.504646 #2500]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T20:14:15.504721 #2500]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T20:14:15.504781 #2500]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T20:14:15.506165 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:15.508098 #2500] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:15.510065 #2500] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1659073847"], ["active", 1]]
D, [2020-04-01T20:14:15.512796 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:15.514205 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T20:14:15.516256 #2500]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 20:14:15 +0000
I, [2020-04-01T20:14:15.517826 #2500]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T20:14:15.518657 #2500]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T20:14:15.520446 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:15.523123 #2500] DEBUG -- :   [1m[36mStore Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T20:14:15.530316 #2500] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T20:14:15.532395 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:15.534287 #2500]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T20:14:15.535772 #2500]  INFO -- : Completed 302 Found in 17ms (ActiveRecord: 1.1ms)
D, [2020-04-01T20:14:15.546427 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T20:14:15.547638 #2500] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:14:15.549807 #2500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:15.550697 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:15.550981 #2500]  INFO -- : -------------------------------------------
I, [2020-04-01T20:14:15.551054 #2500]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T20:14:15.551277 #2500]  INFO -- : -------------------------------------------
D, [2020-04-01T20:14:15.552291 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:15.553764 #2500] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:15.555657 #2500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6719089072"], ["active", 1]]
D, [2020-04-01T20:14:15.557552 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:15.563171 #2500]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 20:14:15 +0000
I, [2020-04-01T20:14:15.564321 #2500]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T20:14:15.566208 #2500]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T20:14:15.572051 #2500]  INFO -- :   Rendered stores/index.html.erb within layouts/application (5.5ms)
I, [2020-04-01T20:14:15.575064 #2500]  INFO -- : Completed 500  in 10ms (ActiveRecord: 0.0ms)
F, [2020-04-01T20:14:15.612720 #2500] FATAL -- : 
NoMethodError - undefined method `each' for nil:NilClass:
  app/views/stores/index.html.erb:11:in `_app_views_stores_index_html_erb___699014281265749600_46915190033700'
  test/controllers/stores_controller_test.rb:9:in `block in <class:StoresControllerTest>'

D, [2020-04-01T20:14:15.640987 #2500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:15.642025 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:15.642321 #2500]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T20:14:15.642396 #2500]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T20:14:15.642456 #2500]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T20:14:15.643264 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:15.644633 #2500] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:15.646069 #2500] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1194281062"], ["active", 1]]
D, [2020-04-01T20:14:15.647247 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:15.648433 #2500]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 20:14:15 +0000
I, [2020-04-01T20:14:15.649601 #2500]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T20:14:15.649890 #2500]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:14:15.651076 #2500] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:14:15.652361 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:15.656123 #2500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:14:15.657809 #2500] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T20:14:15.659033 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:15.659954 #2500]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T20:14:15.660942 #2500]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
D, [2020-04-01T20:14:15.673706 #2500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:15.674469 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:15.674755 #2500]  INFO -- : ------------------------------------------
I, [2020-04-01T20:14:15.674826 #2500]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T20:14:15.674886 #2500]  INFO -- : ------------------------------------------
D, [2020-04-01T20:14:15.675728 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:15.677061 #2500] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:15.678490 #2500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2134710709"], ["active", 1]]
D, [2020-04-01T20:14:15.679746 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:15.680813 #2500]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 20:14:15 +0000
I, [2020-04-01T20:14:15.685776 #2500]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T20:14:15.686089 #2500]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:14:15.686905 #2500] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:14:15.688743 #2500]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T20:14:15.700290 #2500]  INFO -- :   Rendered stores/_form.html.erb (10.8ms)
I, [2020-04-01T20:14:15.700717 #2500]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (11.7ms)
I, [2020-04-01T20:14:15.701974 #2500]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:14:15.702555 #2500]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:14:15.703126 #2500]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:14:15.703773 #2500]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:14:15.704713 #2500]  INFO -- : Completed 200 OK in 18ms (Views: 15.8ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:14:15.708259 #2500] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:15.708969 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:15.709267 #2500]  INFO -- : --------------------------------------------
I, [2020-04-01T20:14:15.709350 #2500]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T20:14:15.709412 #2500]  INFO -- : --------------------------------------------
D, [2020-04-01T20:14:15.712224 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:15.713530 #2500] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:15.714909 #2500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1876827458"], ["active", 1]]
D, [2020-04-01T20:14:15.716195 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:15.717291 #2500]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 20:14:15 +0000
I, [2020-04-01T20:14:15.718210 #2500]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T20:14:15.718542 #2500]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:14:15.719337 #2500] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:14:15.721194 #2500]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T20:14:15.722317 #2500]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.7ms)
I, [2020-04-01T20:14:15.723599 #2500]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:14:15.724188 #2500]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:14:15.724860 #2500]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:14:15.725502 #2500]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:14:15.730504 #2500]  INFO -- : Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:14:15.734165 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:15.735100 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:15.735426 #2500]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:14:15.735499 #2500]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T20:14:15.735563 #2500]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:14:15.736414 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:15.737785 #2500] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:15.739158 #2500] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6046819249"], ["active", 1]]
D, [2020-04-01T20:14:15.740478 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:15.741568 #2500]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 20:14:15 +0000
I, [2020-04-01T20:14:15.746694 #2500]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T20:14:15.747006 #2500]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:14:15.747898 #2500] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:14:15.749176 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:15.751313 #2500] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:14:15.753007 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:15.753976 #2500]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T20:14:15.765456 #2500]  INFO -- :   Rendered stores/_form.html.erb (11.0ms)
I, [2020-04-01T20:14:15.765900 #2500]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (11.6ms)
I, [2020-04-01T20:14:15.767165 #2500]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:14:15.767759 #2500]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:14:15.768398 #2500]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:14:15.769075 #2500]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:14:15.770281 #2500]  INFO -- : Completed 200 OK in 23ms (Views: 15.8ms | ActiveRecord: 0.3ms)
D, [2020-04-01T20:14:15.778883 #2500] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:23.180270 #2521] DEBUG -- :   [1m[35m (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:14:23.277047 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:23.277409 #2521]  INFO -- : --------------------------------------------------
I, [2020-04-01T20:14:23.277462 #2521]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T20:14:23.277488 #2521]  INFO -- : --------------------------------------------------
D, [2020-04-01T20:14:23.459298 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:23.462124 #2521] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "356724372"], ["LIMIT", 1]]
D, [2020-04-01T20:14:23.463574 #2521] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "356724372"], ["date_of_birth", "2001-04-01"], ["phone", "3035758379"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:23.464836 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:23.481373 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:23.482901 #2521] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:23.484118 #2521] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4475630866"], ["active", 1]]
D, [2020-04-01T20:14:23.485217 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:23.507568 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:23.509127 #2521] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:14:23.514944 #2521] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:14:23.516245 #2521] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:14:23.525464 #2521] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:14:23.526554 #2521] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:14:23.527383 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:23.531084 #2521]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 20:14:23 +0000
F, [2020-04-01T20:14:23.551102 #2521] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:23.568388 #2521] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:23.569571 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:23.570703 #2521]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:14:23.570789 #2521]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T20:14:23.570900 #2521]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:14:23.572062 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:23.573841 #2521] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "125288695"], ["LIMIT", 1]]
D, [2020-04-01T20:14:23.575600 #2521] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "125288695"], ["date_of_birth", "2001-04-01"], ["phone", "2567869079"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:23.576959 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:23.582090 #2521]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:14:23 +0000
F, [2020-04-01T20:14:23.592742 #2521] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:52:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:23.618289 #2521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:23.619351 #2521] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:23.619683 #2521]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:14:23.619767 #2521]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T20:14:23.619829 #2521]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:14:23.620948 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:23.623245 #2521] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "014409534"], ["LIMIT", 1]]
D, [2020-04-01T20:14:23.624835 #2521] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "014409534"], ["date_of_birth", "2001-04-01"], ["phone", "3478199435"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:23.630185 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:23.631352 #2521]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 20:14:23 +0000
F, [2020-04-01T20:14:23.650098 #2521] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:23.654407 #2521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:23.655420 #2521] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:23.655710 #2521]  INFO -- : ---------------------------------------------
I, [2020-04-01T20:14:23.655823 #2521]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T20:14:23.655914 #2521]  INFO -- : ---------------------------------------------
D, [2020-04-01T20:14:23.657704 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:23.659332 #2521] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "001640105"], ["LIMIT", 1]]
D, [2020-04-01T20:14:23.660830 #2521] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "001640105"], ["date_of_birth", "2001-04-01"], ["phone", "0058212243"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:23.666311 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:23.667542 #2521]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 20:14:23 +0000
F, [2020-04-01T20:14:23.682553 #2521] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:23.689147 #2521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:23.697475 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:23.697888 #2521]  INFO -- : --------------------------------------------
I, [2020-04-01T20:14:23.697970 #2521]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T20:14:23.698065 #2521]  INFO -- : --------------------------------------------
D, [2020-04-01T20:14:23.699215 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:23.701739 #2521] DEBUG -- :   [1m[36mEmployee Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "370819180"], ["LIMIT", 1]]
D, [2020-04-01T20:14:23.703395 #2521] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "370819180"], ["date_of_birth", "2001-04-01"], ["phone", "4309047440"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:23.704756 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:23.709948 #2521]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 20:14:23 +0000
F, [2020-04-01T20:14:23.725337 #2521] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:26:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:23.729466 #2521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:23.734601 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:23.734917 #2521]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:14:23.734990 #2521]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T20:14:23.735051 #2521]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:14:23.736288 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:23.738645 #2521] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "222080193"], ["LIMIT", 1]]
D, [2020-04-01T20:14:23.740130 #2521] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "222080193"], ["date_of_birth", "2001-04-01"], ["phone", "5276624114"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:23.741606 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:23.744103 #2521]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:14:23 +0000
F, [2020-04-01T20:14:23.763163 #2521] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:23.771349 #2521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:23.772394 #2521] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:23.772764 #2521]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:14:23.772836 #2521]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T20:14:23.772894 #2521]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:14:23.774753 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:23.776288 #2521] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "319617998"], ["LIMIT", 1]]
D, [2020-04-01T20:14:23.777842 #2521] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "319617998"], ["date_of_birth", "2001-04-01"], ["phone", "3469934195"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:23.779208 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:23.780203 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T20:14:23.789726 #2521]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:14:23 +0000
F, [2020-04-01T20:14:23.808586 #2521] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:33:in `block (2 levels) in <class:EmployeesControllerTest>'
  test/controllers/employees_controller_test.rb:32:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:23.813106 #2521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T20:14:23.818165 #2521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:23.819275 #2521] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:23.819594 #2521]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:14:23.819691 #2521]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T20:14:23.819752 #2521]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:14:23.820957 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:23.827232 #2521] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "335359191"], ["LIMIT", 1]]
D, [2020-04-01T20:14:23.828877 #2521] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "335359191"], ["date_of_birth", "2001-04-01"], ["phone", "3772861422"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:23.830484 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:23.832003 #2521]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:14:23 +0000
F, [2020-04-01T20:14:23.849885 #2521] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:41:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:23.858542 #2521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:23.860337 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:23.860714 #2521]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T20:14:23.860803 #2521]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T20:14:23.860873 #2521]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T20:14:23.862073 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:23.873024 #2521] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "220347536"], ["LIMIT", 1]]
D, [2020-04-01T20:14:23.874577 #2521] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "220347536"], ["date_of_birth", "2001-04-01"], ["phone", "5334817356"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:23.876047 #2521] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:23.877296 #2521]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 20:14:23 +0000
F, [2020-04-01T20:14:23.896477 #2521] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:23.900746 #2521] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:35.887650 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:14:35.988667 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:35.989073 #2550]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:14:35.989112 #2550]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T20:14:35.989134 #2550]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:14:36.099258 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:36.101776 #2550] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "297943554"], ["LIMIT", 1]]
D, [2020-04-01T20:14:36.103184 #2550] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "297943554"], ["date_of_birth", "2001-04-01"], ["phone", "9483732909"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:36.104311 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:36.105116 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T20:14:36.115251 #2550]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:14:36 +0000
F, [2020-04-01T20:14:36.132995 #2550] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:33:in `block (2 levels) in <class:EmployeesControllerTest>'
  test/controllers/employees_controller_test.rb:32:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:36.139583 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T20:14:36.140469 #2550] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:36.147073 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:36.147414 #2550]  INFO -- : ---------------------------------------------
I, [2020-04-01T20:14:36.147492 #2550]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T20:14:36.147561 #2550]  INFO -- : ---------------------------------------------
D, [2020-04-01T20:14:36.148787 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:36.150803 #2550] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "148501493"], ["LIMIT", 1]]
D, [2020-04-01T20:14:36.152277 #2550] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "148501493"], ["date_of_birth", "2001-04-01"], ["phone", "7640639887"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:36.153538 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:36.154774 #2550]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 20:14:36 +0000
F, [2020-04-01T20:14:36.169401 #2550] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:36.175781 #2550] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:36.178199 #2550] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:36.178503 #2550]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:14:36.178580 #2550]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T20:14:36.178678 #2550]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:14:36.187308 #2550] DEBUG -- :   [1m[35m (7.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:36.188901 #2550] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "222863447"], ["LIMIT", 1]]
D, [2020-04-01T20:14:36.190419 #2550] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "222863447"], ["date_of_birth", "2001-04-01"], ["phone", "2499138596"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:36.191717 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:36.192826 #2550]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 20:14:36 +0000
F, [2020-04-01T20:14:36.206950 #2550] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:36.210735 #2550] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:36.211692 #2550] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:36.211956 #2550]  INFO -- : --------------------------------------------
I, [2020-04-01T20:14:36.212029 #2550]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T20:14:36.212089 #2550]  INFO -- : --------------------------------------------
D, [2020-04-01T20:14:36.213166 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:36.215444 #2550] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "286270809"], ["LIMIT", 1]]
D, [2020-04-01T20:14:36.217006 #2550] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "286270809"], ["date_of_birth", "2001-04-01"], ["phone", "1793769269"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:36.218293 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:36.219362 #2550]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 20:14:36 +0000
F, [2020-04-01T20:14:36.229185 #2550] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:26:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:36.232928 #2550] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:36.234578 #2550] DEBUG -- :   [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:36.234912 #2550]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:14:36.234988 #2550]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T20:14:36.235049 #2550]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:14:36.236116 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:36.237718 #2550] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "326218573"], ["LIMIT", 1]]
D, [2020-04-01T20:14:36.239160 #2550] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "326218573"], ["date_of_birth", "2001-04-01"], ["phone", "9323010999"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:36.240455 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:36.241808 #2550]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:14:36 +0000
F, [2020-04-01T20:14:36.256029 #2550] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:36.259938 #2550] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:36.260928 #2550] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:36.261253 #2550]  INFO -- : --------------------------------------------------
I, [2020-04-01T20:14:36.261324 #2550]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T20:14:36.261384 #2550]  INFO -- : --------------------------------------------------
D, [2020-04-01T20:14:36.263611 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:36.265169 #2550] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "235722387"], ["LIMIT", 1]]
D, [2020-04-01T20:14:36.266730 #2550] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "235722387"], ["date_of_birth", "2001-04-01"], ["phone", "6000026308"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:36.268081 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:36.284334 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:36.286058 #2550] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:36.287540 #2550] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7263666866"], ["active", 1]]
D, [2020-04-01T20:14:36.288921 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:36.311771 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:36.313439 #2550] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:14:36.315254 #2550] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:14:36.316691 #2550] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:14:36.323397 #2550] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:14:36.324647 #2550] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:14:36.329773 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:36.330974 #2550]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 20:14:36 +0000
F, [2020-04-01T20:14:36.341353 #2550] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:36.345245 #2550] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:36.348932 #2550] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:36.349239 #2550]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T20:14:36.349342 #2550]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T20:14:36.349422 #2550]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T20:14:36.351343 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:36.353109 #2550] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "151884578"], ["LIMIT", 1]]
D, [2020-04-01T20:14:36.354792 #2550] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "151884578"], ["date_of_birth", "2001-04-01"], ["phone", "0985352999"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:36.356260 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:36.357368 #2550]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 20:14:36 +0000
F, [2020-04-01T20:14:36.372858 #2550] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:36.377148 #2550] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:36.382369 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:36.382740 #2550]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:14:36.382824 #2550]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T20:14:36.382890 #2550]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:14:36.384035 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:36.386112 #2550] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "325083880"], ["LIMIT", 1]]
D, [2020-04-01T20:14:36.387684 #2550] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "325083880"], ["date_of_birth", "2001-04-01"], ["phone", "3889339304"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:36.389067 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:36.390423 #2550]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:14:36 +0000
F, [2020-04-01T20:14:36.405545 #2550] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:52:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:36.430368 #2550] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:36.432277 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:36.432574 #2550]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:14:36.432673 #2550]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T20:14:36.432789 #2550]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:14:36.434315 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:36.435856 #2550] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "338929277"], ["LIMIT", 1]]
D, [2020-04-01T20:14:36.437347 #2550] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "338929277"], ["date_of_birth", "2001-04-01"], ["phone", "9553365559"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:36.438758 #2550] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:36.440180 #2550]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:14:36 +0000
F, [2020-04-01T20:14:36.454767 #2550] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:41:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:36.458885 #2550] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:44.424421 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:14:44.528199 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:44.528603 #2575]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T20:14:44.528642 #2575]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T20:14:44.528663 #2575]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T20:14:44.644734 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:44.647191 #2575] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "236130384"], ["LIMIT", 1]]
D, [2020-04-01T20:14:44.648543 #2575] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "236130384"], ["date_of_birth", "2001-04-01"], ["phone", "1190071695"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:44.649647 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:44.651897 #2575]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 20:14:44 +0000
F, [2020-04-01T20:14:44.668711 #2575] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:44.674849 #2575] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:44.678695 #2575] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:44.678986 #2575]  INFO -- : ---------------------------------------------
I, [2020-04-01T20:14:44.679090 #2575]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T20:14:44.679145 #2575]  INFO -- : ---------------------------------------------
D, [2020-04-01T20:14:44.680173 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:44.681718 #2575] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "331003788"], ["LIMIT", 1]]
D, [2020-04-01T20:14:44.683116 #2575] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "331003788"], ["date_of_birth", "2001-04-01"], ["phone", "0202834685"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:44.684330 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:44.685457 #2575]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 20:14:44 +0000
F, [2020-04-01T20:14:44.698767 #2575] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:44.708567 #2575] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:44.710052 #2575] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:44.710319 #2575]  INFO -- : --------------------------------------------
I, [2020-04-01T20:14:44.710390 #2575]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T20:14:44.710464 #2575]  INFO -- : --------------------------------------------
D, [2020-04-01T20:14:44.711412 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:44.719530 #2575] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "126167354"], ["LIMIT", 1]]
D, [2020-04-01T20:14:44.720939 #2575] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "126167354"], ["date_of_birth", "2001-04-01"], ["phone", "8016806256"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:44.726232 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:44.727299 #2575]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 20:14:44 +0000
F, [2020-04-01T20:14:44.736550 #2575] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:26:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:44.740099 #2575] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:44.741538 #2575] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:44.741833 #2575]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:14:44.741902 #2575]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T20:14:44.741965 #2575]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:14:44.742922 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:44.744273 #2575] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "176776005"], ["LIMIT", 1]]
D, [2020-04-01T20:14:44.745575 #2575] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "176776005"], ["date_of_birth", "2001-04-01"], ["phone", "2280067847"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:44.750460 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:44.751509 #2575]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 20:14:44 +0000
F, [2020-04-01T20:14:44.760429 #2575] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:44.763825 #2575] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:44.770165 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:44.770436 #2575]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:14:44.770504 #2575]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T20:14:44.770595 #2575]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:14:44.771585 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:44.772985 #2575] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "144211333"], ["LIMIT", 1]]
D, [2020-04-01T20:14:44.774355 #2575] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "144211333"], ["date_of_birth", "2001-04-01"], ["phone", "9302531904"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:44.775559 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:44.776808 #2575]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:14:44 +0000
F, [2020-04-01T20:14:44.790110 #2575] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:44.793779 #2575] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:44.795242 #2575] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:44.795523 #2575]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:14:44.795594 #2575]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T20:14:44.795650 #2575]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:14:44.796633 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:44.798109 #2575] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "241627992"], ["LIMIT", 1]]
D, [2020-04-01T20:14:44.799474 #2575] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "241627992"], ["date_of_birth", "2001-04-01"], ["phone", "9991250852"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:44.800748 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:44.809717 #2575]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:14:44 +0000
F, [2020-04-01T20:14:44.819072 #2575] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:41:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:44.826810 #2575] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:44.828338 #2575] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:44.828623 #2575]  INFO -- : --------------------------------------------------
I, [2020-04-01T20:14:44.828694 #2575]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T20:14:44.828752 #2575]  INFO -- : --------------------------------------------------
D, [2020-04-01T20:14:44.829824 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:44.831275 #2575] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "266285868"], ["LIMIT", 1]]
D, [2020-04-01T20:14:44.832710 #2575] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "266285868"], ["date_of_birth", "2001-04-01"], ["phone", "9380533101"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:44.833957 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:44.845925 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:44.847409 #2575] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:44.848766 #2575] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5393707792"], ["active", 1]]
D, [2020-04-01T20:14:44.850042 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:44.867732 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:44.869286 #2575] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:14:44.875141 #2575] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:14:44.876594 #2575] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:14:44.883392 #2575] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:14:44.884570 #2575] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:14:44.885561 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:44.890806 #2575]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 20:14:44 +0000
F, [2020-04-01T20:14:44.900604 #2575] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:44.908714 #2575] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:44.910291 #2575] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:44.910591 #2575]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:14:44.910662 #2575]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T20:14:44.910719 #2575]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:14:44.911804 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:44.913282 #2575] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "380911902"], ["LIMIT", 1]]
D, [2020-04-01T20:14:44.914808 #2575] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "380911902"], ["date_of_birth", "2001-04-01"], ["phone", "5152755627"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:44.916092 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:44.917304 #2575]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:14:44 +0000
F, [2020-04-01T20:14:44.928723 #2575] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:52:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:44.954349 #2575] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:44.956053 #2575] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:44.956326 #2575]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:14:44.956398 #2575]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T20:14:44.956469 #2575]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:14:44.957500 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:44.958979 #2575] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "051499126"], ["LIMIT", 1]]
D, [2020-04-01T20:14:44.960362 #2575] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "051499126"], ["date_of_birth", "2001-04-01"], ["phone", "1813013863"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:14:44.961590 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:44.966611 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T20:14:44.967915 #2575]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:14:44 +0000
F, [2020-04-01T20:14:44.979873 #2575] FATAL -- : 
SyntaxError - `@' without identifiers is not allowed as an instance variable name
/home/ubuntu/Project/app/controllers/employees_controller.rb:34: syntax error, unexpected end-of-input
      @ = Employee.current_assignment
      ^~:
  app/controllers/employees_controller.rb:34:in `'
  test/controllers/employees_controller_test.rb:33:in `block (2 levels) in <class:EmployeesControllerTest>'
  test/controllers/employees_controller_test.rb:32:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:14:44.987915 #2575] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T20:14:44.988756 #2575] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:52.533019 #2599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:14:52.608515 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:52.608882 #2599]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T20:14:52.608931 #2599]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T20:14:52.608953 #2599]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T20:14:52.708940 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:52.710570 #2599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:52.711934 #2599] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5161376966"], ["active", 1]]
D, [2020-04-01T20:14:52.713011 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:52.713838 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T20:14:52.719789 #2599]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 20:14:52 +0000
I, [2020-04-01T20:14:52.726437 #2599]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T20:14:52.726733 #2599]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T20:14:52.735633 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:52.737140 #2599] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T20:14:52.738614 #2599] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T20:14:52.739992 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:52.741162 #2599]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T20:14:52.742187 #2599]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:14:52.752110 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T20:14:52.753168 #2599] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:14:52.755251 #2599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:52.756061 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:52.756341 #2599]  INFO -- : ------------------------------------------
I, [2020-04-01T20:14:52.756429 #2599]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T20:14:52.756493 #2599]  INFO -- : ------------------------------------------
D, [2020-04-01T20:14:52.757323 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:52.759376 #2599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:52.760779 #2599] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4226120623"], ["active", 1]]
D, [2020-04-01T20:14:52.762088 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:52.763186 #2599]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 20:14:52 +0000
I, [2020-04-01T20:14:52.764224 #2599]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T20:14:52.764496 #2599]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:14:52.766492 #2599] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:14:52.775722 #2599]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T20:14:53.015793 #2599]  INFO -- :   Rendered stores/_form.html.erb (238.2ms)
I, [2020-04-01T20:14:53.016256 #2599]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (240.2ms)
I, [2020-04-01T20:14:53.228325 #2599]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T20:14:53.229778 #2599]  INFO -- :   Rendered partials/_nav.html.erb (0.5ms)
I, [2020-04-01T20:14:53.231270 #2599]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T20:14:53.232752 #2599]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T20:14:53.238139 #2599]  INFO -- : Completed 200 OK in 473ms (Views: 465.2ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:14:53.243629 #2599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:53.246987 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:53.247348 #2599]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:14:53.247424 #2599]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T20:14:53.247485 #2599]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:14:53.248543 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:53.250151 #2599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:53.251779 #2599] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0026428893"], ["active", 1]]
D, [2020-04-01T20:14:53.253547 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:53.255091 #2599]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 20:14:53 +0000
I, [2020-04-01T20:14:53.256216 #2599]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T20:14:53.256601 #2599]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T20:14:53.262059 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:53.265424 #2599] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:14:53.267597 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:53.270306 #2599]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T20:14:53.290779 #2599]  INFO -- :   Rendered stores/_form.html.erb (18.9ms)
I, [2020-04-01T20:14:53.291473 #2599]  INFO -- :   Rendered stores/new.html.erb within layouts/application (20.6ms)
I, [2020-04-01T20:14:53.293291 #2599]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:14:53.297872 #2599]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:14:53.298745 #2599]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:14:53.299635 #2599]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T20:14:53.301946 #2599]  INFO -- : Completed 200 OK in 45ms (Views: 31.6ms | ActiveRecord: 0.3ms)
D, [2020-04-01T20:14:53.311221 #2599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:53.313466 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:53.314463 #2599]  INFO -- : --------------------------------------------
I, [2020-04-01T20:14:53.315307 #2599]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T20:14:53.315386 #2599]  INFO -- : --------------------------------------------
D, [2020-04-01T20:14:53.316989 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:53.330256 #2599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:53.346569 #2599] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4929088491"], ["active", 1]]
D, [2020-04-01T20:14:53.371382 #2599] DEBUG -- :   [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:53.374163 #2599]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 20:14:53 +0000
I, [2020-04-01T20:14:53.375803 #2599]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T20:14:53.376915 #2599]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:14:53.382434 #2599] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:14:53.385676 #2599]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T20:14:53.387504 #2599]  INFO -- :   Rendered stores/show.html.erb within layouts/application (1.5ms)
I, [2020-04-01T20:14:53.390819 #2599]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:14:53.392073 #2599]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:14:53.393365 #2599]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:14:53.394687 #2599]  INFO -- :   Rendered partials/_footer.html.erb (0.9ms)
I, [2020-04-01T20:14:53.396802 #2599]  INFO -- : Completed 200 OK in 20ms (Views: 10.5ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:14:53.410633 #2599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:53.412794 #2599] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:53.413241 #2599]  INFO -- : -------------------------------------------
I, [2020-04-01T20:14:53.413316 #2599]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T20:14:53.413376 #2599]  INFO -- : -------------------------------------------
D, [2020-04-01T20:14:53.414484 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:53.416651 #2599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:53.418655 #2599] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4569902090"], ["active", 1]]
D, [2020-04-01T20:14:53.420519 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:53.421926 #2599]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 20:14:53 +0000
I, [2020-04-01T20:14:53.422987 #2599]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T20:14:53.424983 #2599]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T20:14:53.428849 #2599]  INFO -- :   Rendered stores/index.html.erb within layouts/application (3.5ms)
I, [2020-04-01T20:14:53.430450 #2599]  INFO -- : Completed 500  in 7ms (ActiveRecord: 0.0ms)
F, [2020-04-01T20:14:53.462868 #2599] FATAL -- : 
NoMethodError - undefined method `each' for nil:NilClass:
  app/views/stores/index.html.erb:11:in `_app_views_stores_index_html_erb___4004582819994429790_47247599140800'
  test/controllers/stores_controller_test.rb:9:in `block in <class:StoresControllerTest>'

D, [2020-04-01T20:14:53.487757 #2599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:53.489311 #2599] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:53.489599 #2599]  INFO -- : -----------------------------------------
I, [2020-04-01T20:14:53.489801 #2599]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T20:14:53.489889 #2599]  INFO -- : -----------------------------------------
D, [2020-04-01T20:14:53.490765 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:53.492160 #2599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:53.493553 #2599] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5157855640"], ["active", 1]]
D, [2020-04-01T20:14:53.494768 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:53.495917 #2599]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 20:14:53 +0000
I, [2020-04-01T20:14:53.496919 #2599]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T20:14:53.498006 #2599]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T20:14:53.513124 #2599]  INFO -- :   Rendered stores/_form.html.erb (14.6ms)
I, [2020-04-01T20:14:53.513540 #2599]  INFO -- :   Rendered stores/new.html.erb within layouts/application (15.2ms)
I, [2020-04-01T20:14:53.514937 #2599]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:14:53.515530 #2599]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:14:53.516151 #2599]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:14:53.516803 #2599]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:14:53.517830 #2599]  INFO -- : Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:14:53.521255 #2599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:53.521979 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:53.522276 #2599]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T20:14:53.522349 #2599]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T20:14:53.522409 #2599]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T20:14:53.523205 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:53.524547 #2599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:53.533987 #2599] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0993793983"], ["active", 1]]
D, [2020-04-01T20:14:53.535293 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:53.536417 #2599]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 20:14:53 +0000
F, [2020-04-01T20:14:53.557913 #2599] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T20:14:53.561112 #2599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:53.561899 #2599] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:53.562223 #2599]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:14:53.562295 #2599]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T20:14:53.562356 #2599]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:14:53.563155 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:53.564465 #2599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:53.565843 #2599] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1638266151"], ["active", 1]]
D, [2020-04-01T20:14:53.567069 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:53.568136 #2599]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 20:14:53 +0000
I, [2020-04-01T20:14:53.569290 #2599]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T20:14:53.569582 #2599]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:14:53.570423 #2599] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:14:53.571640 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:53.577761 #2599] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:14:53.579427 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:53.580391 #2599]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T20:14:53.587602 #2599]  INFO -- :   Rendered stores/_form.html.erb (6.7ms)
I, [2020-04-01T20:14:53.587967 #2599]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (7.3ms)
I, [2020-04-01T20:14:53.589248 #2599]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:14:53.593281 #2599]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:14:53.593903 #2599]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:14:53.594575 #2599]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:14:53.595776 #2599]  INFO -- : Completed 200 OK in 26ms (Views: 15.0ms | ActiveRecord: 0.4ms)
D, [2020-04-01T20:14:53.600319 #2599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:14:53.601056 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:14:53.601321 #2599]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T20:14:53.601404 #2599]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T20:14:53.601475 #2599]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T20:14:53.602352 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:53.603728 #2599] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:14:53.605128 #2599] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1243223036"], ["active", 1]]
D, [2020-04-01T20:14:53.606386 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:53.607484 #2599]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 20:14:53 +0000
I, [2020-04-01T20:14:53.608553 #2599]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T20:14:53.608816 #2599]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:14:53.609663 #2599] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:14:53.610875 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:14:53.612447 #2599] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:14:53.614181 #2599] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T20:14:53.615420 #2599] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:14:53.616345 #2599]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T20:14:53.617361 #2599]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:14:53.626002 #2599] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:08.790946 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:16:08.878416 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:08.878787 #2690]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T20:16:08.878827 #2690]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T20:16:08.878849 #2690]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T20:16:08.970757 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:08.972350 #2690] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:16:08.981713 #2690] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0656373785"], ["active", 1]]
D, [2020-04-01T20:16:08.982908 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:08.985276 #2690]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 20:16:08 +0000
F, [2020-04-01T20:16:09.016822 #2690] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T20:16:09.022523 #2690] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:09.023314 #2690] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:09.023591 #2690]  INFO -- : ------------------------------------------
I, [2020-04-01T20:16:09.023659 #2690]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T20:16:09.023711 #2690]  INFO -- : ------------------------------------------
D, [2020-04-01T20:16:09.024540 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:09.026612 #2690] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:16:09.027993 #2690] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8508885771"], ["active", 1]]
D, [2020-04-01T20:16:09.029231 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:09.034424 #2690]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 20:16:09 +0000
I, [2020-04-01T20:16:09.035494 #2690]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T20:16:09.035759 #2690]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:16:09.045567 #2690] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:16:09.049828 #2690]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T20:16:09.271963 #2690]  INFO -- :   Rendered stores/_form.html.erb (220.5ms)
I, [2020-04-01T20:16:09.272429 #2690]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (222.3ms)
I, [2020-04-01T20:16:09.503733 #2690]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T20:16:09.505204 #2690]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T20:16:09.508753 #2690]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T20:16:09.514341 #2690]  INFO -- :   Rendered partials/_footer.html.erb (4.6ms)
I, [2020-04-01T20:16:09.515536 #2690]  INFO -- : Completed 200 OK in 479ms (Views: 467.0ms | ActiveRecord: 0.2ms)
D, [2020-04-01T20:16:09.520031 #2690] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:09.526393 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:09.526737 #2690]  INFO -- : -----------------------------------------
I, [2020-04-01T20:16:09.526808 #2690]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T20:16:09.526912 #2690]  INFO -- : -----------------------------------------
D, [2020-04-01T20:16:09.527848 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:09.529393 #2690] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:16:09.531060 #2690] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0258032824"], ["active", 1]]
D, [2020-04-01T20:16:09.532605 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:09.533838 #2690]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 20:16:09 +0000
I, [2020-04-01T20:16:09.534997 #2690]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T20:16:09.536668 #2690]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T20:16:09.574205 #2690]  INFO -- :   Rendered stores/_form.html.erb (12.4ms)
I, [2020-04-01T20:16:09.574797 #2690]  INFO -- :   Rendered stores/new.html.erb within layouts/application (37.7ms)
I, [2020-04-01T20:16:09.576413 #2690]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T20:16:09.577087 #2690]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:16:09.598120 #2690]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:16:09.599165 #2690]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T20:16:09.600399 #2690]  INFO -- : Completed 200 OK in 65ms (Views: 63.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:16:09.606396 #2690] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:09.607842 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:09.608132 #2690]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:16:09.608205 #2690]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T20:16:09.608273 #2690]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:16:09.613704 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:09.615790 #2690] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:16:09.618561 #2690] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2756882324"], ["active", 1]]
D, [2020-04-01T20:16:09.621193 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:09.631987 #2690]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 20:16:09 +0000
I, [2020-04-01T20:16:09.633743 #2690]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T20:16:09.634710 #2690]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T20:16:09.637315 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:09.645281 #2690] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:16:09.649161 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:09.657970 #2690]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T20:16:09.668389 #2690]  INFO -- :   Rendered stores/_form.html.erb (9.6ms)
I, [2020-04-01T20:16:09.669036 #2690]  INFO -- :   Rendered stores/new.html.erb within layouts/application (10.5ms)
I, [2020-04-01T20:16:09.671070 #2690]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:16:09.671880 #2690]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:16:09.672736 #2690]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T20:16:09.675247 #2690]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:16:09.677430 #2690]  INFO -- : Completed 200 OK in 42ms (Views: 25.9ms | ActiveRecord: 0.3ms)
D, [2020-04-01T20:16:09.686998 #2690] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:09.694433 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:09.694942 #2690]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T20:16:09.695020 #2690]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T20:16:09.695080 #2690]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T20:16:09.696106 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:09.697645 #2690] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:16:09.699516 #2690] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1837188985"], ["active", 1]]
D, [2020-04-01T20:16:09.701381 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:09.702667 #2690]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 20:16:09 +0000
I, [2020-04-01T20:16:09.704151 #2690]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T20:16:09.704468 #2690]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:16:09.705469 #2690] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:16:09.707282 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:09.709210 #2690] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:16:09.715378 #2690] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T20:16:09.717154 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:09.718485 #2690]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T20:16:09.720073 #2690]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:16:09.735513 #2690] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:09.737316 #2690] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:09.737606 #2690]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T20:16:09.737744 #2690]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T20:16:09.737806 #2690]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T20:16:09.739666 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:09.741659 #2690] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:16:09.744450 #2690] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9217910414"], ["active", 1]]
D, [2020-04-01T20:16:09.747775 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:09.749401 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T20:16:09.755499 #2690]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 20:16:09 +0000
I, [2020-04-01T20:16:09.756684 #2690]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T20:16:09.757516 #2690]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T20:16:09.759961 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:09.762014 #2690] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T20:16:09.765404 #2690] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T20:16:09.769292 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:09.771245 #2690]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T20:16:09.774118 #2690]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:16:09.798403 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T20:16:09.799386 #2690] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:16:09.800402 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:09.801392 #2690] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:09.801707 #2690]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:16:09.801785 #2690]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T20:16:09.801843 #2690]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:16:09.802590 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:09.803717 #2690] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:16:09.805057 #2690] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7638587561"], ["active", 1]]
D, [2020-04-01T20:16:09.806314 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:09.807360 #2690]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 20:16:09 +0000
I, [2020-04-01T20:16:09.808396 #2690]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T20:16:09.808695 #2690]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:16:09.809488 #2690] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:16:09.814695 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:09.816604 #2690] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:16:09.818253 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:09.819162 #2690]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T20:16:09.825762 #2690]  INFO -- :   Rendered stores/_form.html.erb (6.2ms)
I, [2020-04-01T20:16:09.826141 #2690]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (6.7ms)
I, [2020-04-01T20:16:09.827284 #2690]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:16:09.827830 #2690]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:16:09.828421 #2690]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:16:09.829031 #2690]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:16:09.834179 #2690]  INFO -- : Completed 200 OK in 25ms (Views: 10.5ms | ActiveRecord: 0.3ms)
D, [2020-04-01T20:16:09.838450 #2690] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:09.839545 #2690] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:09.839845 #2690]  INFO -- : -------------------------------------------
I, [2020-04-01T20:16:09.839934 #2690]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T20:16:09.839994 #2690]  INFO -- : -------------------------------------------
D, [2020-04-01T20:16:09.840769 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:09.842048 #2690] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:16:09.843348 #2690] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7709912696"], ["active", 1]]
D, [2020-04-01T20:16:09.844558 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:09.845615 #2690]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 20:16:09 +0000
I, [2020-04-01T20:16:09.846533 #2690]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T20:16:09.848128 #2690]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T20:16:09.851173 #2690]  INFO -- :   Rendered stores/index.html.erb within layouts/application (2.7ms)
I, [2020-04-01T20:16:09.852196 #2690]  INFO -- : Completed 500  in 5ms (ActiveRecord: 0.0ms)
F, [2020-04-01T20:16:09.867876 #2690] FATAL -- : 
NoMethodError - undefined method `each' for nil:NilClass:
  app/views/stores/index.html.erb:11:in `_app_views_stores_index_html_erb__1186336526497965418_47278229409040'
  test/controllers/stores_controller_test.rb:9:in `block in <class:StoresControllerTest>'

D, [2020-04-01T20:16:09.872248 #2690] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:09.873203 #2690] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:09.873493 #2690]  INFO -- : --------------------------------------------
I, [2020-04-01T20:16:09.873569 #2690]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T20:16:09.873653 #2690]  INFO -- : --------------------------------------------
D, [2020-04-01T20:16:09.874608 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:09.875972 #2690] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:16:09.877373 #2690] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7952411109"], ["active", 1]]
D, [2020-04-01T20:16:09.882671 #2690] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:09.883844 #2690]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 20:16:09 +0000
I, [2020-04-01T20:16:09.884792 #2690]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T20:16:09.885107 #2690]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:16:09.885972 #2690] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:16:09.887869 #2690]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T20:16:09.888970 #2690]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.7ms)
I, [2020-04-01T20:16:09.890340 #2690]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:16:09.890975 #2690]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:16:09.891618 #2690]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:16:09.892350 #2690]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:16:09.893325 #2690]  INFO -- : Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:16:09.900978 #2690] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:15.333457 #2710] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:16:15.430007 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:15.430386 #2710]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:16:15.430426 #2710]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T20:16:15.430447 #2710]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:16:15.528498 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:15.530933 #2710] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "339640019"], ["LIMIT", 1]]
D, [2020-04-01T20:16:15.532256 #2710] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "339640019"], ["date_of_birth", "2001-04-01"], ["phone", "9798810894"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:16:15.533347 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:15.537175 #2710]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 20:16:15 +0000
I, [2020-04-01T20:16:15.543365 #2710]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T20:16:15.550979 #2710]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T20:16:15.552767 #2710] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T20:16:15.558702 #2710]  INFO -- :   Rendered employees/index.html.erb within layouts/application (7.4ms)
I, [2020-04-01T20:16:15.811427 #2710]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T20:16:15.812795 #2710]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T20:16:15.818323 #2710]  INFO -- :   Rendered partials/_quick_links.html.erb (4.5ms)
I, [2020-04-01T20:16:15.819712 #2710]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T20:16:15.820775 #2710]  INFO -- : Completed 200 OK in 277ms (Views: 271.3ms | ActiveRecord: 0.2ms)
D, [2020-04-01T20:16:15.830346 #2710] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:15.833982 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:15.834261 #2710]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T20:16:15.834331 #2710]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T20:16:15.834388 #2710]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T20:16:15.835521 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:15.837142 #2710] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "152092127"], ["LIMIT", 1]]
D, [2020-04-01T20:16:15.843210 #2710] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "152092127"], ["date_of_birth", "2001-04-01"], ["phone", "1010546353"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:16:15.844521 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:15.845714 #2710]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 20:16:15 +0000
F, [2020-04-01T20:16:15.872677 #2710] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:16:15.880151 #2710] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:15.880863 #2710] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:15.881166 #2710]  INFO -- : --------------------------------------------------
I, [2020-04-01T20:16:15.881239 #2710]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T20:16:15.881305 #2710]  INFO -- : --------------------------------------------------
D, [2020-04-01T20:16:15.883078 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:15.884616 #2710] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "058375353"], ["LIMIT", 1]]
D, [2020-04-01T20:16:15.890188 #2710] DEBUG -- :   [1m[36mEmployee Create (4.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "058375353"], ["date_of_birth", "2001-04-01"], ["phone", "4842486619"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:16:15.891491 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:15.907738 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:15.909361 #2710] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:16:15.913203 #2710] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2161183359"], ["active", 1]]
D, [2020-04-01T20:16:15.914459 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:15.929478 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:15.935189 #2710] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:16:15.936426 #2710] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:16:15.937952 #2710] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:16:15.949603 #2710] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:16:15.950874 #2710] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:16:15.951813 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:15.953041 #2710]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 20:16:15 +0000
I, [2020-04-01T20:16:15.958078 #2710]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T20:16:15.958370 #2710]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:16:15.959215 #2710] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:16:15.961157 #2710]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T20:16:15.970507 #2710] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x0000563fff5e5138>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:16:15.978098 #2710] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:15.979058 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:15.979313 #2710]  INFO -- : ---------------------------------------------
I, [2020-04-01T20:16:15.979379 #2710]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T20:16:15.979446 #2710]  INFO -- : ---------------------------------------------
D, [2020-04-01T20:16:15.980550 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:15.982862 #2710] DEBUG -- :   [1m[36mEmployee Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "312372286"], ["LIMIT", 1]]
D, [2020-04-01T20:16:15.984349 #2710] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "312372286"], ["date_of_birth", "2001-04-01"], ["phone", "7804910156"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:16:15.985679 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:15.986802 #2710]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 20:16:15 +0000
I, [2020-04-01T20:16:15.987799 #2710]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T20:16:15.988090 #2710]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:16:15.988887 #2710] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:16:15.990761 #2710]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T20:16:16.288660 #2710]  INFO -- :   Rendered employees/_form.html.erb (296.6ms)
I, [2020-04-01T20:16:16.289432 #2710]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (298.0ms)
I, [2020-04-01T20:16:16.291374 #2710]  INFO -- :   Rendered partials/_topbar.html.erb (0.7ms)
I, [2020-04-01T20:16:16.292298 #2710]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:16:16.292894 #2710]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:16:16.298010 #2710]  INFO -- :   Rendered partials/_footer.html.erb (4.3ms)
I, [2020-04-01T20:16:16.299776 #2710]  INFO -- : Completed 200 OK in 311ms (Views: 308.0ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:16:16.305916 #2710] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:16.307125 #2710] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:16.307424 #2710]  INFO -- : --------------------------------------------
I, [2020-04-01T20:16:16.307500 #2710]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T20:16:16.307575 #2710]  INFO -- : --------------------------------------------
D, [2020-04-01T20:16:16.309085 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:16.312187 #2710] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "109560138"], ["LIMIT", 1]]
D, [2020-04-01T20:16:16.314108 #2710] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "109560138"], ["date_of_birth", "2001-04-01"], ["phone", "7739016706"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:16:16.316237 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:16.320676 #2710]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 20:16:16 +0000
I, [2020-04-01T20:16:16.321826 #2710]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T20:16:16.323446 #2710]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T20:16:16.331893 #2710]  INFO -- :   Rendered employees/_form.html.erb (7.6ms)
I, [2020-04-01T20:16:16.332521 #2710]  INFO -- :   Rendered employees/new.html.erb within layouts/application (8.5ms)
I, [2020-04-01T20:16:16.334644 #2710]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:16:16.335249 #2710]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:16:16.336310 #2710]  INFO -- :   Rendered partials/_quick_links.html.erb (0.6ms)
I, [2020-04-01T20:16:16.337370 #2710]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:16:16.343586 #2710]  INFO -- : Completed 200 OK in 21ms (Views: 14.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:16:16.379473 #2710] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:16.380234 #2710] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:16.380508 #2710]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:16:16.380597 #2710]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T20:16:16.380660 #2710]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:16:16.381701 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:16.383867 #2710] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "064690119"], ["LIMIT", 1]]
D, [2020-04-01T20:16:16.385257 #2710] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "064690119"], ["date_of_birth", "2001-04-01"], ["phone", "1854031809"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:16:16.386502 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:16.387785 #2710]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:16:16 +0000
I, [2020-04-01T20:16:16.392146 #2710]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T20:16:16.392460 #2710]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:16:16.393362 #2710] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:16:16.398686 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:16.401163 #2710] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:16:16.402884 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:16.403812 #2710]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T20:16:16.413914 #2710]  INFO -- :   Rendered employees/_form.html.erb (9.6ms)
I, [2020-04-01T20:16:16.414327 #2710]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (10.2ms)
I, [2020-04-01T20:16:16.415539 #2710]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:16:16.416139 #2710]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:16:16.416714 #2710]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:16:16.417377 #2710]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:16:16.418609 #2710]  INFO -- : Completed 200 OK in 26ms (Views: 14.3ms | ActiveRecord: 0.3ms)
D, [2020-04-01T20:16:16.423130 #2710] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:16.423861 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:16.424189 #2710]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:16:16.424267 #2710]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T20:16:16.424330 #2710]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:16:16.425394 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:16.427510 #2710] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "128467557"], ["LIMIT", 1]]
D, [2020-04-01T20:16:16.428959 #2710] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "128467557"], ["date_of_birth", "2001-04-01"], ["phone", "4389457304"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:16:16.434386 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:16.435390 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T20:16:16.437412 #2710]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:16:16 +0000
I, [2020-04-01T20:16:16.438532 #2710]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T20:16:16.438843 #2710]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T20:16:16.440120 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:16.445672 #2710] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T20:16:16.447235 #2710] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:16:16.448605 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:16.449644 #2710]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T20:16:16.450713 #2710]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:16:16.455240 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T20:16:16.456223 #2710] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:16:16.457337 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:16.458070 #2710] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:16.458383 #2710]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:16:16.458469 #2710]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T20:16:16.458533 #2710]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:16:16.459513 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:16.460805 #2710] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "083611635"], ["LIMIT", 1]]
D, [2020-04-01T20:16:16.466703 #2710] DEBUG -- :   [1m[36mEmployee Create (4.7ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "083611635"], ["date_of_birth", "2001-04-01"], ["phone", "1701058613"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:16:16.468069 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:16.469443 #2710]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:16:16 +0000
I, [2020-04-01T20:16:16.470464 #2710]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T20:16:16.470740 #2710]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T20:16:16.471913 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:16.473956 #2710] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T20:16:16.475350 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:16.476323 #2710]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T20:16:16.487427 #2710]  INFO -- :   Rendered employees/_form.html.erb (10.7ms)
I, [2020-04-01T20:16:16.487852 #2710]  INFO -- :   Rendered employees/new.html.erb within layouts/application (11.2ms)
I, [2020-04-01T20:16:16.489121 #2710]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:16:16.489669 #2710]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:16:16.490274 #2710]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:16:16.490872 #2710]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:16:16.491985 #2710]  INFO -- : Completed 200 OK in 21ms (Views: 15.3ms | ActiveRecord: 0.3ms)
D, [2020-04-01T20:16:16.496033 #2710] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:16:16.496731 #2710] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:16:16.497041 #2710]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:16:16.497117 #2710]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T20:16:16.497179 #2710]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:16:16.498850 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:16.500308 #2710] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "119535031"], ["LIMIT", 1]]
D, [2020-04-01T20:16:16.501775 #2710] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "119535031"], ["date_of_birth", "2001-04-01"], ["phone", "2311100943"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:16:16.503027 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:16.504225 #2710]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:16:16 +0000
I, [2020-04-01T20:16:16.505283 #2710]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T20:16:16.505665 #2710]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:16:16.506470 #2710] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:16:16.507770 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:16:16.509416 #2710] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:16:16.511399 #2710] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T20:16:16.512615 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:16:16.513541 #2710]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T20:16:16.514582 #2710]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:16:16.519330 #2710] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:17:43.094401 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:17:43.172967 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:17:43.173344 #2823]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:17:43.173383 #2823]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T20:17:43.173404 #2823]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:17:43.279339 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:43.285940 #2823] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "381947505"], ["LIMIT", 1]]
D, [2020-04-01T20:17:43.287386 #2823] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "381947505"], ["date_of_birth", "2001-04-01"], ["phone", "5645060582"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:17:43.288533 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:43.289320 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T20:17:43.300942 #2823]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:17:43 +0000
I, [2020-04-01T20:17:43.315574 #2823]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T20:17:43.315879 #2823]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T20:17:43.320673 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:43.330548 #2823] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T20:17:43.332066 #2823] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:17:43.333400 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:17:43.334659 #2823]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T20:17:43.335676 #2823]  INFO -- : Completed 302 Found in 19ms (ActiveRecord: 0.5ms)
D, [2020-04-01T20:17:43.349940 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T20:17:43.351026 #2823] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:17:43.353166 #2823] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:17:43.357108 #2823] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:17:43.357412 #2823]  INFO -- : --------------------------------------------
I, [2020-04-01T20:17:43.357490 #2823]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T20:17:43.357554 #2823]  INFO -- : --------------------------------------------
D, [2020-04-01T20:17:43.358651 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:43.360115 #2823] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "263815288"], ["LIMIT", 1]]
D, [2020-04-01T20:17:43.361519 #2823] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "263815288"], ["date_of_birth", "2001-04-01"], ["phone", "3283002351"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:17:43.367329 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:17:43.368502 #2823]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 20:17:43 +0000
I, [2020-04-01T20:17:43.369586 #2823]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T20:17:43.373079 #2823]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T20:17:43.568782 #2823]  INFO -- :   Rendered employees/_form.html.erb (189.9ms)
I, [2020-04-01T20:17:43.569256 #2823]  INFO -- :   Rendered employees/new.html.erb within layouts/application (195.8ms)
I, [2020-04-01T20:17:43.782647 #2823]  INFO -- :   Rendered partials/_topbar.html.erb (5.0ms)
I, [2020-04-01T20:17:43.784213 #2823]  INFO -- :   Rendered partials/_nav.html.erb (0.5ms)
I, [2020-04-01T20:17:43.785729 #2823]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T20:17:43.787328 #2823]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T20:17:43.788547 #2823]  INFO -- : Completed 200 OK in 419ms (Views: 416.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:17:43.792703 #2823] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:17:43.793500 #2823] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:17:43.796448 #2823]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:17:43.796536 #2823]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T20:17:43.796592 #2823]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:17:43.797825 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:43.799556 #2823] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "148584738"], ["LIMIT", 1]]
D, [2020-04-01T20:17:43.801439 #2823] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "148584738"], ["date_of_birth", "2001-04-01"], ["phone", "1361892364"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:17:43.803417 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:17:43.804961 #2823]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:17:43 +0000
I, [2020-04-01T20:17:43.806356 #2823]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T20:17:43.806647 #2823]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:17:43.808061 #2823] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:17:43.809770 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:43.812337 #2823] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:17:43.820338 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:17:43.822291 #2823]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T20:17:43.843627 #2823]  INFO -- :   Rendered employees/_form.html.erb (20.5ms)
I, [2020-04-01T20:17:43.844354 #2823]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (21.5ms)
I, [2020-04-01T20:17:43.849961 #2823]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:17:43.850881 #2823]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T20:17:43.851759 #2823]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:17:43.852405 #2823]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:17:43.854363 #2823]  INFO -- : Completed 200 OK in 47ms (Views: 31.9ms | ActiveRecord: 0.5ms)
D, [2020-04-01T20:17:43.869294 #2823] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:17:43.870624 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:17:43.871557 #2823]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:17:43.871633 #2823]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T20:17:43.871715 #2823]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:17:43.873467 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:43.876447 #2823] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "022698345"], ["LIMIT", 1]]
D, [2020-04-01T20:17:43.884022 #2823] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "022698345"], ["date_of_birth", "2001-04-01"], ["phone", "4646232180"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:17:43.893266 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:17:43.896022 #2823]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:17:43 +0000
I, [2020-04-01T20:17:43.897803 #2823]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T20:17:43.898846 #2823]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:17:43.900386 #2823] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:17:43.907194 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:43.911160 #2823] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:17:43.919167 #2823] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T20:17:43.922551 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:17:43.924574 #2823]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T20:17:43.931870 #2823]  INFO -- : Completed 302 Found in 32ms (ActiveRecord: 0.5ms)
D, [2020-04-01T20:17:43.944324 #2823] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:17:43.946358 #2823] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:17:43.946854 #2823]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:17:43.946934 #2823]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T20:17:43.946998 #2823]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:17:43.948295 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:43.954240 #2823] DEBUG -- :   [1m[36mEmployee Exists (4.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "122887654"], ["LIMIT", 1]]
D, [2020-04-01T20:17:43.956104 #2823] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "122887654"], ["date_of_birth", "2001-04-01"], ["phone", "2044571386"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:17:43.958153 #2823] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:17:43.959507 #2823]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 20:17:43 +0000
I, [2020-04-01T20:17:43.960704 #2823]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T20:17:43.967904 #2823]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T20:17:43.969406 #2823] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T20:17:43.975362 #2823]  INFO -- :   Rendered employees/index.html.erb within layouts/application (6.9ms)
I, [2020-04-01T20:17:43.976908 #2823]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T20:17:43.977727 #2823]  INFO -- :   Rendered partials/_nav.html.erb (0.3ms)
I, [2020-04-01T20:17:43.978569 #2823]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T20:17:43.979393 #2823]  INFO -- :   Rendered partials/_footer.html.erb (0.4ms)
I, [2020-04-01T20:17:43.980962 #2823]  INFO -- : Completed 200 OK in 20ms (Views: 12.3ms | ActiveRecord: 0.3ms)
D, [2020-04-01T20:17:43.997021 #2823] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:17:43.998216 #2823] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:17:43.999205 #2823]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:17:43.999288 #2823]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T20:17:43.999364 #2823]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:17:44.001235 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:44.004247 #2823] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "386993563"], ["LIMIT", 1]]
D, [2020-04-01T20:17:44.011343 #2823] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "386993563"], ["date_of_birth", "2001-04-01"], ["phone", "7874459882"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:17:44.015248 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:17:44.017978 #2823]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:17:44 +0000
I, [2020-04-01T20:17:44.019649 #2823]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T20:17:44.020655 #2823]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T20:17:44.022504 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:44.038664 #2823] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T20:17:44.040072 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:17:44.041033 #2823]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T20:17:44.052376 #2823]  INFO -- :   Rendered employees/_form.html.erb (10.9ms)
I, [2020-04-01T20:17:44.052802 #2823]  INFO -- :   Rendered employees/new.html.erb within layouts/application (11.4ms)
I, [2020-04-01T20:17:44.054041 #2823]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:17:44.054657 #2823]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:17:44.055257 #2823]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:17:44.055957 #2823]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T20:17:44.057122 #2823]  INFO -- : Completed 200 OK in 36ms (Views: 15.7ms | ActiveRecord: 0.3ms)
D, [2020-04-01T20:17:44.061158 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:17:44.066165 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:17:44.066518 #2823]  INFO -- : ---------------------------------------------
I, [2020-04-01T20:17:44.066591 #2823]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T20:17:44.066649 #2823]  INFO -- : ---------------------------------------------
D, [2020-04-01T20:17:44.067721 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:44.069222 #2823] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "318573920"], ["LIMIT", 1]]
D, [2020-04-01T20:17:44.070679 #2823] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "318573920"], ["date_of_birth", "2001-04-01"], ["phone", "0560188193"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:17:44.071980 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:17:44.073116 #2823]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 20:17:44 +0000
I, [2020-04-01T20:17:44.074143 #2823]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T20:17:44.074401 #2823]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:17:44.075214 #2823] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:17:44.076506 #2823]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T20:17:44.083537 #2823]  INFO -- :   Rendered employees/_form.html.erb (6.6ms)
I, [2020-04-01T20:17:44.083996 #2823]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.1ms)
I, [2020-04-01T20:17:44.085198 #2823]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:17:44.089856 #2823]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:17:44.090453 #2823]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:17:44.091139 #2823]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:17:44.092121 #2823]  INFO -- : Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:17:44.096018 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:17:44.097160 #2823] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:17:44.097486 #2823]  INFO -- : --------------------------------------------------
I, [2020-04-01T20:17:44.097566 #2823]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T20:17:44.097682 #2823]  INFO -- : --------------------------------------------------
D, [2020-04-01T20:17:44.098756 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:44.100274 #2823] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "340476766"], ["LIMIT", 1]]
D, [2020-04-01T20:17:44.105763 #2823] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "340476766"], ["date_of_birth", "2001-04-01"], ["phone", "6150922863"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:17:44.107160 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:44.119376 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:44.120957 #2823] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:17:44.125157 #2823] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1150365140"], ["active", 1]]
D, [2020-04-01T20:17:44.126421 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:44.140869 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:44.142526 #2823] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:17:44.143841 #2823] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:17:44.145015 #2823] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:17:44.156375 #2823] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:17:44.157693 #2823] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:17:44.158729 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:17:44.159998 #2823]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 20:17:44 +0000
I, [2020-04-01T20:17:44.160997 #2823]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T20:17:44.161260 #2823]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:17:44.166239 #2823] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:17:44.168255 #2823]  INFO -- : Completed 500  in 7ms (ActiveRecord: 0.1ms)
F, [2020-04-01T20:17:44.178209 #2823] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055f8e8056ec8>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:17:44.185266 #2823] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:17:44.186870 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:17:44.187225 #2823]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T20:17:44.187299 #2823]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T20:17:44.187359 #2823]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T20:17:44.188495 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:17:44.190146 #2823] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "160534504"], ["LIMIT", 1]]
D, [2020-04-01T20:17:44.191687 #2823] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "160534504"], ["date_of_birth", "2001-04-01"], ["phone", "7747195582"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:17:44.193023 #2823] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:17:44.196257 #2823]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 20:17:44 +0000
F, [2020-04-01T20:17:44.218633 #2823] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:17:44.221615 #2823] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:22:31.046567 #3139] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:22:31.134637 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:22:31.135047 #3139]  INFO -- : ------------------------------------------
I, [2020-04-01T20:22:31.135089 #3139]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T20:22:31.135113 #3139]  INFO -- : ------------------------------------------
D, [2020-04-01T20:22:31.244797 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:22:31.246487 #3139] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:22:31.247857 #3139] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6230387220"], ["active", 1]]
D, [2020-04-01T20:22:31.248917 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:22:31.251516 #3139]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 20:22:31 +0000
I, [2020-04-01T20:22:31.261831 #3139]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T20:22:31.262114 #3139]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:22:31.267643 #3139] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:22:31.275941 #3139]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T20:22:31.562114 #3139]  INFO -- :   Rendered stores/_form.html.erb (284.4ms)
I, [2020-04-01T20:22:31.562572 #3139]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (286.3ms)
I, [2020-04-01T20:22:31.785429 #3139]  INFO -- :   Rendered partials/_topbar.html.erb (1.7ms)
I, [2020-04-01T20:22:31.788360 #3139]  INFO -- :   Rendered partials/_nav.html.erb (1.1ms)
I, [2020-04-01T20:22:31.790453 #3139]  INFO -- :   Rendered partials/_quick_links.html.erb (1.1ms)
I, [2020-04-01T20:22:31.797789 #3139]  INFO -- :   Rendered partials/_footer.html.erb (1.1ms)
I, [2020-04-01T20:22:31.800320 #3139]  INFO -- : Completed 200 OK in 538ms (Views: 528.5ms | ActiveRecord: 0.2ms)
D, [2020-04-01T20:22:31.810515 #3139] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:22:31.827100 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:22:31.827751 #3139]  INFO -- : -------------------------------------------
I, [2020-04-01T20:22:31.827832 #3139]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T20:22:31.827896 #3139]  INFO -- : -------------------------------------------
D, [2020-04-01T20:22:31.828986 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:22:31.860238 #3139] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:22:31.866249 #3139] DEBUG -- :   [1m[36mStore Create (4.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9602097771"], ["active", 1]]
D, [2020-04-01T20:22:31.868339 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:22:31.871038 #3139]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 20:22:31 +0000
I, [2020-04-01T20:22:31.872211 #3139]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T20:22:31.878473 #3139]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T20:22:31.882853 #3139]  INFO -- :   Rendered stores/index.html.erb within layouts/application (3.8ms)
I, [2020-04-01T20:22:31.884390 #3139]  INFO -- : Completed 500  in 12ms (ActiveRecord: 0.0ms)
F, [2020-04-01T20:22:31.925484 #3139] FATAL -- : 
NoMethodError - undefined method `each' for nil:NilClass:
  app/views/stores/index.html.erb:11:in `_app_views_stores_index_html_erb__2246270211986763251_46992473217840'
  test/controllers/stores_controller_test.rb:9:in `block in <class:StoresControllerTest>'

D, [2020-04-01T20:22:31.946016 #3139] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:22:31.951914 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:22:31.952260 #3139]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T20:22:31.952337 #3139]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T20:22:31.952418 #3139]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T20:22:31.958079 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:22:31.959817 #3139] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:22:31.961819 #3139] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6082882132"], ["active", 1]]
D, [2020-04-01T20:22:31.964157 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:22:31.965975 #3139]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 20:22:31 +0000
I, [2020-04-01T20:22:31.971896 #3139]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T20:22:31.972548 #3139]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:22:31.973828 #3139] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:22:31.976436 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:22:31.984171 #3139] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:22:31.988319 #3139] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T20:22:31.991619 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:22:31.992946 #3139]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T20:22:31.998291 #3139]  INFO -- : Completed 302 Found in 25ms (ActiveRecord: 0.6ms)
D, [2020-04-01T20:22:32.004929 #3139] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:22:32.011116 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:22:32.011476 #3139]  INFO -- : -----------------------------------------
I, [2020-04-01T20:22:32.011554 #3139]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T20:22:32.011619 #3139]  INFO -- : -----------------------------------------
D, [2020-04-01T20:22:32.012442 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:22:32.013822 #3139] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:22:32.015258 #3139] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0857088682"], ["active", 1]]
D, [2020-04-01T20:22:32.016508 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:22:32.020693 #3139]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 20:22:32 +0000
I, [2020-04-01T20:22:32.021776 #3139]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T20:22:32.023418 #3139]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T20:22:32.030815 #3139]  INFO -- :   Rendered stores/_form.html.erb (6.6ms)
I, [2020-04-01T20:22:32.031217 #3139]  INFO -- :   Rendered stores/new.html.erb within layouts/application (7.5ms)
I, [2020-04-01T20:22:32.032543 #3139]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:22:32.033153 #3139]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:22:32.037782 #3139]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:22:32.038460 #3139]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:22:32.039424 #3139]  INFO -- : Completed 200 OK in 17ms (Views: 15.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:22:32.042740 #3139] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:22:32.043561 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:22:32.043847 #3139]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T20:22:32.043925 #3139]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T20:22:32.043988 #3139]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T20:22:32.044859 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:22:32.050314 #3139] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:22:32.051769 #3139] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8374069375"], ["active", 1]]
D, [2020-04-01T20:22:32.053169 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:22:32.054351 #3139]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 20:22:32 +0000
F, [2020-04-01T20:22:32.076227 #3139] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T20:22:32.079540 #3139] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:22:32.083109 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:22:32.083473 #3139]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:22:32.083552 #3139]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T20:22:32.083618 #3139]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:22:32.084466 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:22:32.085862 #3139] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:22:32.087270 #3139] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1685591098"], ["active", 1]]
D, [2020-04-01T20:22:32.088553 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:22:32.093781 #3139]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 20:22:32 +0000
I, [2020-04-01T20:22:32.094973 #3139]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T20:22:32.095248 #3139]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:22:32.096167 #3139] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:22:32.097531 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:22:32.099749 #3139] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:22:32.101462 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:22:32.102459 #3139]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T20:22:32.109498 #3139]  INFO -- :   Rendered stores/_form.html.erb (6.6ms)
I, [2020-04-01T20:22:32.109911 #3139]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (7.2ms)
I, [2020-04-01T20:22:32.113195 #3139]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:22:32.113874 #3139]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:22:32.114461 #3139]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:22:32.115109 #3139]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:22:32.116264 #3139]  INFO -- : Completed 200 OK in 21ms (Views: 13.4ms | ActiveRecord: 0.3ms)
D, [2020-04-01T20:22:32.120665 #3139] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:22:32.127213 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:22:32.127579 #3139]  INFO -- : --------------------------------------------
I, [2020-04-01T20:22:32.127668 #3139]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T20:22:32.127735 #3139]  INFO -- : --------------------------------------------
D, [2020-04-01T20:22:32.128625 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:22:32.129996 #3139] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:22:32.131419 #3139] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6219243981"], ["active", 1]]
D, [2020-04-01T20:22:32.132682 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:22:32.133861 #3139]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 20:22:32 +0000
I, [2020-04-01T20:22:32.134764 #3139]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T20:22:32.135072 #3139]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:22:32.135908 #3139] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:22:32.141730 #3139]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T20:22:32.142856 #3139]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.8ms)
I, [2020-04-01T20:22:32.144151 #3139]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:22:32.144756 #3139]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:22:32.145354 #3139]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:22:32.146014 #3139]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:22:32.146942 #3139]  INFO -- : Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:22:32.161078 #3139] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:22:32.175224 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:22:32.175604 #3139]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T20:22:32.175680 #3139]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T20:22:32.175743 #3139]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T20:22:32.176599 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:22:32.183471 #3139] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:22:32.184978 #3139] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3957382998"], ["active", 1]]
D, [2020-04-01T20:22:32.186259 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:22:32.187301 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T20:22:32.188550 #3139]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 20:22:32 +0000
I, [2020-04-01T20:22:32.189543 #3139]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T20:22:32.191449 #3139]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T20:22:32.192621 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:22:32.193922 #3139] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T20:22:32.195240 #3139] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T20:22:32.196521 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:22:32.197378 #3139]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T20:22:32.198360 #3139]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:22:32.206673 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T20:22:32.207636 #3139] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:22:32.208739 #3139] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:22:32.209467 #3139] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:22:32.210590 #3139]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:22:32.210685 #3139]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T20:22:32.210754 #3139]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:22:32.211577 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:22:32.212959 #3139] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:22:32.214507 #3139] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0067455520"], ["active", 1]]
D, [2020-04-01T20:22:32.215793 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:22:32.217131 #3139]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 20:22:32 +0000
I, [2020-04-01T20:22:32.218127 #3139]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T20:22:32.218417 #3139]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T20:22:32.219560 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:22:32.225717 #3139] DEBUG -- :   [1m[36mStore Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:22:32.227037 #3139] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:22:32.228006 #3139]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T20:22:32.235113 #3139]  INFO -- :   Rendered stores/_form.html.erb (6.6ms)
I, [2020-04-01T20:22:32.235497 #3139]  INFO -- :   Rendered stores/new.html.erb within layouts/application (7.2ms)
I, [2020-04-01T20:22:32.236767 #3139]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:22:32.237355 #3139]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:22:32.238037 #3139]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:22:32.238710 #3139]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T20:22:32.239855 #3139]  INFO -- : Completed 200 OK in 21ms (Views: 11.5ms | ActiveRecord: 1.9ms)
D, [2020-04-01T20:22:32.248024 #3139] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:28:19.451108 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:28:19.534746 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:28:19.535116 #3519]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:28:19.535156 #3519]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T20:28:19.535178 #3519]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:28:19.640608 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:19.643246 #3519] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "005145150"], ["LIMIT", 1]]
D, [2020-04-01T20:28:19.644645 #3519] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "005145150"], ["date_of_birth", "2001-04-01"], ["phone", "4156906556"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:28:19.645769 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:28:19.651657 #3519]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:28:19 +0000
I, [2020-04-01T20:28:19.662119 #3519]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T20:28:19.662430 #3519]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T20:28:19.667204 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:19.861004 #3519] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T20:28:19.862510 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:28:19.870173 #3519]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T20:28:19.914809 #3519]  INFO -- :   Rendered employees/_form.html.erb (42.8ms)
I, [2020-04-01T20:28:19.915253 #3519]  INFO -- :   Rendered employees/new.html.erb within layouts/application (44.7ms)
I, [2020-04-01T20:28:20.197169 #3519]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T20:28:20.198897 #3519]  INFO -- :   Rendered partials/_nav.html.erb (0.7ms)
I, [2020-04-01T20:28:20.200824 #3519]  INFO -- :   Rendered partials/_quick_links.html.erb (0.8ms)
I, [2020-04-01T20:28:20.202727 #3519]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T20:28:20.204435 #3519]  INFO -- : Completed 200 OK in 542ms (Views: 340.0ms | ActiveRecord: 0.4ms)
D, [2020-04-01T20:28:20.223425 #3519] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:28:20.224954 #3519] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:28:20.225239 #3519]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:28:20.225313 #3519]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T20:28:20.225374 #3519]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:28:20.227940 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.230199 #3519] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "118147688"], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.233538 #3519] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "118147688"], ["date_of_birth", "2001-04-01"], ["phone", "7283352530"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:28:20.236782 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:28:20.239469 #3519]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:28:20 +0000
I, [2020-04-01T20:28:20.242148 #3519]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T20:28:20.242451 #3519]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:28:20.245162 #3519] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.252065 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.254964 #3519] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.267223 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:28:20.269291 #3519]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T20:28:20.280221 #3519]  INFO -- :   Rendered employees/_form.html.erb (9.6ms)
I, [2020-04-01T20:28:20.280913 #3519]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (11.3ms)
I, [2020-04-01T20:28:20.286828 #3519]  INFO -- :   Rendered partials/_topbar.html.erb (0.6ms)
I, [2020-04-01T20:28:20.287698 #3519]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T20:28:20.288557 #3519]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T20:28:20.289820 #3519]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:28:20.292556 #3519]  INFO -- : Completed 200 OK in 49ms (Views: 22.4ms | ActiveRecord: 0.7ms)
D, [2020-04-01T20:28:20.305597 #3519] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:28:20.306428 #3519] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:28:20.306718 #3519]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:28:20.306792 #3519]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T20:28:20.306923 #3519]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:28:20.308062 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.309783 #3519] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "057265150"], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.311580 #3519] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "057265150"], ["date_of_birth", "2001-04-01"], ["phone", "7755255346"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:28:20.313304 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.318511 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T20:28:20.320188 #3519]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:28:20 +0000
I, [2020-04-01T20:28:20.321199 #3519]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T20:28:20.321571 #3519]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T20:28:20.322874 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.324435 #3519] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.326109 #3519] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:28:20.327825 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:28:20.328798 #3519]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T20:28:20.334112 #3519]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:28:20.339408 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T20:28:20.340466 #3519] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:28:20.342375 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:28:20.343123 #3519] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:28:20.343393 #3519]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:28:20.343463 #3519]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T20:28:20.343523 #3519]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:28:20.344668 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.350317 #3519] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "048665248"], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.352129 #3519] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "048665248"], ["date_of_birth", "2001-04-01"], ["phone", "6489761013"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:28:20.353848 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:28:20.355163 #3519]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 20:28:20 +0000
I, [2020-04-01T20:28:20.356181 #3519]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T20:28:20.358655 #3519]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T20:28:20.360042 #3519] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T20:28:20.361541 #3519]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.5ms)
I, [2020-04-01T20:28:20.363239 #3519]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T20:28:20.363878 #3519]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:28:20.364681 #3519]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:28:20.365402 #3519]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:28:20.366657 #3519]  INFO -- : Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:28:20.378244 #3519] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:28:20.378964 #3519] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:28:20.379304 #3519]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T20:28:20.379380 #3519]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T20:28:20.379441 #3519]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T20:28:20.380463 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.382802 #3519] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "069154279"], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.384249 #3519] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "069154279"], ["date_of_birth", "2001-04-01"], ["phone", "8817994530"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:28:20.385454 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:28:20.386519 #3519]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 20:28:20 +0000
F, [2020-04-01T20:28:20.408450 #3519] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:28:20.414179 #3519] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:28:20.414915 #3519] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:28:20.415198 #3519]  INFO -- : --------------------------------------------
I, [2020-04-01T20:28:20.415288 #3519]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T20:28:20.415344 #3519]  INFO -- : --------------------------------------------
D, [2020-04-01T20:28:20.416387 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.418656 #3519] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "130042706"], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.420168 #3519] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "130042706"], ["date_of_birth", "2001-04-01"], ["phone", "0996296430"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:28:20.421424 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:28:20.422516 #3519]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 20:28:20 +0000
I, [2020-04-01T20:28:20.423536 #3519]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T20:28:20.424606 #3519]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T20:28:20.435651 #3519]  INFO -- :   Rendered employees/_form.html.erb (10.5ms)
I, [2020-04-01T20:28:20.436076 #3519]  INFO -- :   Rendered employees/new.html.erb within layouts/application (11.2ms)
I, [2020-04-01T20:28:20.437276 #3519]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:28:20.437842 #3519]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:28:20.442215 #3519]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:28:20.442830 #3519]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:28:20.443761 #3519]  INFO -- : Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:28:20.447129 #3519] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:28:20.447832 #3519] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:28:20.448120 #3519]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:28:20.448246 #3519]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T20:28:20.448308 #3519]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:28:20.449295 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.451632 #3519] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "239826837"], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.453009 #3519] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "239826837"], ["date_of_birth", "2001-04-01"], ["phone", "9313083889"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:28:20.454293 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:28:20.455517 #3519]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:28:20 +0000
I, [2020-04-01T20:28:20.456612 #3519]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T20:28:20.456968 #3519]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:28:20.457785 #3519] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.459027 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.460768 #3519] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.468598 #3519] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T20:28:20.470120 #3519] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:28:20.471077 #3519]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T20:28:20.472087 #3519]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
D, [2020-04-01T20:28:20.476732 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:28:20.482763 #3519] DEBUG -- :   [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:28:20.483082 #3519]  INFO -- : --------------------------------------------------
I, [2020-04-01T20:28:20.483181 #3519]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T20:28:20.483247 #3519]  INFO -- : --------------------------------------------------
D, [2020-04-01T20:28:20.484319 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.485826 #3519] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "313556209"], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.487225 #3519] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "313556209"], ["date_of_birth", "2001-04-01"], ["phone", "2537578108"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:28:20.488461 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.500256 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.504027 #3519] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.505501 #3519] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8939788624"], ["active", 1]]
D, [2020-04-01T20:28:20.506848 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.525872 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.527576 #3519] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:28:20.528805 #3519] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:28:20.530011 #3519] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.543398 #3519] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.544626 #3519] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:28:20.545641 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:28:20.546881 #3519]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 20:28:20 +0000
I, [2020-04-01T20:28:20.547816 #3519]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T20:28:20.548074 #3519]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:28:20.548935 #3519] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:28:20.550884 #3519]  INFO -- : Completed 500  in 3ms (ActiveRecord: 0.1ms)
F, [2020-04-01T20:28:20.565426 #3519] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000056008e4a2a38>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:28:20.569030 #3519] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:28:20.570032 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:28:20.570308 #3519]  INFO -- : ---------------------------------------------
I, [2020-04-01T20:28:20.570411 #3519]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T20:28:20.571483 #3519]  INFO -- : ---------------------------------------------
D, [2020-04-01T20:28:20.572595 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:28:20.574197 #3519] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "217982727"], ["LIMIT", 1]]
D, [2020-04-01T20:28:20.575684 #3519] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "217982727"], ["date_of_birth", "2001-04-01"], ["phone", "2902017032"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:28:20.576947 #3519] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:28:20.578114 #3519]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 20:28:20 +0000
I, [2020-04-01T20:28:20.579089 #3519]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T20:28:20.579342 #3519]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:28:20.580188 #3519] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:28:20.581452 #3519]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T20:28:20.592885 #3519]  INFO -- :   Rendered employees/_form.html.erb (6.9ms)
I, [2020-04-01T20:28:20.593342 #3519]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (11.5ms)
I, [2020-04-01T20:28:20.594583 #3519]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:28:20.595156 #3519]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:28:20.595771 #3519]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:28:20.596423 #3519]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:28:20.597401 #3519]  INFO -- : Completed 200 OK in 18ms (Views: 15.7ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:28:20.601253 #3519] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:41:17.746954 #4426] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:41:17.832669 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:41:17.833037 #4426]  INFO -- : --------------------------------------------
I, [2020-04-01T20:41:17.833076 #4426]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T20:41:17.833098 #4426]  INFO -- : --------------------------------------------
D, [2020-04-01T20:41:17.950757 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:17.953300 #4426] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "316407083"], ["LIMIT", 1]]
D, [2020-04-01T20:41:17.954684 #4426] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "316407083"], ["date_of_birth", "2001-04-01"], ["phone", "8500344812"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:41:17.955743 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:41:17.962911 #4426]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 20:41:17 +0000
I, [2020-04-01T20:41:17.969282 #4426]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T20:41:17.980502 #4426]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T20:41:18.212303 #4426]  INFO -- :   Rendered employees/_form.html.erb (230.0ms)
I, [2020-04-01T20:41:18.212754 #4426]  INFO -- :   Rendered employees/new.html.erb within layouts/application (231.9ms)
I, [2020-04-01T20:41:18.453099 #4426]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T20:41:18.454561 #4426]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T20:41:18.456021 #4426]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T20:41:18.457516 #4426]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T20:41:18.458695 #4426]  INFO -- : Completed 200 OK in 489ms (Views: 479.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:41:18.467940 #4426] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:41:18.468779 #4426] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:41:18.469116 #4426]  INFO -- : --------------------------------------------------
I, [2020-04-01T20:41:18.469187 #4426]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T20:41:18.469243 #4426]  INFO -- : --------------------------------------------------
D, [2020-04-01T20:41:18.470492 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.472102 #4426] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "089524529"], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.473681 #4426] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "089524529"], ["date_of_birth", "2001-04-01"], ["phone", "6762576029"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:41:18.475165 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.491277 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.492994 #4426] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.498731 #4426] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1399431134"], ["active", 1]]
D, [2020-04-01T20:41:18.500598 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.527653 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.533886 #4426] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:41:18.536575 #4426] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:41:18.539687 #4426] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.558784 #4426] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.561185 #4426] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:41:18.570080 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:41:18.571605 #4426]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 20:41:18 +0000
I, [2020-04-01T20:41:18.573034 #4426]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T20:41:18.573313 #4426]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:41:18.574505 #4426] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:41:18.577877 #4426]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-04-01T20:41:18.601397 #4426] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055950b093198>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:41:18.616064 #4426] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:41:18.621700 #4426] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:41:18.622381 #4426]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:41:18.622460 #4426]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T20:41:18.622522 #4426]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:41:18.623872 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.626011 #4426] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "249672535"], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.628396 #4426] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "249672535"], ["date_of_birth", "2001-04-01"], ["phone", "3372595656"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:41:18.630346 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:41:18.631912 #4426]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:41:18 +0000
I, [2020-04-01T20:41:18.640032 #4426]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T20:41:18.640344 #4426]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:41:18.641475 #4426] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.643334 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.646331 #4426] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.648857 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:41:18.654802 #4426]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T20:41:18.665539 #4426]  INFO -- :   Rendered employees/_form.html.erb (9.2ms)
I, [2020-04-01T20:41:18.670809 #4426]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (14.9ms)
I, [2020-04-01T20:41:18.673489 #4426]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T20:41:18.674906 #4426]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:41:18.676259 #4426]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:41:18.678213 #4426]  INFO -- :   Rendered partials/_footer.html.erb (1.0ms)
I, [2020-04-01T20:41:18.681426 #4426]  INFO -- : Completed 200 OK in 41ms (Views: 28.9ms | ActiveRecord: 0.5ms)
D, [2020-04-01T20:41:18.697093 #4426] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:41:18.702689 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:41:18.703035 #4426]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:41:18.703111 #4426]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T20:41:18.703793 #4426]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:41:18.705510 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.707708 #4426] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "115411792"], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.709798 #4426] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "115411792"], ["date_of_birth", "2001-04-01"], ["phone", "3712124827"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:41:18.726863 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:41:18.728254 #4426]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 20:41:18 +0000
I, [2020-04-01T20:41:18.729358 #4426]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T20:41:18.729651 #4426]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T20:41:18.730530 #4426] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.731776 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.733562 #4426] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.735278 #4426] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T20:41:18.736582 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:41:18.737541 #4426]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T20:41:18.742636 #4426]  INFO -- : Completed 302 Found in 13ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:41:18.750673 #4426] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:41:18.751451 #4426] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:41:18.751722 #4426]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:41:18.751794 #4426]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T20:41:18.751873 #4426]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:41:18.752957 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.754586 #4426] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "026103374"], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.755990 #4426] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "026103374"], ["date_of_birth", "2001-04-01"], ["phone", "9167856924"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:41:18.757246 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:41:18.758445 #4426]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 20:41:18 +0000
I, [2020-04-01T20:41:18.759416 #4426]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T20:41:18.765704 #4426]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T20:41:18.767139 #4426] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T20:41:18.768445 #4426]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.4ms)
I, [2020-04-01T20:41:18.769770 #4426]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:41:18.770377 #4426]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:41:18.770974 #4426]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:41:18.771595 #4426]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:41:18.772566 #4426]  INFO -- : Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.2ms)
D, [2020-04-01T20:41:18.776049 #4426] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:41:18.776728 #4426] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:41:18.777002 #4426]  INFO -- : ---------------------------------------------
I, [2020-04-01T20:41:18.777074 #4426]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T20:41:18.777130 #4426]  INFO -- : ---------------------------------------------
D, [2020-04-01T20:41:18.782224 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.783727 #4426] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "269650112"], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.785078 #4426] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "269650112"], ["date_of_birth", "2001-04-01"], ["phone", "1424266576"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:41:18.786359 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:41:18.787463 #4426]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 20:41:18 +0000
I, [2020-04-01T20:41:18.788441 #4426]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T20:41:18.788692 #4426]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:41:18.789522 #4426] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T20:41:18.790770 #4426]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T20:41:18.801352 #4426]  INFO -- :   Rendered employees/_form.html.erb (10.1ms)
I, [2020-04-01T20:41:18.801809 #4426]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (10.7ms)
I, [2020-04-01T20:41:18.802986 #4426]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:41:18.803534 #4426]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:41:18.804090 #4426]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:41:18.804705 #4426]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:41:18.805686 #4426]  INFO -- : Completed 200 OK in 17ms (Views: 14.6ms | ActiveRecord: 0.1ms)
D, [2020-04-01T20:41:18.809232 #4426] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:41:18.811064 #4426] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:41:18.811360 #4426]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T20:41:18.811434 #4426]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T20:41:18.811493 #4426]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T20:41:18.812543 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.814033 #4426] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "054333659"], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.815445 #4426] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "054333659"], ["date_of_birth", "2001-04-01"], ["phone", "9134138451"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:41:18.816694 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.817688 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T20:41:18.819070 #4426]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:41:18 +0000
I, [2020-04-01T20:41:18.820077 #4426]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T20:41:18.820385 #4426]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T20:41:18.821518 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.827149 #4426] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.828600 #4426] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:41:18.829963 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:41:18.830934 #4426]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T20:41:18.831915 #4426]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T20:41:18.840357 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T20:41:18.841408 #4426] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T20:41:18.842508 #4426] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:41:18.843181 #4426] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:41:18.843521 #4426]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T20:41:18.843595 #4426]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T20:41:18.843656 #4426]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T20:41:18.844637 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.846062 #4426] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "283710638"], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.847512 #4426] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "283710638"], ["date_of_birth", "2001-04-01"], ["phone", "9127725969"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:41:18.848779 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:41:18.850140 #4426]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 20:41:18 +0000
I, [2020-04-01T20:41:18.851061 #4426]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T20:41:18.851358 #4426]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T20:41:18.852523 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.858616 #4426] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.859963 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:41:18.860903 #4426]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T20:41:18.867900 #4426]  INFO -- :   Rendered employees/_form.html.erb (6.5ms)
I, [2020-04-01T20:41:18.868308 #4426]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.1ms)
I, [2020-04-01T20:41:18.869503 #4426]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:41:18.870095 #4426]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:41:18.870677 #4426]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:41:18.871328 #4426]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:41:18.872485 #4426]  INFO -- : Completed 200 OK in 21ms (Views: 11.2ms | ActiveRecord: 0.2ms)
D, [2020-04-01T20:41:18.880601 #4426] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:41:18.881313 #4426] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:41:18.881616 #4426]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T20:41:18.881746 #4426]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T20:41:18.881821 #4426]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T20:41:18.882856 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:41:18.884343 #4426] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "028239176"], ["LIMIT", 1]]
D, [2020-04-01T20:41:18.885801 #4426] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "028239176"], ["date_of_birth", "2001-04-01"], ["phone", "0750505704"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:41:18.887097 #4426] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:41:18.888191 #4426]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 20:41:18 +0000
F, [2020-04-01T20:41:18.908421 #4426] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T20:41:18.911560 #4426] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:46:12.148365 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:46:12.242180 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:46:12.242595 #4831]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T20:46:12.242636 #4831]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T20:46:12.242671 #4831]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T20:46:12.363927 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.365587 #4831] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.371094 #4831] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1130097679"], ["active", 1]]
D, [2020-04-01T20:46:12.372223 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.388591 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.390999 #4831] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "163370747"], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.392231 #4831] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "163370747"], ["date_of_birth", "2001-04-01"], ["phone", "6363822831"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:46:12.393317 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.411345 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.412837 #4831] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:46:12.414435 #4831] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:46:12.415655 #4831] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.424822 #4831] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.426041 #4831] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:46:12.426840 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.427601 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T20:46:12.429928 #4831]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 20:46:12 +0000
I, [2020-04-01T20:46:12.443335 #4831]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T20:46:12.443609 #4831]  INFO -- :   Parameters: {"id"=>"1"}
I, [2020-04-01T20:46:12.469020 #4831]  INFO -- : Completed 500  in 25ms (ActiveRecord: 0.0ms)
F, [2020-04-01T20:46:12.488910 #4831] FATAL -- : 
NoMethodError - undefined method `set_assignment' for #<AssignmentsController:0x000055dcb5b02998>:
  test/controllers/assignments_controller_test.rb:48:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:47:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:46:12.497769 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:46:12.498875 #4831] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:46:12.499858 #4831] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:46:12.500170 #4831]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:46:12.500300 #4831]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T20:46:12.500367 #4831]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:46:12.501219 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.502662 #4831] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.504094 #4831] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7774240753"], ["active", 1]]
D, [2020-04-01T20:46:12.505287 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.510722 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.512238 #4831] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "317056575"], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.513607 #4831] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "317056575"], ["date_of_birth", "2001-04-01"], ["phone", "5258282035"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:46:12.514851 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.516080 #4831] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.517276 #4831] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:46:12.518409 #4831] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:46:12.519537 #4831] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.521056 #4831] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.526311 #4831] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:46:12.527301 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:46:12.528459 #4831]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 20:46:12 +0000
I, [2020-04-01T20:46:12.529524 #4831]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T20:46:12.538373 #4831]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T20:46:12.539464 #4831]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.8ms)
I, [2020-04-01T20:46:12.895421 #4831]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T20:46:12.896740 #4831]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T20:46:12.898075 #4831]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T20:46:12.899444 #4831]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T20:46:12.900425 #4831]  INFO -- : Completed 200 OK in 371ms (Views: 367.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:46:12.908077 #4831] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:46:12.910924 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:46:12.911218 #4831]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T20:46:12.911291 #4831]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T20:46:12.911350 #4831]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T20:46:12.912288 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.913725 #4831] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.915100 #4831] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9390591620"], ["active", 1]]
D, [2020-04-01T20:46:12.916323 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.917541 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.919246 #4831] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "334270239"], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.920927 #4831] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "334270239"], ["date_of_birth", "2001-04-01"], ["phone", "9753005973"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:46:12.922180 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.923448 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.924697 #4831] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:46:12.925770 #4831] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:46:12.926834 #4831] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.928274 #4831] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.929419 #4831] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:46:12.933157 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:46:12.934391 #4831]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 20:46:12 +0000
I, [2020-04-01T20:46:12.946425 #4831]  INFO -- : Processing by AssignmentsController#edit as HTML
I, [2020-04-01T20:46:12.946738 #4831]  INFO -- :   Parameters: {"id"=>"1"}
I, [2020-04-01T20:46:12.950661 #4831]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.0ms)
F, [2020-04-01T20:46:12.967238 #4831] FATAL -- : 
NoMethodError - undefined method `set_assignment' for #<AssignmentsController:0x000055dcb6e0ac70>:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:46:12.970977 #4831] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:46:12.977076 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:46:12.977394 #4831]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T20:46:12.977463 #4831]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T20:46:12.977523 #4831]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T20:46:12.978403 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.979780 #4831] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.981207 #4831] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8494773903"], ["active", 1]]
D, [2020-04-01T20:46:12.982439 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.983644 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.985020 #4831] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "039414915"], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.986324 #4831] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "039414915"], ["date_of_birth", "2001-04-01"], ["phone", "8089862138"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:46:12.987507 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.988711 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:12.993910 #4831] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:46:12.995051 #4831] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:46:12.996126 #4831] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.997672 #4831] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:46:12.998820 #4831] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:46:12.999743 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.000642 #4831] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:46:13.044259 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:46:13.044617 #4831]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T20:46:13.044691 #4831]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T20:46:13.044762 #4831]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T20:46:13.045641 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.046994 #4831] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:46:13.048327 #4831] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6708127292"], ["active", 1]]
D, [2020-04-01T20:46:13.049529 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.050730 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.052069 #4831] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "195213613"], ["LIMIT", 1]]
D, [2020-04-01T20:46:13.053374 #4831] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "195213613"], ["date_of_birth", "2001-04-01"], ["phone", "4871728905"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:46:13.058658 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.059958 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.061293 #4831] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:46:13.062400 #4831] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:46:13.063480 #4831] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:46:13.064919 #4831] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:46:13.066079 #4831] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:46:13.067007 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.067840 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:46:13.069029 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.070331 #4831] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "381042375"], ["LIMIT", 1]]
D, [2020-04-01T20:46:13.071561 #4831] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "381042375"], ["date_of_birth", "2001-04-01"], ["phone", "6325820110"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:46:13.072771 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:46:13.078501 #4831]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 20:46:13 +0000
I, [2020-04-01T20:46:13.079537 #4831]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T20:46:13.079817 #4831]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
I, [2020-04-01T20:46:13.083945 #4831]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.0ms)
F, [2020-04-01T20:46:13.110730 #4831] FATAL -- : 
NameError - undefined local variable or method `assignment_params' for #<AssignmentsController:0x000055dcb3ac5ae0>:
  app/controllers/assignments_controller.rb:13:in `create'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:46:13.114360 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:46:13.115227 #4831] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:46:13.125874 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:46:13.126232 #4831]  INFO -- : ------------------------------------------------
I, [2020-04-01T20:46:13.126306 #4831]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T20:46:13.126366 #4831]  INFO -- : ------------------------------------------------
D, [2020-04-01T20:46:13.127853 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.129273 #4831] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:46:13.130734 #4831] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0701089304"], ["active", 1]]
D, [2020-04-01T20:46:13.131934 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.133158 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.134854 #4831] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "308218470"], ["LIMIT", 1]]
D, [2020-04-01T20:46:13.136218 #4831] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "308218470"], ["date_of_birth", "2001-04-01"], ["phone", "0578606636"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:46:13.137416 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.139441 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.140689 #4831] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:46:13.142571 #4831] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:46:13.143639 #4831] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:46:13.145176 #4831] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:46:13.146430 #4831] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:46:13.147434 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:46:13.148579 #4831]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 20:46:13 +0000
I, [2020-04-01T20:46:13.149460 #4831]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T20:46:13.154398 #4831]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T20:46:13.155090 #4831]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T20:46:13.157290 #4831]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-01T20:46:13.157930 #4831]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T20:46:13.158553 #4831]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:46:13.159142 #4831]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:46:13.160084 #4831]  INFO -- : Completed 200 OK in 10ms (Views: 5.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:46:13.163226 #4831] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:46:13.163869 #4831] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:46:13.164187 #4831]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T20:46:13.164259 #4831]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T20:46:13.164314 #4831]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T20:46:13.165158 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.170762 #4831] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:46:13.172217 #4831] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9902516105"], ["active", 1]]
D, [2020-04-01T20:46:13.173425 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.174677 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.176042 #4831] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "355609148"], ["LIMIT", 1]]
D, [2020-04-01T20:46:13.177412 #4831] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "355609148"], ["date_of_birth", "2001-04-01"], ["phone", "1729789174"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:46:13.178672 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.179950 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:46:13.181157 #4831] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:46:13.186391 #4831] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:46:13.187588 #4831] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:46:13.189126 #4831] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:46:13.190308 #4831] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:46:13.191275 #4831] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:46:13.192537 #4831]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 20:46:13 +0000
I, [2020-04-01T20:46:13.193398 #4831]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T20:46:13.193718 #4831]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
I, [2020-04-01T20:46:13.201810 #4831]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.0ms)
F, [2020-04-01T20:46:13.214118 #4831] FATAL -- : 
NameError - undefined local variable or method `assignment_params' for #<AssignmentsController:0x000055dcb77c4338>:
  app/controllers/assignments_controller.rb:13:in `create'
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:46:13.217484 #4831] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:49:16.913672 #5038] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:49:17.025291 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:49:17.029739 #5038]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T20:49:17.029790 #5038]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T20:49:17.029813 #5038]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T20:49:17.337569 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.339159 #5038] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.340512 #5038] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9686850603"], ["active", 1]]
D, [2020-04-01T20:49:17.341633 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.357856 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.360189 #5038] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "070752353"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.361403 #5038] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "070752353"], ["date_of_birth", "2001-04-01"], ["phone", "9357226040"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:49:17.365209 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.385053 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.390636 #5038] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:49:17.392237 #5038] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:49:17.393511 #5038] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.406995 #5038] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.407992 #5038] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:49:17.408780 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.409800 #5038] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:49:17.458842 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:49:17.459171 #5038]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T20:49:17.459209 #5038]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T20:49:17.459233 #5038]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T20:49:17.459920 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.461113 #5038] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.462391 #5038] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1361361415"], ["active", 1]]
D, [2020-04-01T20:49:17.463426 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.464335 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.465463 #5038] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "324901789"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.470601 #5038] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "324901789"], ["date_of_birth", "2001-04-01"], ["phone", "8137087806"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:49:17.471641 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.472661 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.473767 #5038] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:49:17.474630 #5038] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:49:17.475477 #5038] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.476736 #5038] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.477747 #5038] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:49:17.478632 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:49:17.488142 #5038]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 20:49:17 +0000
F, [2020-04-01T20:49:17.504887 #5038] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:37:in `'
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:49:17.511520 #5038] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:49:17.518521 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:49:17.518839 #5038]  INFO -- : ------------------------------------------------
I, [2020-04-01T20:49:17.518942 #5038]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T20:49:17.519002 #5038]  INFO -- : ------------------------------------------------
D, [2020-04-01T20:49:17.519928 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.521372 #5038] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.522838 #5038] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7098658781"], ["active", 1]]
D, [2020-04-01T20:49:17.524105 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.525295 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.526714 #5038] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "228501942"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.528031 #5038] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "228501942"], ["date_of_birth", "2001-04-01"], ["phone", "2768989594"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:49:17.529392 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.534699 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.535935 #5038] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:49:17.537041 #5038] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:49:17.542244 #5038] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.543780 #5038] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.544958 #5038] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:49:17.545997 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:49:17.547218 #5038]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 20:49:17 +0000
F, [2020-04-01T20:49:17.556948 #5038] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:37:in `'
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:49:17.566785 #5038] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:49:17.571334 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:49:17.571654 #5038]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T20:49:17.571728 #5038]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T20:49:17.571791 #5038]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T20:49:17.572691 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.574143 #5038] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.575556 #5038] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6785842038"], ["active", 1]]
D, [2020-04-01T20:49:17.576843 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.582074 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.583487 #5038] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "153359585"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.584858 #5038] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "153359585"], ["date_of_birth", "2001-04-01"], ["phone", "1585795541"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:49:17.586144 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.587381 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.588592 #5038] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:49:17.593712 #5038] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:49:17.594837 #5038] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.596297 #5038] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.597432 #5038] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:49:17.598445 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:49:17.599699 #5038]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 20:49:17 +0000
F, [2020-04-01T20:49:17.613647 #5038] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:37:in `'
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:49:17.617454 #5038] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:49:17.624942 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:49:17.625278 #5038]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T20:49:17.625349 #5038]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T20:49:17.625407 #5038]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T20:49:17.626323 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.627745 #5038] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.629133 #5038] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8441920777"], ["active", 1]]
D, [2020-04-01T20:49:17.630363 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.631515 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.632869 #5038] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "317055860"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.634245 #5038] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "317055860"], ["date_of_birth", "2001-04-01"], ["phone", "5400771144"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:49:17.635604 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.636859 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.638073 #5038] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:49:17.639215 #5038] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:49:17.640364 #5038] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.644905 #5038] DEBUG -- :   [1m[36mAssignment Exists (3.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.646163 #5038] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:49:17.647215 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.648203 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:49:17.649382 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.650763 #5038] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "005239291"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.652103 #5038] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "005239291"], ["date_of_birth", "2001-04-01"], ["phone", "9705623629"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:49:17.653427 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:49:17.654800 #5038]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 20:49:17 +0000
F, [2020-04-01T20:49:17.669360 #5038] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:37:in `'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:49:17.677684 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:49:17.678633 #5038] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:49:17.683861 #5038] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:49:17.684171 #5038]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T20:49:17.684265 #5038]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T20:49:17.684332 #5038]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T20:49:17.685157 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.686574 #5038] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.687929 #5038] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6138724877"], ["active", 1]]
D, [2020-04-01T20:49:17.689175 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.690348 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.691688 #5038] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "336853768"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.693003 #5038] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "336853768"], ["date_of_birth", "2001-04-01"], ["phone", "6239954693"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:49:17.694403 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.695842 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.705946 #5038] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:49:17.707065 #5038] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:49:17.708227 #5038] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.709727 #5038] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.710904 #5038] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:49:17.712003 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.712875 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T20:49:17.717961 #5038]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 20:49:17 +0000
F, [2020-04-01T20:49:17.728071 #5038] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:37:in `'
  test/controllers/assignments_controller_test.rb:48:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:47:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:49:17.734218 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:49:17.735105 #5038] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:49:17.740348 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:49:17.740682 #5038]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:49:17.740757 #5038]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T20:49:17.740820 #5038]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:49:17.741691 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.743066 #5038] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.744504 #5038] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8766386610"], ["active", 1]]
D, [2020-04-01T20:49:17.745870 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.747096 #5038] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.748479 #5038] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "355919135"], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.753862 #5038] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "355919135"], ["date_of_birth", "2001-04-01"], ["phone", "9528990685"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:49:17.755176 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.756454 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:49:17.757749 #5038] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:49:17.758833 #5038] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:49:17.759958 #5038] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.761525 #5038] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:49:17.766807 #5038] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:49:17.767784 #5038] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:49:17.768888 #5038]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 20:49:17 +0000
F, [2020-04-01T20:49:17.778891 #5038] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:37:in `'
  test/controllers/assignments_controller_test.rb:18:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:49:17.782704 #5038] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:50:27.653360 #5135] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:50:27.747430 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:50:27.747854 #5135]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T20:50:27.747904 #5135]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T20:50:27.747929 #5135]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T20:50:27.873319 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:27.874909 #5135] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:50:27.876264 #5135] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4135766058"], ["active", 1]]
D, [2020-04-01T20:50:27.877342 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:27.889415 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:27.895747 #5135] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "029838995"], ["LIMIT", 1]]
D, [2020-04-01T20:50:27.896939 #5135] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "029838995"], ["date_of_birth", "2001-04-01"], ["phone", "5897815740"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:50:27.898051 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:27.913831 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:27.915233 #5135] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:50:27.916745 #5135] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:50:27.918038 #5135] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:50:27.928423 #5135] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:50:27.929420 #5135] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:50:27.930227 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:27.930930 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:50:27.931981 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:27.933046 #5135] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "052997186"], ["LIMIT", 1]]
D, [2020-04-01T20:50:27.934086 #5135] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "052997186"], ["date_of_birth", "2001-04-01"], ["phone", "0183523825"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:50:27.935123 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:50:27.944870 #5135]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 20:50:27 +0000
F, [2020-04-01T20:50:27.964076 #5135] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:38:in `'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:50:27.980309 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:50:27.981259 #5135] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:50:27.986773 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:50:27.987061 #5135]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T20:50:27.987133 #5135]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T20:50:27.987247 #5135]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T20:50:27.988061 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:27.989419 #5135] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:50:27.990880 #5135] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6193963183"], ["active", 1]]
D, [2020-04-01T20:50:27.992096 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:27.993213 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:27.997403 #5135] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "061019342"], ["LIMIT", 1]]
D, [2020-04-01T20:50:27.998734 #5135] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "061019342"], ["date_of_birth", "2001-04-01"], ["phone", "2894327951"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:50:27.999952 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.001199 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.002417 #5135] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:50:28.003482 #5135] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:50:28.004536 #5135] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.006044 #5135] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.007164 #5135] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:50:28.008118 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:50:28.009409 #5135]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 20:50:28 +0000
F, [2020-04-01T20:50:28.022808 #5135] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:38:in `'
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:50:28.030654 #5135] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:50:28.035351 #5135] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:50:28.035679 #5135]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T20:50:28.035751 #5135]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T20:50:28.035815 #5135]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T20:50:28.036714 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.038147 #5135] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.039618 #5135] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0450306655"], ["active", 1]]
D, [2020-04-01T20:50:28.040938 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.042184 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.043500 #5135] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "138581658"], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.044786 #5135] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "138581658"], ["date_of_birth", "2001-04-01"], ["phone", "8914328260"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:50:28.046090 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.047201 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.048301 #5135] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:50:28.049379 #5135] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:50:28.054583 #5135] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.056090 #5135] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.057285 #5135] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:50:28.058288 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.059163 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T20:50:28.060220 #5135]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 20:50:28 +0000
F, [2020-04-01T20:50:28.074420 #5135] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:38:in `'
  test/controllers/assignments_controller_test.rb:48:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:47:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:50:28.078281 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:50:28.079124 #5135] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:50:28.086806 #5135] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:50:28.087117 #5135]  INFO -- : ------------------------------------------------
I, [2020-04-01T20:50:28.087221 #5135]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T20:50:28.087287 #5135]  INFO -- : ------------------------------------------------
D, [2020-04-01T20:50:28.088122 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.089568 #5135] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.091028 #5135] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2877169654"], ["active", 1]]
D, [2020-04-01T20:50:28.092357 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.093530 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.094909 #5135] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "122351297"], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.096234 #5135] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "122351297"], ["date_of_birth", "2001-04-01"], ["phone", "5644472327"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:50:28.097586 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.098873 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.100054 #5135] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:50:28.101195 #5135] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:50:28.106352 #5135] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.107848 #5135] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.109008 #5135] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:50:28.109983 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:50:28.111133 #5135]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 20:50:28 +0000
F, [2020-04-01T20:50:28.124863 #5135] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:38:in `'
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:50:28.129299 #5135] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:50:28.138264 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:50:28.138592 #5135]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T20:50:28.138704 #5135]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T20:50:28.138765 #5135]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T20:50:28.139676 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.141147 #5135] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.142562 #5135] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6871793373"], ["active", 1]]
D, [2020-04-01T20:50:28.143863 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.145024 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.146391 #5135] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "035016851"], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.147702 #5135] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "035016851"], ["date_of_birth", "2001-04-01"], ["phone", "9293680856"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:50:28.149009 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.150269 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.151410 #5135] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:50:28.152512 #5135] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:50:28.153743 #5135] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.155192 #5135] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.156379 #5135] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:50:28.157409 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.162389 #5135] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:50:28.198531 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:50:28.198961 #5135]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T20:50:28.199052 #5135]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T20:50:28.199125 #5135]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T20:50:28.200008 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.201736 #5135] DEBUG -- :   [1m[36mStore Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.203233 #5135] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7918185126"], ["active", 1]]
D, [2020-04-01T20:50:28.204706 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.205936 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.207311 #5135] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "252058097"], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.208716 #5135] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "252058097"], ["date_of_birth", "2001-04-01"], ["phone", "5613646062"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:50:28.210127 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.211364 #5135] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.212605 #5135] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:50:28.217809 #5135] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:50:28.218974 #5135] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.220565 #5135] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.221861 #5135] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:50:28.222818 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:50:28.224008 #5135]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 20:50:28 +0000
F, [2020-04-01T20:50:28.243138 #5135] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:38:in `'
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:50:28.247162 #5135] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:50:28.248086 #5135] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:50:28.248382 #5135]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:50:28.248460 #5135]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T20:50:28.248516 #5135]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:50:28.249367 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.255188 #5135] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.256650 #5135] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1555266988"], ["active", 1]]
D, [2020-04-01T20:50:28.257988 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.259236 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.260561 #5135] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "233464496"], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.261864 #5135] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "233464496"], ["date_of_birth", "2001-04-01"], ["phone", "6684678366"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:50:28.263215 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.264434 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:50:28.265539 #5135] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:50:28.266852 #5135] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:50:28.267946 #5135] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.269362 #5135] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:50:28.270607 #5135] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:50:28.271532 #5135] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:50:28.272618 #5135]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 20:50:28 +0000
F, [2020-04-01T20:50:28.287221 #5135] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:38:in `'
  test/controllers/assignments_controller_test.rb:18:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:50:28.291168 #5135] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:52:09.678531 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:52:09.766579 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:52:09.766948 #5249]  INFO -- : ------------------------------------------------
I, [2020-04-01T20:52:09.766988 #5249]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T20:52:09.767026 #5249]  INFO -- : ------------------------------------------------
D, [2020-04-01T20:52:09.864824 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:09.870466 #5249] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:52:09.871855 #5249] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7920378048"], ["active", 1]]
D, [2020-04-01T20:52:09.872944 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:09.889093 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:09.891377 #5249] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "296219850"], ["LIMIT", 1]]
D, [2020-04-01T20:52:09.892559 #5249] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "296219850"], ["date_of_birth", "2001-04-01"], ["phone", "2587923779"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:52:09.893634 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:09.911499 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:09.912918 #5249] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:52:09.918559 #5249] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:52:09.919802 #5249] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:52:09.926117 #5249] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:52:09.927050 #5249] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:52:09.927815 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:52:09.931978 #5249]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 20:52:09 +0000
F, [2020-04-01T20:52:09.954656 #5249] FATAL -- : 
SyntaxError - syntax error, unexpected ',', expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
  before_action :, only: [ :destroy, :terminate]
                 ^
/home/ubuntu/Project/app/controllers/assignments_controller.rb:38: syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:2:in `'
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:52:09.971356 #5249] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:52:09.972420 #5249] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:52:09.972756 #5249]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T20:52:09.972834 #5249]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T20:52:09.972906 #5249]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T20:52:09.974228 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:09.975732 #5249] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:52:09.977141 #5249] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9416107010"], ["active", 1]]
D, [2020-04-01T20:52:09.978428 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:09.979623 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:09.980920 #5249] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "097809205"], ["LIMIT", 1]]
D, [2020-04-01T20:52:09.986307 #5249] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "097809205"], ["date_of_birth", "2001-04-01"], ["phone", "4836648600"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:52:09.987608 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:09.988817 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:09.990098 #5249] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:52:09.991223 #5249] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:52:09.992281 #5249] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:52:09.993850 #5249] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:52:09.995005 #5249] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:52:09.996053 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:52:10.000833 #5249]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 20:52:10 +0000
F, [2020-04-01T20:52:10.012570 #5249] FATAL -- : 
SyntaxError - syntax error, unexpected ',', expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
  before_action :, only: [ :destroy, :terminate]
                 ^
/home/ubuntu/Project/app/controllers/assignments_controller.rb:38: syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:2:in `'
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:52:10.016460 #5249] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:52:10.017420 #5249] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:52:10.017725 #5249]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T20:52:10.018275 #5249]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T20:52:10.018354 #5249]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T20:52:10.019237 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.020623 #5249] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.026059 #5249] DEBUG -- :   [1m[36mStore Create (4.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5869719702"], ["active", 1]]
D, [2020-04-01T20:52:10.027372 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.028581 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.030023 #5249] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "184409730"], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.031365 #5249] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "184409730"], ["date_of_birth", "2001-04-01"], ["phone", "4615102672"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:52:10.032589 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.037839 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.039071 #5249] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:52:10.040200 #5249] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:52:10.041281 #5249] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.042856 #5249] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.044023 #5249] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:52:10.045011 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:52:10.046274 #5249]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 20:52:10 +0000
F, [2020-04-01T20:52:10.060510 #5249] FATAL -- : 
SyntaxError - syntax error, unexpected ',', expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
  before_action :, only: [ :destroy, :terminate]
                 ^
/home/ubuntu/Project/app/controllers/assignments_controller.rb:38: syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:2:in `'
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:52:10.064465 #5249] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:52:10.065406 #5249] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:52:10.065746 #5249]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T20:52:10.066255 #5249]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T20:52:10.066326 #5249]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T20:52:10.067176 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.068528 #5249] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.069933 #5249] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3978221548"], ["active", 1]]
D, [2020-04-01T20:52:10.071220 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.072385 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.073713 #5249] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "211534492"], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.075043 #5249] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "211534492"], ["date_of_birth", "2001-04-01"], ["phone", "6255021646"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:52:10.076362 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.077549 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.082826 #5249] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:52:10.083974 #5249] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:52:10.085074 #5249] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.086837 #5249] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.088028 #5249] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:52:10.089016 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.089933 #5249] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:52:10.126232 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:52:10.126623 #5249]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T20:52:10.126702 #5249]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T20:52:10.126769 #5249]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T20:52:10.130168 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.131572 #5249] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.133056 #5249] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0436298735"], ["active", 1]]
D, [2020-04-01T20:52:10.134392 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.135594 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.136941 #5249] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238090766"], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.141823 #5249] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "238090766"], ["date_of_birth", "2001-04-01"], ["phone", "5610206664"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:52:10.143148 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.144407 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.145637 #5249] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:52:10.146714 #5249] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:52:10.147789 #5249] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.149265 #5249] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.154522 #5249] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:52:10.155559 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.156557 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:52:10.157839 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.159225 #5249] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "195111844"], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.160599 #5249] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "195111844"], ["date_of_birth", "2001-04-01"], ["phone", "2134738805"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:52:10.166042 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:52:10.167387 #5249]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 20:52:10 +0000
F, [2020-04-01T20:52:10.182431 #5249] FATAL -- : 
SyntaxError - syntax error, unexpected ',', expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
  before_action :, only: [ :destroy, :terminate]
                 ^
/home/ubuntu/Project/app/controllers/assignments_controller.rb:38: syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:2:in `'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:52:10.190826 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:52:10.191731 #5249] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:52:10.194404 #5249] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:52:10.194706 #5249]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T20:52:10.194786 #5249]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T20:52:10.194849 #5249]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T20:52:10.195726 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.197101 #5249] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.198549 #5249] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2770880137"], ["active", 1]]
D, [2020-04-01T20:52:10.199946 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.201193 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.206802 #5249] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "315588577"], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.208248 #5249] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "315588577"], ["date_of_birth", "2001-04-01"], ["phone", "5861245909"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:52:10.209482 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.210766 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.212004 #5249] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:52:10.213125 #5249] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:52:10.218387 #5249] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.220049 #5249] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.221361 #5249] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:52:10.222530 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.228255 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T20:52:10.229349 #5249]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 20:52:10 +0000
F, [2020-04-01T20:52:10.243930 #5249] FATAL -- : 
SyntaxError - syntax error, unexpected ',', expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
  before_action :, only: [ :destroy, :terminate]
                 ^
/home/ubuntu/Project/app/controllers/assignments_controller.rb:38: syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:2:in `'
  test/controllers/assignments_controller_test.rb:48:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:47:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:52:10.248007 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:52:10.248905 #5249] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:52:10.254270 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:52:10.254546 #5249]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:52:10.254649 #5249]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T20:52:10.254713 #5249]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:52:10.255550 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.256932 #5249] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.258381 #5249] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3680958078"], ["active", 1]]
D, [2020-04-01T20:52:10.259688 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.260829 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.262212 #5249] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "350484098"], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.263549 #5249] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "350484098"], ["date_of_birth", "2001-04-01"], ["phone", "3164189080"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:52:10.264874 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.266119 #5249] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:52:10.267318 #5249] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:52:10.268350 #5249] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:52:10.269417 #5249] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.274943 #5249] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:52:10.276104 #5249] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:52:10.277054 #5249] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:52:10.278178 #5249]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 20:52:10 +0000
F, [2020-04-01T20:52:10.288189 #5249] FATAL -- : 
SyntaxError - syntax error, unexpected ',', expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
  before_action :, only: [ :destroy, :terminate]
                 ^
/home/ubuntu/Project/app/controllers/assignments_controller.rb:38: syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:2:in `'
  test/controllers/assignments_controller_test.rb:18:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:52:10.292149 #5249] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:57:00.815121 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:57:00.912050 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:57:00.912440 #5576]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T20:57:00.912478 #5576]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T20:57:00.912501 #5576]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T20:57:01.019427 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.020961 #5576] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.022320 #5576] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2749985859"], ["active", 1]]
D, [2020-04-01T20:57:01.023413 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.041419 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.043693 #5576] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "302072404"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.044916 #5576] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "302072404"], ["date_of_birth", "2001-04-01"], ["phone", "2996652305"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:57:01.050082 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.068334 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.073923 #5576] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:57:01.075553 #5576] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:57:01.076818 #5576] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.083191 #5576] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.084150 #5576] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:57:01.084940 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.089686 #5576] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:57:01.090791 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.091885 #5576] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "174704222"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.092983 #5576] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "174704222"], ["date_of_birth", "2001-04-01"], ["phone", "3407153503"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:57:01.094053 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:57:01.103855 #5576]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 20:57:01 +0000
F, [2020-04-01T20:57:01.132753 #5576] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:36:in `'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:57:01.141710 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:57:01.142625 #5576] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:57:01.147225 #5576] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:57:01.147492 #5576]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T20:57:01.147617 #5576]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T20:57:01.147675 #5576]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T20:57:01.148518 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.149913 #5576] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.151375 #5576] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0738814796"], ["active", 1]]
D, [2020-04-01T20:57:01.152625 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.153833 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.155147 #5576] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "065378175"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.156459 #5576] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "065378175"], ["date_of_birth", "2001-04-01"], ["phone", "3509001776"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:57:01.161083 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.162416 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.163640 #5576] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:57:01.164755 #5576] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:57:01.165846 #5576] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.167299 #5576] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.168484 #5576] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:57:01.169412 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:57:01.170748 #5576]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 20:57:01 +0000
F, [2020-04-01T20:57:01.180260 #5576] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:36:in `'
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:57:01.188103 #5576] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:57:01.189833 #5576] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:57:01.190148 #5576]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T20:57:01.190218 #5576]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T20:57:01.190275 #5576]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T20:57:01.191130 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.192489 #5576] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.193929 #5576] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7532185985"], ["active", 1]]
D, [2020-04-01T20:57:01.195227 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.196393 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.201699 #5576] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "154551388"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.203029 #5576] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "154551388"], ["date_of_birth", "2001-04-01"], ["phone", "3383891091"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:57:01.204353 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.205655 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.206867 #5576] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:57:01.207962 #5576] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:57:01.208990 #5576] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.210477 #5576] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.211647 #5576] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:57:01.212595 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.213510 #5576] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:57:01.249347 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:57:01.251697 #5576]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:57:01.251779 #5576]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T20:57:01.251841 #5576]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:57:01.252730 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.254127 #5576] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.255563 #5576] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0602775050"], ["active", 1]]
D, [2020-04-01T20:57:01.256827 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.258021 #5576] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.259365 #5576] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "101265355"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.260677 #5576] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "101265355"], ["date_of_birth", "2001-04-01"], ["phone", "2297763533"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:57:01.262001 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.263220 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.264434 #5576] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:57:01.265550 #5576] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:57:01.266652 #5576] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.268115 #5576] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.269304 #5576] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:57:01.274345 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:57:01.275483 #5576]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 20:57:01 +0000
F, [2020-04-01T20:57:01.285439 #5576] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:36:in `'
  test/controllers/assignments_controller_test.rb:18:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:57:01.293915 #5576] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:57:01.295680 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:57:01.295968 #5576]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T20:57:01.296042 #5576]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T20:57:01.296115 #5576]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T20:57:01.296994 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.298474 #5576] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.299915 #5576] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2179845630"], ["active", 1]]
D, [2020-04-01T20:57:01.301227 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.302428 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.303696 #5576] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084165009"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.305024 #5576] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "084165009"], ["date_of_birth", "2001-04-01"], ["phone", "7775191013"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:57:01.310419 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.311711 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.312989 #5576] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:57:01.314206 #5576] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:57:01.315378 #5576] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.316953 #5576] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.318233 #5576] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:57:01.319299 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.320230 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T20:57:01.321381 #5576]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 20:57:01 +0000
F, [2020-04-01T20:57:01.336128 #5576] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:36:in `'
  test/controllers/assignments_controller_test.rb:48:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:47:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:57:01.342587 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:57:01.343486 #5576] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:57:01.345452 #5576] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:57:01.345787 #5576]  INFO -- : ------------------------------------------------
I, [2020-04-01T20:57:01.345879 #5576]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T20:57:01.345936 #5576]  INFO -- : ------------------------------------------------
D, [2020-04-01T20:57:01.346804 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.348174 #5576] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.349682 #5576] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9286197722"], ["active", 1]]
D, [2020-04-01T20:57:01.351120 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.352366 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.353800 #5576] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "342595171"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.355144 #5576] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "342595171"], ["date_of_birth", "2001-04-01"], ["phone", "0732556213"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:57:01.356580 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.361944 #5576] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.363350 #5576] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:57:01.364476 #5576] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:57:01.365734 #5576] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.367409 #5576] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.368676 #5576] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:57:01.378239 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:57:01.379409 #5576]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 20:57:01 +0000
F, [2020-04-01T20:57:01.389543 #5576] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:36:in `'
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:57:01.393455 #5576] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:57:01.398207 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:57:01.398495 #5576]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T20:57:01.398584 #5576]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T20:57:01.398647 #5576]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T20:57:01.399509 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.400958 #5576] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.402448 #5576] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8185619620"], ["active", 1]]
D, [2020-04-01T20:57:01.403741 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.404920 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.406338 #5576] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "078729255"], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.407709 #5576] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "078729255"], ["date_of_birth", "2001-04-01"], ["phone", "5462740580"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:57:01.409010 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.414354 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:57:01.415627 #5576] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:57:01.416741 #5576] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:57:01.417855 #5576] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.419383 #5576] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:57:01.420561 #5576] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:57:01.421559 #5576] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:57:01.422775 #5576]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 20:57:01 +0000
F, [2020-04-01T20:57:01.432766 #5576] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:36:in `'
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:57:01.440044 #5576] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:58:33.135546 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:58:33.226292 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:58:33.226700 #5686]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T20:58:33.226739 #5686]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T20:58:33.226764 #5686]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T20:58:33.316091 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.317609 #5686] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.323028 #5686] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0017798083"], ["active", 1]]
D, [2020-04-01T20:58:33.324146 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.340231 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.342529 #5686] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "363585854"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.343756 #5686] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "363585854"], ["date_of_birth", "2001-04-01"], ["phone", "8261473498"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:33.344866 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.358367 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.359707 #5686] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:33.361220 #5686] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:33.362467 #5686] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.368755 #5686] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.369721 #5686] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:58:33.370513 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.371282 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:58:33.372382 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.373434 #5686] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "235322233"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.374570 #5686] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "235322233"], ["date_of_birth", "2001-04-01"], ["phone", "4057740069"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:33.375620 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:58:33.381450 #5686]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 20:58:33 +0000
F, [2020-04-01T20:58:33.411630 #5686] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:36:in `'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:58:33.418124 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:58:33.419037 #5686] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:58:33.420955 #5686] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:58:33.421225 #5686]  INFO -- : ------------------------------------------------
I, [2020-04-01T20:58:33.421295 #5686]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T20:58:33.421351 #5686]  INFO -- : ------------------------------------------------
D, [2020-04-01T20:58:33.422259 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.423578 #5686] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.425014 #5686] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5396773755"], ["active", 1]]
D, [2020-04-01T20:58:33.430357 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.431572 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.432916 #5686] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "224173989"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.438315 #5686] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "224173989"], ["date_of_birth", "2001-04-01"], ["phone", "9886525412"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:33.439647 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.440971 #5686] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.442235 #5686] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:33.443354 #5686] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:33.444447 #5686] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.445937 #5686] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.447125 #5686] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:58:33.448065 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:58:33.449219 #5686]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 20:58:33 +0000
F, [2020-04-01T20:58:33.463025 #5686] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:36:in `'
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:58:33.467385 #5686] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:58:33.474651 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:58:33.474985 #5686]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:58:33.475061 #5686]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T20:58:33.475154 #5686]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:58:33.476063 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.477505 #5686] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.479048 #5686] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2963126815"], ["active", 1]]
D, [2020-04-01T20:58:33.480307 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.481489 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.482905 #5686] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "242839675"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.484222 #5686] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "242839675"], ["date_of_birth", "2001-04-01"], ["phone", "2044052332"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:33.485503 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.486719 #5686] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.487962 #5686] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:33.489100 #5686] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:33.490215 #5686] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.491781 #5686] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.492938 #5686] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:58:33.494700 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:58:33.495871 #5686]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 20:58:33 +0000
F, [2020-04-01T20:58:33.505583 #5686] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:36:in `'
  test/controllers/assignments_controller_test.rb:18:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:58:33.513467 #5686] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:58:33.518844 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:58:33.519207 #5686]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T20:58:33.519282 #5686]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T20:58:33.519366 #5686]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T20:58:33.520315 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.521822 #5686] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.523252 #5686] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6209510283"], ["active", 1]]
D, [2020-04-01T20:58:33.524540 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.525733 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.527026 #5686] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "036451519"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.528382 #5686] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "036451519"], ["date_of_birth", "2001-04-01"], ["phone", "8392681487"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:33.529803 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.530985 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.532177 #5686] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:33.533306 #5686] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:33.538443 #5686] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.539968 #5686] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.541159 #5686] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:58:33.542148 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:58:33.543287 #5686]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 20:58:33 +0000
F, [2020-04-01T20:58:33.557773 #5686] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:36:in `'
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:58:33.561770 #5686] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:58:33.563414 #5686] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:58:33.563709 #5686]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T20:58:33.563781 #5686]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T20:58:33.563852 #5686]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T20:58:33.564690 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.566097 #5686] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.567551 #5686] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8918794323"], ["active", 1]]
D, [2020-04-01T20:58:33.568787 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.570038 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.571466 #5686] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "026807895"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.572806 #5686] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "026807895"], ["date_of_birth", "2001-04-01"], ["phone", "9964052424"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:33.578159 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.579456 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.580739 #5686] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:33.581948 #5686] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:33.583170 #5686] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.584754 #5686] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.586060 #5686] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:58:33.587142 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.588108 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T20:58:33.589238 #5686]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 20:58:33 +0000
F, [2020-04-01T20:58:33.600463 #5686] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:36:in `'
  test/controllers/assignments_controller_test.rb:48:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:47:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:58:33.608875 #5686] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:58:33.613855 #5686] DEBUG -- :   [1m[35m (4.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:58:33.614849 #5686] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:58:33.615143 #5686]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T20:58:33.615218 #5686]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T20:58:33.615325 #5686]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T20:58:33.616246 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.617749 #5686] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.619324 #5686] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8438391460"], ["active", 1]]
D, [2020-04-01T20:58:33.620786 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.626160 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.627695 #5686] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "248082890"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.629204 #5686] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "248082890"], ["date_of_birth", "2001-04-01"], ["phone", "9014753908"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:33.630492 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.631762 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.633152 #5686] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:33.634406 #5686] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:33.635679 #5686] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.637394 #5686] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.638863 #5686] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:58:33.640027 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.645468 #5686] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:58:33.689189 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:58:33.689555 #5686]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T20:58:33.689663 #5686]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T20:58:33.689733 #5686]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T20:58:33.690631 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.692089 #5686] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.693564 #5686] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4113093437"], ["active", 1]]
D, [2020-04-01T20:58:33.697427 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.698656 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.700108 #5686] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "348414453"], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.701464 #5686] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "348414453"], ["date_of_birth", "2001-04-01"], ["phone", "1811024757"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:33.706857 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.708156 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:33.709446 #5686] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:33.710582 #5686] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:33.711699 #5686] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.713229 #5686] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:33.718464 #5686] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:58:33.719437 #5686] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:58:33.720780 #5686]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 20:58:33 +0000
F, [2020-04-01T20:58:33.734772 #5686] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end, expecting end-of-input:
  app/controllers/assignments_controller.rb:36:in `'
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T20:58:33.738896 #5686] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:58:51.615120 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T20:58:51.692699 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:58:51.693081 #5724]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T20:58:51.693120 #5724]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T20:58:51.693156 #5724]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T20:58:51.794453 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:51.796034 #5724] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:58:51.797313 #5724] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2158205828"], ["active", 1]]
D, [2020-04-01T20:58:51.798370 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:51.813966 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:51.816165 #5724] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "102899456"], ["LIMIT", 1]]
D, [2020-04-01T20:58:51.817306 #5724] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "102899456"], ["date_of_birth", "2001-04-01"], ["phone", "2717668711"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:51.822461 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:51.840021 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:51.841442 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:51.842954 #5724] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:51.844149 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:51.852261 #5724] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:51.853197 #5724] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:58:51.853959 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:51.854635 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:58:51.855644 #5724] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:51.856667 #5724] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "182597228"], ["LIMIT", 1]]
D, [2020-04-01T20:58:51.857712 #5724] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "182597228"], ["date_of_birth", "2001-04-01"], ["phone", "1668306017"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:51.858699 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:58:51.868453 #5724]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 20:58:51 +0000
I, [2020-04-01T20:58:51.874591 #5724]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T20:58:51.874869 #5724]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T20:58:51.883572 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:51.887347 #5724] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:51.888920 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T20:58:51.890310 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:51.891416 #5724] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:51.892473 #5724] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T20:58:51.905511 #5724] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T20:58:51.906804 #5724] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T20:58:51.907818 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:58:51.908965 #5724]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-04-01T20:58:51.913959 #5724]  INFO -- : Completed 302 Found in 39ms (ActiveRecord: 0.8ms)
D, [2020-04-01T20:58:51.920891 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:58:51.922376 #5724] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:58:51.924230 #5724] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:58:51.924492 #5724]  INFO -- : ------------------------------------------------
I, [2020-04-01T20:58:51.924555 #5724]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T20:58:51.924610 #5724]  INFO -- : ------------------------------------------------
D, [2020-04-01T20:58:51.925437 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:51.926801 #5724] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:58:51.928144 #5724] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6017143302"], ["active", 1]]
D, [2020-04-01T20:58:51.929372 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:51.930521 #5724] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:51.931803 #5724] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "073534740"], ["LIMIT", 1]]
D, [2020-04-01T20:58:51.933055 #5724] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "073534740"], ["date_of_birth", "2001-04-01"], ["phone", "4369326027"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:51.936326 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:51.937504 #5724] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:51.938709 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:51.939758 #5724] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:51.940811 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:51.942262 #5724] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:51.943361 #5724] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:58:51.944287 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:58:51.945439 #5724]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 20:58:51 +0000
I, [2020-04-01T20:58:51.950453 #5724]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T20:58:51.959711 #5724]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T20:58:51.960859 #5724]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.8ms)
I, [2020-04-01T20:58:52.257894 #5724]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T20:58:52.259213 #5724]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T20:58:52.260542 #5724]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T20:58:52.261987 #5724]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T20:58:52.262962 #5724]  INFO -- : Completed 200 OK in 312ms (Views: 310.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:58:52.268208 #5724] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:58:52.269307 #5724] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:58:52.269658 #5724]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T20:58:52.269744 #5724]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T20:58:52.269807 #5724]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T20:58:52.270678 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.272121 #5724] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.273527 #5724] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0487813193"], ["active", 1]]
D, [2020-04-01T20:58:52.274766 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.275944 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.277201 #5724] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "265670584"], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.278543 #5724] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "265670584"], ["date_of_birth", "2001-04-01"], ["phone", "1893412887"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:52.279731 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.280891 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.286119 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:52.287309 #5724] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:52.288406 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.289936 #5724] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.291098 #5724] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:58:52.292020 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:58:52.293302 #5724]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 20:58:52 +0000
I, [2020-04-01T20:58:52.294293 #5724]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T20:58:52.294570 #5724]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T20:58:52.295568 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.296716 #5724] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.646670 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:52.647995 #5724] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:52.649379 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T20:58:52.654057 #5724]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T20:58:52.654711 #5724]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T20:58:52.656074 #5724]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T20:58:52.656641 #5724]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:58:52.657246 #5724]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:58:52.657927 #5724]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:58:52.658973 #5724]  INFO -- : Completed 200 OK in 364ms (Views: 8.3ms | ActiveRecord: 0.4ms)
D, [2020-04-01T20:58:52.667390 #5724] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:58:52.670016 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:58:52.670295 #5724]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T20:58:52.670369 #5724]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T20:58:52.670434 #5724]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T20:58:52.671310 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.672685 #5724] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.674084 #5724] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0267916290"], ["active", 1]]
D, [2020-04-01T20:58:52.675297 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.676484 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.681894 #5724] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "089100783"], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.683279 #5724] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "089100783"], ["date_of_birth", "2001-04-01"], ["phone", "6508668549"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:52.684561 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.685829 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.687044 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:52.688142 #5724] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:52.689197 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.690683 #5724] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.691823 #5724] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:58:52.692800 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:58:52.698203 #5724]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 20:58:52 +0000
I, [2020-04-01T20:58:52.710272 #5724]  INFO -- : Processing by AssignmentsController#edit as HTML
I, [2020-04-01T20:58:52.710530 #5724]  INFO -- :   Parameters: {"id"=>"1"}
I, [2020-04-01T20:58:52.711923 #5724]  INFO -- :   Rendering assignments/edit.html.erb within layouts/application
I, [2020-04-01T20:58:52.712571 #5724]  INFO -- :   Rendered assignments/edit.html.erb within layouts/application (0.3ms)
I, [2020-04-01T20:58:52.713961 #5724]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:58:52.714500 #5724]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:58:52.715081 #5724]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T20:58:52.715707 #5724]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:58:52.716611 #5724]  INFO -- : Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:58:52.719810 #5724] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:58:52.721498 #5724] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:58:52.721809 #5724]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T20:58:52.721893 #5724]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T20:58:52.721952 #5724]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T20:58:52.722795 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.724144 #5724] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.725539 #5724] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3680564328"], ["active", 1]]
D, [2020-04-01T20:58:52.731072 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.732261 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.733586 #5724] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "375699470"], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.734943 #5724] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "375699470"], ["date_of_birth", "2001-04-01"], ["phone", "8580163423"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:52.736162 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.737318 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.738465 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:52.739488 #5724] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:52.740533 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.745994 #5724] DEBUG -- :   [1m[36mAssignment Exists (4.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.747174 #5724] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:58:52.748094 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.748998 #5724] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:58:52.778589 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:58:52.778976 #5724]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T20:58:52.779049 #5724]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T20:58:52.779107 #5724]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T20:58:52.779973 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.781311 #5724] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.782732 #5724] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5547214083"], ["active", 1]]
D, [2020-04-01T20:58:52.783951 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.785095 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.786439 #5724] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "089657578"], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.787764 #5724] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "089657578"], ["date_of_birth", "2001-04-01"], ["phone", "4555196167"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:52.788952 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.790188 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.791343 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:52.792417 #5724] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:52.793507 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.799011 #5724] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.800179 #5724] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:58:52.801107 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.802017 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T20:58:52.803023 #5724]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 20:58:52 +0000
I, [2020-04-01T20:58:52.804038 #5724]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T20:58:52.804304 #5724]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T20:58:52.805376 #5724] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.806401 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.807337 #5724] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T20:58:52.808204 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:58:52.808960 #5724]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T20:58:52.809827 #5724]  INFO -- : Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
D, [2020-04-01T20:58:52.813068 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T20:58:52.835395 #5724] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T20:58:52.839342 #5724] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T20:58:52.839669 #5724]  INFO -- : ----------------------------------------------
I, [2020-04-01T20:58:52.839750 #5724]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T20:58:52.839815 #5724]  INFO -- : ----------------------------------------------
D, [2020-04-01T20:58:52.840708 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.842137 #5724] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.843517 #5724] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6040577993"], ["active", 1]]
D, [2020-04-01T20:58:52.844801 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.846025 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.847326 #5724] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "370577267"], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.848650 #5724] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "370577267"], ["date_of_birth", "2001-04-01"], ["phone", "0001320014"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T20:58:52.853932 #5724] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.855256 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T20:58:52.856498 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:52.857599 #5724] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T20:58:52.858746 #5724] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.860250 #5724] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T20:58:52.861415 #5724] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T20:58:52.862418 #5724] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T20:58:52.863538 #5724]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 20:58:52 +0000
I, [2020-04-01T20:58:52.864524 #5724]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T20:58:52.865490 #5724]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T20:58:52.869041 #5724]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T20:58:52.870346 #5724]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T20:58:52.870944 #5724]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T20:58:52.871507 #5724]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T20:58:52.872110 #5724]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T20:58:52.872975 #5724]  INFO -- : Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T20:58:52.875964 #5724] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:01:17.622973 #5886] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T21:01:17.707558 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:01:17.707918 #5886]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T21:01:17.707957 #5886]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T21:01:17.707978 #5886]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T21:01:17.831121 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:17.832673 #5886] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:01:17.842128 #5886] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0233623235"], ["active", 1]]
D, [2020-04-01T21:01:17.843296 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:17.859450 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:17.861741 #5886] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "350953362"], ["LIMIT", 1]]
D, [2020-04-01T21:01:17.862948 #5886] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "350953362"], ["date_of_birth", "2001-04-01"], ["phone", "0271674216"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:01:17.864022 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:17.883868 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:17.885330 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:17.886877 #5886] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:17.888122 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:17.898689 #5886] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:17.899721 #5886] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:01:17.900483 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:17.901211 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:01:17.902276 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:17.903362 #5886] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "041249521"], ["LIMIT", 1]]
D, [2020-04-01T21:01:17.904389 #5886] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "041249521"], ["date_of_birth", "2001-04-01"], ["phone", "4724550472"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:01:17.905426 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:01:17.915286 #5886]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:01:17 +0000
I, [2020-04-01T21:01:17.921539 #5886]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:01:17.925864 #5886]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:01:17.930604 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:17.932452 #5886] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:17.936323 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:01:17.937741 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:17.938859 #5886] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:17.939922 #5886] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:01:17.941418 #5886] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:01:17.946734 #5886] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T21:01:17.955174 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:01:17.956389 #5886]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-04-01T21:01:17.957338 #5886]  INFO -- : Completed 302 Found in 31ms (ActiveRecord: 0.8ms)
D, [2020-04-01T21:01:17.966806 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:01:17.968388 #5886] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:01:17.969364 #5886] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:01:17.969679 #5886]  INFO -- : ------------------------------------------------
I, [2020-04-01T21:01:17.969753 #5886]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T21:01:17.969817 #5886]  INFO -- : ------------------------------------------------
D, [2020-04-01T21:01:17.970701 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:17.972042 #5886] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:01:17.973373 #5886] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9667738209"], ["active", 1]]
D, [2020-04-01T21:01:17.974626 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:17.975794 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:17.977096 #5886] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "125298725"], ["LIMIT", 1]]
D, [2020-04-01T21:01:17.982498 #5886] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "125298725"], ["date_of_birth", "2001-04-01"], ["phone", "8949766139"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:01:17.983736 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:17.984978 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:17.986235 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:17.987303 #5886] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:17.988403 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:17.989857 #5886] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:17.990975 #5886] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:01:17.991944 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:01:17.993180 #5886]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 21:01:17 +0000
I, [2020-04-01T21:01:17.998328 #5886]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T21:01:18.002385 #5886]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T21:01:18.003452 #5886]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.7ms)
I, [2020-04-01T21:01:18.221952 #5886]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T21:01:18.223357 #5886]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T21:01:18.224744 #5886]  INFO -- :   Rendered partials/_quick_links.html.erb (0.5ms)
I, [2020-04-01T21:01:18.228870 #5886]  INFO -- :   Rendered partials/_footer.html.erb (3.1ms)
I, [2020-04-01T21:01:18.229893 #5886]  INFO -- : Completed 200 OK in 231ms (Views: 229.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:01:18.233378 #5886] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:01:18.234094 #5886] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:01:18.234406 #5886]  INFO -- : ----------------------------------------------
I, [2020-04-01T21:01:18.234481 #5886]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T21:01:18.234537 #5886]  INFO -- : ----------------------------------------------
D, [2020-04-01T21:01:18.235451 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.236908 #5886] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.238331 #5886] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2499258451"], ["active", 1]]
D, [2020-04-01T21:01:18.239604 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.240818 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.242177 #5886] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "125692269"], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.243481 #5886] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "125692269"], ["date_of_birth", "2001-04-01"], ["phone", "5928213735"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:01:18.244778 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.245967 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.247202 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:18.248284 #5886] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:18.249357 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.254958 #5886] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.256144 #5886] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:01:18.257102 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:01:18.258303 #5886]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 21:01:18 +0000
I, [2020-04-01T21:01:18.259370 #5886]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T21:01:18.266357 #5886]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:01:18.266998 #5886]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.3ms)
I, [2020-04-01T21:01:18.268352 #5886]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:01:18.268924 #5886]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T21:01:18.269517 #5886]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:01:18.270184 #5886]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:01:18.271091 #5886]  INFO -- : Completed 200 OK in 11ms (Views: 4.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:01:18.274094 #5886] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:01:18.274800 #5886] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:01:18.275087 #5886]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T21:01:18.275158 #5886]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T21:01:18.275242 #5886]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T21:01:18.276063 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.277435 #5886] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.278844 #5886] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0075367184"], ["active", 1]]
D, [2020-04-01T21:01:18.280111 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.281260 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.282585 #5886] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "074444043"], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.283896 #5886] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "074444043"], ["date_of_birth", "2001-04-01"], ["phone", "7103435457"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:01:18.285330 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.286820 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.288116 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:18.289272 #5886] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:18.290425 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.292017 #5886] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.293283 #5886] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:01:18.294384 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:01:18.295602 #5886]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 21:01:18 +0000
F, [2020-04-01T21:01:18.354946 #5886] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T21:01:18.359257 #5886]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 21:01:18 +0000
F, [2020-04-01T21:01:18.381498 #5886] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T21:01:18.385538 #5886] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:01:18.392366 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:01:18.392720 #5886]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T21:01:18.392799 #5886]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T21:01:18.392861 #5886]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T21:01:18.393845 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.395344 #5886] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.396876 #5886] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5137129919"], ["active", 1]]
D, [2020-04-01T21:01:18.402261 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.403580 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.405094 #5886] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "328064445"], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.406542 #5886] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "328064445"], ["date_of_birth", "2001-04-01"], ["phone", "7429336344"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:01:18.407986 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.409332 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.410678 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:18.411890 #5886] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:18.413100 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.418879 #5886] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.420263 #5886] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:01:18.421380 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.422412 #5886] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:01:18.460143 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:01:18.460970 #5886]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T21:01:18.461083 #5886]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T21:01:18.461150 #5886]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T21:01:18.462166 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.463772 #5886] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.465421 #5886] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9515093010"], ["active", 1]]
D, [2020-04-01T21:01:18.467087 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.468497 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.470044 #5886] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "093076044"], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.471619 #5886] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "093076044"], ["date_of_birth", "2001-04-01"], ["phone", "6578615707"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:01:18.473409 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.479195 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.480751 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:18.482097 #5886] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:18.483421 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.485138 #5886] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.486450 #5886] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:01:18.487502 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.488478 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T21:01:18.489587 #5886]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 21:01:18 +0000
I, [2020-04-01T21:01:18.494796 #5886]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T21:01:18.495168 #5886]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T21:01:18.496458 #5886] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.497697 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.498895 #5886] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T21:01:18.499995 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:01:18.500920 #5886]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T21:01:18.502143 #5886]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-04-01T21:01:18.511878 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:01:18.526579 #5886] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:01:18.533498 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:01:18.533957 #5886]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T21:01:18.534032 #5886]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T21:01:18.534116 #5886]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T21:01:18.535186 #5886] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.536844 #5886] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.538763 #5886] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0094375642"], ["active", 1]]
D, [2020-04-01T21:01:18.541371 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.543608 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.549982 #5886] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "166114827"], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.552377 #5886] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "166114827"], ["date_of_birth", "2001-04-01"], ["phone", "4180369064"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:01:18.555426 #5886] DEBUG -- :   [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.557720 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.559920 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:18.565919 #5886] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:18.568054 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.570499 #5886] DEBUG -- :   [1m[36mAssignment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.572573 #5886] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:01:18.574952 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:01:18.576716 #5886]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:01:18 +0000
I, [2020-04-01T21:01:18.582147 #5886]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:01:18.582961 #5886]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:01:18.585117 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:01:18.587324 #5886] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:01:18.867418 #5886] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:18.868740 #5886] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:01:18.870114 #5886] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T21:01:18.871107 #5886]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:01:18.871482 #5886]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T21:01:18.872746 #5886]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:01:18.873305 #5886]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:01:18.877990 #5886]  INFO -- :   Rendered partials/_quick_links.html.erb (4.3ms)
I, [2020-04-01T21:01:18.878667 #5886]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:01:18.879756 #5886]  INFO -- : Completed 200 OK in 296ms (Views: 8.4ms | ActiveRecord: 0.4ms)
D, [2020-04-01T21:01:18.884190 #5886] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:05:42.522267 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T21:05:42.619398 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:05:42.619826 #6200]  INFO -- : ----------------------------------------------
I, [2020-04-01T21:05:42.619867 #6200]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T21:05:42.619891 #6200]  INFO -- : ----------------------------------------------
D, [2020-04-01T21:05:42.950567 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:42.952213 #6200] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:05:42.953531 #6200] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3210444968"], ["active", 1]]
D, [2020-04-01T21:05:42.958694 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:42.975036 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:42.977449 #6200] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "186157589"], ["LIMIT", 1]]
D, [2020-04-01T21:05:42.978751 #6200] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "186157589"], ["date_of_birth", "2001-04-01"], ["phone", "5415005533"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:05:42.979867 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.001130 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.003778 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.006602 #6200] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.007905 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.024075 #6200] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.025174 #6200] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:05:43.026060 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:05:43.030831 #6200]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 21:05:43 +0000
I, [2020-04-01T21:05:43.037253 #6200]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T21:05:43.044996 #6200]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:05:43.050360 #6200]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (5.0ms)
I, [2020-04-01T21:05:43.281685 #6200]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T21:05:43.283204 #6200]  INFO -- :   Rendered partials/_nav.html.erb (0.5ms)
I, [2020-04-01T21:05:43.284595 #6200]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T21:05:43.286051 #6200]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T21:05:43.287098 #6200]  INFO -- : Completed 200 OK in 250ms (Views: 244.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:05:43.295889 #6200] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:05:43.296698 #6200] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:05:43.297014 #6200]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T21:05:43.297102 #6200]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T21:05:43.297163 #6200]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T21:05:43.298117 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.299603 #6200] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.301036 #6200] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9963084689"], ["active", 1]]
D, [2020-04-01T21:05:43.306417 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.307718 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.309204 #6200] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "002264215"], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.310678 #6200] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "002264215"], ["date_of_birth", "2001-04-01"], ["phone", "4003838157"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:05:43.311935 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.313201 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.318248 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.319430 #6200] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.320576 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.322636 #6200] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.323802 #6200] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:05:43.324772 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:05:43.326107 #6200]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 21:05:43 +0000
F, [2020-04-01T21:05:43.352052 #6200] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T21:05:43.361123 #6200]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 21:05:43 +0000
F, [2020-04-01T21:05:43.390648 #6200] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T21:05:43.393994 #6200] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:05:43.394753 #6200] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:05:43.395010 #6200]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T21:05:43.395097 #6200]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T21:05:43.395206 #6200]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T21:05:43.396038 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.397464 #6200] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.403018 #6200] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5543442300"], ["active", 1]]
D, [2020-04-01T21:05:43.404271 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.405498 #6200] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.406948 #6200] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "361646618"], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.408248 #6200] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "361646618"], ["date_of_birth", "2001-04-01"], ["phone", "8144697968"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:05:43.409524 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.414820 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.416058 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.417126 #6200] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.418214 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.419696 #6200] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.420847 #6200] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:05:43.425870 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.426868 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:05:43.428151 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.429455 #6200] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "094773511"], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.430876 #6200] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "094773511"], ["date_of_birth", "2001-04-01"], ["phone", "8577706154"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:05:43.432104 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:05:43.440235 #6200]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:05:43 +0000
I, [2020-04-01T21:05:43.441307 #6200]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:05:43.441579 #6200]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:05:43.442794 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.444555 #6200] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.450332 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.451832 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.453005 #6200] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.454179 #6200] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.455841 #6200] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.457123 #6200] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T21:05:43.462203 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:05:43.463417 #6200]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-04-01T21:05:43.464359 #6200]  INFO -- : Completed 302 Found in 22ms (ActiveRecord: 0.7ms)
D, [2020-04-01T21:05:43.474103 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:05:43.475162 #6200] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:05:43.476068 #6200] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:05:43.476365 #6200]  INFO -- : ------------------------------------------------
I, [2020-04-01T21:05:43.476441 #6200]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T21:05:43.476527 #6200]  INFO -- : ------------------------------------------------
D, [2020-04-01T21:05:43.477389 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.478743 #6200] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.480155 #6200] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3256290928"], ["active", 1]]
D, [2020-04-01T21:05:43.481420 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.486705 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.488172 #6200] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "184887285"], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.489658 #6200] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "184887285"], ["date_of_birth", "2001-04-01"], ["phone", "7142208541"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:05:43.491071 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.492345 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.497638 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.498902 #6200] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.500074 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.501787 #6200] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.535819 #6200] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:05:43.537151 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:05:43.538484 #6200]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 21:05:43 +0000
I, [2020-04-01T21:05:43.539444 #6200]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T21:05:43.541665 #6200]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T21:05:43.542313 #6200]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.3ms)
I, [2020-04-01T21:05:43.543640 #6200]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:05:43.544183 #6200]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T21:05:43.544754 #6200]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:05:43.545382 #6200]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:05:43.549265 #6200]  INFO -- : Completed 200 OK in 9ms (Views: 4.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:05:43.553894 #6200] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:05:43.554673 #6200] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:05:43.555015 #6200]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T21:05:43.555105 #6200]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T21:05:43.555178 #6200]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T21:05:43.556120 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.561668 #6200] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.563268 #6200] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0401328736"], ["active", 1]]
D, [2020-04-01T21:05:43.564745 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.566247 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.567782 #6200] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "074574197"], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.569218 #6200] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "074574197"], ["date_of_birth", "2001-04-01"], ["phone", "5442464661"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:05:43.570666 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.572051 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.573282 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.578584 #6200] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.579764 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.581447 #6200] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.582883 #6200] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:05:43.583944 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.584910 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T21:05:43.586103 #6200]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 21:05:43 +0000
I, [2020-04-01T21:05:43.587120 #6200]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T21:05:43.587507 #6200]  INFO -- :   Parameters: {"id"=>"1"}
I, [2020-04-01T21:05:43.589043 #6200]  INFO -- : Completed 500  in 1ms (ActiveRecord: 0.0ms)
F, [2020-04-01T21:05:43.597930 #6200] FATAL -- : 
ArgumentError - wrong number of arguments (given 0, expected 1):
  app/controllers/assignments_controller.rb:28:in `destroy'
  test/controllers/assignments_controller_test.rb:48:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:47:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T21:05:43.602181 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:05:43.603074 #6200] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:05:43.604000 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:05:43.604282 #6200]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T21:05:43.604352 #6200]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T21:05:43.604441 #6200]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T21:05:43.605260 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.606645 #6200] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.608078 #6200] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9045168575"], ["active", 1]]
D, [2020-04-01T21:05:43.609402 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.610634 #6200] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.612000 #6200] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "270013795"], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.613399 #6200] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "270013795"], ["date_of_birth", "2001-04-01"], ["phone", "1931837716"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:05:43.618895 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.620257 #6200] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.621514 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.622710 #6200] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.623927 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.625535 #6200] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.626925 #6200] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:05:43.628017 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.628980 #6200] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:05:43.672251 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:05:43.672737 #6200]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T21:05:43.672845 #6200]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T21:05:43.672955 #6200]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T21:05:43.674096 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.675777 #6200] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.677569 #6200] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8707946392"], ["active", 1]]
D, [2020-04-01T21:05:43.679286 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.680660 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.682104 #6200] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "376356399"], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.683546 #6200] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "376356399"], ["date_of_birth", "2001-04-01"], ["phone", "2957499579"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:05:43.684992 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.690411 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.691867 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.693145 #6200] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.694520 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.696228 #6200] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.701727 #6200] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:05:43.703028 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:05:43.704616 #6200]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:05:43 +0000
I, [2020-04-01T21:05:43.705749 #6200]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:05:43.706125 #6200]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:05:43.707467 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:05:43.708978 #6200] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:05:43.980088 #6200] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.981426 #6200] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:05:43.982846 #6200] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T21:05:43.983813 #6200]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:05:43.984198 #6200]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T21:05:43.985549 #6200]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:05:43.990168 #6200]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:05:43.990780 #6200]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:05:43.991502 #6200]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:05:43.992632 #6200]  INFO -- : Completed 200 OK in 286ms (Views: 8.4ms | ActiveRecord: 0.4ms)
D, [2020-04-01T21:05:43.997147 #6200] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:06:04.728731 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T21:06:04.820331 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:06:04.820778 #6236]  INFO -- : ------------------------------------------------
I, [2020-04-01T21:06:04.820818 #6236]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T21:06:04.820840 #6236]  INFO -- : ------------------------------------------------
D, [2020-04-01T21:06:04.943223 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:04.944856 #6236] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:06:04.946267 #6236] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1883997754"], ["active", 1]]
D, [2020-04-01T21:06:04.947352 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:04.968318 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:04.974686 #6236] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "049319540"], ["LIMIT", 1]]
D, [2020-04-01T21:06:04.975982 #6236] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "049319540"], ["date_of_birth", "2001-04-01"], ["phone", "5276204668"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:06:04.977077 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:04.997449 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:04.998938 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.000500 #6236] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.008284 #6236] DEBUG -- :   [1m[36mEmployee Load (6.6ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.015170 #6236] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.016143 #6236] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:06:05.016989 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:06:05.023407 #6236]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 21:06:05 +0000
I, [2020-04-01T21:06:05.029574 #6236]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T21:06:05.040982 #6236]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T21:06:05.046135 #6236]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (4.8ms)
I, [2020-04-01T21:06:05.283551 #6236]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T21:06:05.284794 #6236]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T21:06:05.287605 #6236]  INFO -- :   Rendered partials/_quick_links.html.erb (1.9ms)
I, [2020-04-01T21:06:05.288915 #6236]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T21:06:05.289942 #6236]  INFO -- : Completed 200 OK in 256ms (Views: 250.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:06:05.299087 #6236] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:06:05.299876 #6236] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:06:05.300144 #6236]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T21:06:05.300214 #6236]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T21:06:05.300305 #6236]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T21:06:05.301207 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.306717 #6236] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.308132 #6236] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0317271309"], ["active", 1]]
D, [2020-04-01T21:06:05.309395 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.310672 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.312016 #6236] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "250467751"], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.313300 #6236] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "250467751"], ["date_of_birth", "2001-04-01"], ["phone", "4695946689"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:06:05.318595 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.319864 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.321061 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.322166 #6236] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.323241 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.324727 #6236] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.329860 #6236] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:06:05.330843 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.331744 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T21:06:05.332844 #6236]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 21:06:05 +0000
I, [2020-04-01T21:06:05.336976 #6236]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T21:06:05.337220 #6236]  INFO -- :   Parameters: {"id"=>"1"}
I, [2020-04-01T21:06:05.338510 #6236]  INFO -- : Completed 500  in 1ms (ActiveRecord: 0.0ms)
F, [2020-04-01T21:06:05.343566 #6236] FATAL -- : 
ArgumentError - wrong number of arguments (given 0, expected 1):
  app/controllers/assignments_controller.rb:28:in `destroy'
  test/controllers/assignments_controller_test.rb:48:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:47:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T21:06:05.351266 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:06:05.352130 #6236] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:06:05.353026 #6236] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:06:05.353325 #6236]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T21:06:05.353410 #6236]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T21:06:05.353477 #6236]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T21:06:05.354329 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.355660 #6236] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.357049 #6236] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1509461457"], ["active", 1]]
D, [2020-04-01T21:06:05.362351 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.363591 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.364940 #6236] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "357855619"], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.366294 #6236] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "357855619"], ["date_of_birth", "2001-04-01"], ["phone", "9307944485"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:06:05.367536 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.368705 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.373931 #6236] DEBUG -- :   [1m[36mEmployee Load (4.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.375065 #6236] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.376171 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.381666 #6236] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.382862 #6236] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:06:05.383834 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:06:05.385766 #6236]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:06:05 +0000
I, [2020-04-01T21:06:05.386790 #6236]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:06:05.387091 #6236]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:06:05.388222 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.391227 #6236] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.599164 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.601383 #6236] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.605337 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T21:06:05.607432 #6236]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:06:05.608551 #6236]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.8ms)
I, [2020-04-01T21:06:05.611014 #6236]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:06:05.611597 #6236]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:06:05.612678 #6236]  INFO -- :   Rendered partials/_quick_links.html.erb (0.6ms)
I, [2020-04-01T21:06:05.613773 #6236]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:06:05.615224 #6236]  INFO -- : Completed 200 OK in 228ms (Views: 7.7ms | ActiveRecord: 0.5ms)
D, [2020-04-01T21:06:05.628724 #6236] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:06:05.638902 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:06:05.639256 #6236]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T21:06:05.639336 #6236]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T21:06:05.639415 #6236]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T21:06:05.640784 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.642781 #6236] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.644731 #6236] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2779063786"], ["active", 1]]
D, [2020-04-01T21:06:05.647437 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.649186 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.655309 #6236] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "197849794"], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.657687 #6236] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "197849794"], ["date_of_birth", "2001-04-01"], ["phone", "6156398179"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:06:05.659824 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.662120 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.663787 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.665233 #6236] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.667339 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.693324 #6236] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.697385 #6236] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:06:05.698358 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.699278 #6236] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:06:05.750260 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:06:05.750645 #6236]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T21:06:05.750724 #6236]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T21:06:05.750798 #6236]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T21:06:05.751687 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.753066 #6236] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.754495 #6236] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5743734858"], ["active", 1]]
D, [2020-04-01T21:06:05.755707 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.756854 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.758153 #6236] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "003198743"], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.764852 #6236] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "003198743"], ["date_of_birth", "2001-04-01"], ["phone", "8346414489"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:06:05.766112 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.767388 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.768646 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.781117 #6236] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.782477 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.784064 #6236] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.785247 #6236] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:06:05.787911 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:06:05.789081 #6236]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 21:06:05 +0000
F, [2020-04-01T21:06:05.810505 #6236] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T21:06:05.818113 #6236]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 21:06:05 +0000
F, [2020-04-01T21:06:05.840210 #6236] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T21:06:05.847679 #6236] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:06:05.854258 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:06:05.854580 #6236]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T21:06:05.854660 #6236]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T21:06:05.854746 #6236]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T21:06:05.855683 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.857071 #6236] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.858602 #6236] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1575020119"], ["active", 1]]
D, [2020-04-01T21:06:05.859896 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.861098 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.862527 #6236] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "112540372"], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.863937 #6236] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "112540372"], ["date_of_birth", "2001-04-01"], ["phone", "8087873935"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:06:05.865150 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.866352 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.867535 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.868602 #6236] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.871478 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.872910 #6236] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.874074 #6236] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:06:05.875055 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.875932 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:06:05.877060 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.878395 #6236] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "359197324"], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.879659 #6236] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "359197324"], ["date_of_birth", "2001-04-01"], ["phone", "5236700702"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:06:05.880903 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:06:05.882175 #6236]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:06:05 +0000
I, [2020-04-01T21:06:05.883105 #6236]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:06:05.883385 #6236]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:06:05.884473 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.885679 #6236] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.887393 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.888835 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.890063 #6236] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.891258 #6236] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.892829 #6236] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.898147 #6236] DEBUG -- :   [1m[36mAssignment Create (4.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T21:06:05.899239 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:06:05.900182 #6236]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-04-01T21:06:05.901075 #6236]  INFO -- : Completed 302 Found in 17ms (ActiveRecord: 4.7ms)
D, [2020-04-01T21:06:05.906897 #6236] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:06:05.907883 #6236] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:06:05.925353 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:06:05.925748 #6236]  INFO -- : ----------------------------------------------
I, [2020-04-01T21:06:05.926229 #6236]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T21:06:05.926410 #6236]  INFO -- : ----------------------------------------------
D, [2020-04-01T21:06:05.927315 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.928730 #6236] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.935316 #6236] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8317812696"], ["active", 1]]
D, [2020-04-01T21:06:05.936675 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.937950 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.939836 #6236] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "352959249"], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.941164 #6236] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "352959249"], ["date_of_birth", "2001-04-01"], ["phone", "3954424719"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:06:05.942637 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.943829 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:06:05.945006 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.950100 #6236] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:06:05.951267 #6236] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.952748 #6236] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:06:05.953905 #6236] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:06:05.954889 #6236] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:06:05.955979 #6236]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 21:06:05 +0000
I, [2020-04-01T21:06:05.956966 #6236]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T21:06:05.958056 #6236]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:06:05.958447 #6236]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T21:06:05.959699 #6236]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:06:05.960268 #6236]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:06:05.960846 #6236]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:06:05.961459 #6236]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:06:05.962375 #6236]  INFO -- : Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:06:05.965287 #6236] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:07:17.227973 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T21:07:17.310984 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:07:17.311369 #6320]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T21:07:17.311409 #6320]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T21:07:17.311431 #6320]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T21:07:17.445231 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.451081 #6320] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.452498 #6320] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3600211496"], ["active", 1]]
D, [2020-04-01T21:07:17.453566 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.469681 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.472103 #6320] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "083274203"], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.473257 #6320] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "083274203"], ["date_of_birth", "2001-04-01"], ["phone", "8030629258"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:17.474323 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.488932 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.494468 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:17.496085 #6320] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:17.497317 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.506855 #6320] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.507877 #6320] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:07:17.508638 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.509356 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:07:17.510444 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.511511 #6320] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "009110857"], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.512522 #6320] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "009110857"], ["date_of_birth", "2001-04-01"], ["phone", "9622765887"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:17.513535 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:07:17.525586 #6320]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:07:17 +0000
I, [2020-04-01T21:07:17.535938 #6320]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:07:17.536256 #6320]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:07:17.541008 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.542820 #6320] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.555919 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.557466 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:17.558635 #6320] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:17.559749 #6320] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.561283 #6320] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.562538 #6320] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T21:07:17.563562 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:07:17.564715 #6320]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-04-01T21:07:17.565575 #6320]  INFO -- : Completed 302 Found in 29ms (ActiveRecord: 0.8ms)
D, [2020-04-01T21:07:17.576997 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:07:17.578581 #6320] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:07:17.602176 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:07:17.602539 #6320]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T21:07:17.602614 #6320]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T21:07:17.602671 #6320]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T21:07:17.603574 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.605015 #6320] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.606440 #6320] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1931053056"], ["active", 1]]
D, [2020-04-01T21:07:17.607671 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.608887 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.610295 #6320] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "153469495"], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.611558 #6320] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "153469495"], ["date_of_birth", "2001-04-01"], ["phone", "0948373888"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:17.612769 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.613977 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.615160 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:17.616280 #6320] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:17.617315 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.622824 #6320] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.624025 #6320] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:07:17.624961 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.625848 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T21:07:17.626933 #6320]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 21:07:17 +0000
I, [2020-04-01T21:07:17.627985 #6320]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T21:07:17.628248 #6320]  INFO -- :   Parameters: {"id"=>"1"}
I, [2020-04-01T21:07:17.629442 #6320]  INFO -- : Completed 500  in 1ms (ActiveRecord: 0.0ms)
F, [2020-04-01T21:07:17.633403 #6320] FATAL -- : 
ArgumentError - wrong number of arguments (given 0, expected 1):
  app/controllers/assignments_controller.rb:28:in `destroy'
  test/controllers/assignments_controller_test.rb:48:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:47:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T21:07:17.636996 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:07:17.641024 #6320] DEBUG -- :   [1m[35m (3.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:07:17.657458 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:07:17.657867 #6320]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T21:07:17.657957 #6320]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T21:07:17.658026 #6320]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T21:07:17.658937 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.660356 #6320] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.665901 #6320] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3131793569"], ["active", 1]]
D, [2020-04-01T21:07:17.667307 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.668562 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.670047 #6320] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "113277271"], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.671443 #6320] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "113277271"], ["date_of_birth", "2001-04-01"], ["phone", "2946924590"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:17.672737 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.674039 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.675237 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:17.676330 #6320] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:17.677434 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.683129 #6320] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.684326 #6320] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:07:17.685337 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:07:17.686501 #6320]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 21:07:17 +0000
F, [2020-04-01T21:07:17.706712 #6320] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T21:07:17.714407 #6320]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 21:07:17 +0000
F, [2020-04-01T21:07:17.732524 #6320] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T21:07:17.737029 #6320] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:07:17.739117 #6320] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:07:17.739398 #6320]  INFO -- : ----------------------------------------------
I, [2020-04-01T21:07:17.739499 #6320]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T21:07:17.739557 #6320]  INFO -- : ----------------------------------------------
D, [2020-04-01T21:07:17.740396 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.747540 #6320] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.749073 #6320] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4630178258"], ["active", 1]]
D, [2020-04-01T21:07:17.750411 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.751636 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.753029 #6320] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "081307767"], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.758451 #6320] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "081307767"], ["date_of_birth", "2001-04-01"], ["phone", "7368903484"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:17.759797 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.761095 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:17.762437 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:17.763576 #6320] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:17.764725 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.770337 #6320] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:17.771564 #6320] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:07:17.772585 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:07:17.773719 #6320]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 21:07:17 +0000
I, [2020-04-01T21:07:17.774709 #6320]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T21:07:17.783823 #6320]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:07:17.784988 #6320]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.8ms)
I, [2020-04-01T21:07:18.155012 #6320]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T21:07:18.156399 #6320]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T21:07:18.157878 #6320]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T21:07:18.159354 #6320]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T21:07:18.160376 #6320]  INFO -- : Completed 200 OK in 385ms (Views: 383.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:07:18.167655 #6320] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:07:18.175262 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:07:18.175577 #6320]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T21:07:18.175669 #6320]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T21:07:18.175731 #6320]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T21:07:18.176628 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.178174 #6320] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:07:18.179606 #6320] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0521605480"], ["active", 1]]
D, [2020-04-01T21:07:18.180865 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.186147 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.187598 #6320] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "179162848"], ["LIMIT", 1]]
D, [2020-04-01T21:07:18.188953 #6320] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "179162848"], ["date_of_birth", "2001-04-01"], ["phone", "7149221783"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:18.190245 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.191486 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.192734 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:18.193890 #6320] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:18.194995 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:18.196438 #6320] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:18.197593 #6320] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:07:18.199107 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:07:18.200428 #6320]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:07:18 +0000
I, [2020-04-01T21:07:18.201345 #6320]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:07:18.201662 #6320]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:07:18.202710 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.203890 #6320] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:18.322820 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:18.324079 #6320] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:18.325342 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T21:07:18.330465 #6320]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:07:18.330899 #6320]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T21:07:18.351794 #6320]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:07:18.352438 #6320]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:07:18.353086 #6320]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:07:18.353703 #6320]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:07:18.354764 #6320]  INFO -- : Completed 200 OK in 153ms (Views: 24.2ms | ActiveRecord: 0.4ms)
D, [2020-04-01T21:07:18.359075 #6320] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:07:18.365887 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:07:18.366192 #6320]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T21:07:18.366269 #6320]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T21:07:18.366324 #6320]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T21:07:18.367178 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.368543 #6320] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:07:18.369962 #6320] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5085859525"], ["active", 1]]
D, [2020-04-01T21:07:18.371262 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.372458 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.376047 #6320] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "319411455"], ["LIMIT", 1]]
D, [2020-04-01T21:07:18.377431 #6320] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "319411455"], ["date_of_birth", "2001-04-01"], ["phone", "6190131794"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:18.378664 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.379899 #6320] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.381124 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:18.382235 #6320] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:18.383357 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:18.384833 #6320] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:18.389943 #6320] DEBUG -- :   [1m[36mAssignment Create (4.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:07:18.390898 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.391788 #6320] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:07:18.445285 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:07:18.445611 #6320]  INFO -- : ------------------------------------------------
I, [2020-04-01T21:07:18.445715 #6320]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T21:07:18.445780 #6320]  INFO -- : ------------------------------------------------
D, [2020-04-01T21:07:18.446631 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.447987 #6320] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:07:18.449330 #6320] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7792414163"], ["active", 1]]
D, [2020-04-01T21:07:18.450594 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.451763 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.453096 #6320] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "078311676"], ["LIMIT", 1]]
D, [2020-04-01T21:07:18.458467 #6320] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "078311676"], ["date_of_birth", "2001-04-01"], ["phone", "2543544748"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:18.459745 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.460989 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:18.462210 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:18.463240 #6320] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:18.464286 #6320] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:18.465777 #6320] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:18.466924 #6320] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:07:18.467843 #6320] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:07:18.468961 #6320]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 21:07:18 +0000
I, [2020-04-01T21:07:18.470592 #6320]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T21:07:18.472444 #6320]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T21:07:18.473069 #6320]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.3ms)
I, [2020-04-01T21:07:18.474362 #6320]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:07:18.474938 #6320]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:07:18.475540 #6320]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:07:18.476199 #6320]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:07:18.477132 #6320]  INFO -- : Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:07:18.480355 #6320] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:07:39.306627 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T21:07:39.383602 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:07:39.383980 #6365]  INFO -- : ----------------------------------------------
I, [2020-04-01T21:07:39.384021 #6365]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T21:07:39.384043 #6365]  INFO -- : ----------------------------------------------
D, [2020-04-01T21:07:39.493586 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.499293 #6365] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:07:39.500669 #6365] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2834268949"], ["active", 1]]
D, [2020-04-01T21:07:39.501814 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.526345 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.528792 #6365] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "339367082"], ["LIMIT", 1]]
D, [2020-04-01T21:07:39.530127 #6365] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "339367082"], ["date_of_birth", "2001-04-01"], ["phone", "4673109112"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:39.531213 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.555922 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.557423 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:39.558978 #6365] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:39.560322 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:39.570750 #6365] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:39.571739 #6365] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:07:39.572542 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:07:39.578950 #6365]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 21:07:39 +0000
I, [2020-04-01T21:07:39.585296 #6365]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T21:07:39.592338 #6365]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:07:39.593435 #6365]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.8ms)
I, [2020-04-01T21:07:39.818383 #6365]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T21:07:39.819707 #6365]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T21:07:39.821036 #6365]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T21:07:39.826526 #6365]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T21:07:39.827570 #6365]  INFO -- : Completed 200 OK in 242ms (Views: 236.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:07:39.832541 #6365] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:07:39.845524 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:07:39.845929 #6365]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T21:07:39.846004 #6365]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T21:07:39.846063 #6365]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T21:07:39.846993 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.848519 #6365] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:07:39.850080 #6365] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4617329363"], ["active", 1]]
D, [2020-04-01T21:07:39.851314 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.852540 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.857313 #6365] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091571335"], ["LIMIT", 1]]
D, [2020-04-01T21:07:39.858660 #6365] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "091571335"], ["date_of_birth", "2001-04-01"], ["phone", "2245569156"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:39.859908 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.861150 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.862459 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:39.863527 #6365] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:39.864608 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:39.866092 #6365] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:39.867260 #6365] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:07:39.868236 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.869146 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T21:07:39.874351 #6365]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 21:07:39 +0000
I, [2020-04-01T21:07:39.878740 #6365]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T21:07:39.879043 #6365]  INFO -- :   Parameters: {"id"=>"1"}
I, [2020-04-01T21:07:39.880255 #6365]  INFO -- : Completed 500  in 1ms (ActiveRecord: 0.0ms)
F, [2020-04-01T21:07:39.888157 #6365] FATAL -- : 
ArgumentError - wrong number of arguments (given 0, expected 1):
  app/controllers/assignments_controller.rb:28:in `destroy'
  test/controllers/assignments_controller_test.rb:48:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:47:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T21:07:39.891928 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:07:39.892730 #6365] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:07:39.894370 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:07:39.894666 #6365]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T21:07:39.894748 #6365]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T21:07:39.894850 #6365]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T21:07:39.895702 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.897066 #6365] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:07:39.898530 #6365] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7025825832"], ["active", 1]]
D, [2020-04-01T21:07:39.899779 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.900973 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.906405 #6365] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "240970601"], ["LIMIT", 1]]
D, [2020-04-01T21:07:39.907733 #6365] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "240970601"], ["date_of_birth", "2001-04-01"], ["phone", "5334073855"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:39.909012 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.910271 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.911483 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:39.912570 #6365] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:39.916070 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:39.917575 #6365] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:39.918768 #6365] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:07:39.919691 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:07:39.921570 #6365]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:07:39 +0000
I, [2020-04-01T21:07:39.922637 #6365]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:07:39.922919 #6365]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:07:39.924035 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:39.929721 #6365] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.218703 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:40.220476 #6365] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:40.222634 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T21:07:40.224034 #6365]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:07:40.224396 #6365]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T21:07:40.230882 #6365]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T21:07:40.232022 #6365]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:07:40.232640 #6365]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:07:40.234432 #6365]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:07:40.236361 #6365]  INFO -- : Completed 200 OK in 313ms (Views: 11.6ms | ActiveRecord: 0.5ms)
D, [2020-04-01T21:07:40.248726 #6365] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:07:40.256605 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:07:40.256969 #6365]  INFO -- : ------------------------------------------------
I, [2020-04-01T21:07:40.257050 #6365]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T21:07:40.257114 #6365]  INFO -- : ------------------------------------------------
D, [2020-04-01T21:07:40.259094 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.261021 #6365] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.263547 #6365] DEBUG -- :   [1m[36mStore Create (0.8ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5465455312"], ["active", 1]]
D, [2020-04-01T21:07:40.266310 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.268032 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.274047 #6365] DEBUG -- :   [1m[36mEmployee Exists (4.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "038644642"], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.276446 #6365] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "038644642"], ["date_of_birth", "2001-04-01"], ["phone", "6399851870"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:40.279228 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.281567 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.283337 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:40.285460 #6365] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:40.290270 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.320885 #6365] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.322413 #6365] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:07:40.323386 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:07:40.324576 #6365]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 21:07:40 +0000
I, [2020-04-01T21:07:40.325515 #6365]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T21:07:40.331427 #6365]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T21:07:40.332092 #6365]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.3ms)
I, [2020-04-01T21:07:40.333403 #6365]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:07:40.334047 #6365]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T21:07:40.334651 #6365]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:07:40.335315 #6365]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:07:40.336204 #6365]  INFO -- : Completed 200 OK in 10ms (Views: 4.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:07:40.343637 #6365] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:07:40.344367 #6365] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:07:40.344679 #6365]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T21:07:40.344778 #6365]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T21:07:40.344842 #6365]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T21:07:40.349780 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.351224 #6365] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.352698 #6365] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1809201771"], ["active", 1]]
D, [2020-04-01T21:07:40.353980 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.355220 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.356545 #6365] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "057941817"], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.361966 #6365] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "057941817"], ["date_of_birth", "2001-04-01"], ["phone", "7721348523"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:40.363272 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.364531 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.365794 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:40.366871 #6365] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:40.367955 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.369403 #6365] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.374588 #6365] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:07:40.375533 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.376428 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:07:40.377614 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.378916 #6365] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "253058913"], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.380160 #6365] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "253058913"], ["date_of_birth", "2001-04-01"], ["phone", "9201426469"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:40.381434 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:07:40.382718 #6365]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:07:40 +0000
I, [2020-04-01T21:07:40.383666 #6365]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:07:40.383955 #6365]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:07:40.385058 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.389087 #6365] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.390877 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.392392 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:40.397726 #6365] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:40.398902 #6365] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.400566 #6365] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.401849 #6365] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T21:07:40.403018 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:07:40.404104 #6365]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-04-01T21:07:40.405043 #6365]  INFO -- : Completed 302 Found in 21ms (ActiveRecord: 0.6ms)
D, [2020-04-01T21:07:40.415314 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:07:40.416457 #6365] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:07:40.417415 #6365] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:07:40.417811 #6365]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T21:07:40.417906 #6365]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T21:07:40.417973 #6365]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T21:07:40.418821 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.420217 #6365] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.425786 #6365] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9677301575"], ["active", 1]]
D, [2020-04-01T21:07:40.427232 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.428530 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.430076 #6365] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "119296865"], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.431476 #6365] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "119296865"], ["date_of_birth", "2001-04-01"], ["phone", "9721434000"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:40.432899 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.434239 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.435488 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:40.436589 #6365] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:40.441747 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.443295 #6365] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.444496 #6365] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:07:40.445489 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:07:40.446691 #6365]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 21:07:40 +0000
F, [2020-04-01T21:07:40.467516 #6365] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T21:07:40.471295 #6365]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 21:07:40 +0000
F, [2020-04-01T21:07:40.498216 #6365] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T21:07:40.501544 #6365] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:07:40.502380 #6365] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:07:40.502671 #6365]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T21:07:40.502766 #6365]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T21:07:40.502842 #6365]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T21:07:40.503692 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.505123 #6365] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.506625 #6365] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0472299723"], ["active", 1]]
D, [2020-04-01T21:07:40.508028 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.509270 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.514837 #6365] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "322701787"], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.516297 #6365] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "322701787"], ["date_of_birth", "2001-04-01"], ["phone", "8915197809"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:07:40.517701 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.519014 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.520245 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:40.521388 #6365] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:07:40.522544 #6365] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.524067 #6365] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:07:40.525258 #6365] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:07:40.526274 #6365] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:07:40.527194 #6365] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:08:41.528361 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T21:08:41.609290 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:08:41.609693 #6440]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T21:08:41.609734 #6440]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T21:08:41.609757 #6440]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T21:08:41.712349 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:41.713938 #6440] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:08:41.715258 #6440] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0728190774"], ["active", 1]]
D, [2020-04-01T21:08:41.716295 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:41.736333 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:41.738658 #6440] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "343459211"], ["LIMIT", 1]]
D, [2020-04-01T21:08:41.739846 #6440] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "343459211"], ["date_of_birth", "2001-04-01"], ["phone", "5305018790"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:08:41.740884 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:41.758994 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:41.760446 #6440] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:41.766065 #6440] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:41.767367 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:41.776400 #6440] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:41.777395 #6440] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:08:41.782195 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:41.782926 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:08:41.783963 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:41.785061 #6440] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "087530360"], ["LIMIT", 1]]
D, [2020-04-01T21:08:41.790167 #6440] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "087530360"], ["date_of_birth", "2001-04-01"], ["phone", "1607640838"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:08:41.791208 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:08:41.801003 #6440]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:08:41 +0000
I, [2020-04-01T21:08:41.811136 #6440]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:08:41.811413 #6440]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:08:41.824131 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:41.825931 #6440] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:41.827580 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:08:41.831104 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:41.832278 #6440] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:41.833301 #6440] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:08:41.834818 #6440] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:08:41.835978 #6440] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T21:08:41.836943 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:08:41.838080 #6440]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-04-01T21:08:41.850132 #6440]  INFO -- : Completed 302 Found in 38ms (ActiveRecord: 0.7ms)
D, [2020-04-01T21:08:41.857296 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:08:41.858790 #6440] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:08:41.859712 #6440] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:08:41.860003 #6440]  INFO -- : ------------------------------------------------
I, [2020-04-01T21:08:41.860079 #6440]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T21:08:41.860134 #6440]  INFO -- : ------------------------------------------------
D, [2020-04-01T21:08:41.860904 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:41.866281 #6440] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:08:41.867707 #6440] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0801259414"], ["active", 1]]
D, [2020-04-01T21:08:41.868954 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:41.870169 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:41.871530 #6440] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "252031380"], ["LIMIT", 1]]
D, [2020-04-01T21:08:41.872786 #6440] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "252031380"], ["date_of_birth", "2001-04-01"], ["phone", "8386250952"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:08:41.874044 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:41.875189 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:41.876369 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:41.877408 #6440] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:41.878469 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:41.879904 #6440] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:41.880983 #6440] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:08:41.882247 #6440] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:08:41.883440 #6440]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 21:08:41 +0000
I, [2020-04-01T21:08:41.884434 #6440]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T21:08:41.888249 #6440]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T21:08:41.889305 #6440]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.7ms)
I, [2020-04-01T21:08:42.099031 #6440]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T21:08:42.100409 #6440]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T21:08:42.101877 #6440]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T21:08:42.103414 #6440]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-01T21:08:42.104382 #6440]  INFO -- : Completed 200 OK in 220ms (Views: 217.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:08:42.107618 #6440] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:08:42.108312 #6440] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:08:42.108637 #6440]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T21:08:42.108710 #6440]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T21:08:42.108766 #6440]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T21:08:42.109651 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.111042 #6440] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.112417 #6440] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0119777351"], ["active", 1]]
D, [2020-04-01T21:08:42.117807 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.119029 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.120447 #6440] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "209618009"], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.121834 #6440] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "209618009"], ["date_of_birth", "2001-04-01"], ["phone", "1108295814"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:08:42.123088 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.124239 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.125437 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:42.130719 #6440] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:42.131802 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.133251 #6440] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.134445 #6440] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:08:42.135408 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:08:42.136673 #6440]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:08:42 +0000
I, [2020-04-01T21:08:42.137634 #6440]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:08:42.137895 #6440]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:08:42.138939 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.140067 #6440] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.391211 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:42.392449 #6440] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:42.397896 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T21:08:42.399453 #6440]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:08:42.400075 #6440]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.3ms)
I, [2020-04-01T21:08:42.401419 #6440]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:08:42.402026 #6440]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T21:08:42.402639 #6440]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:08:42.403267 #6440]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:08:42.404348 #6440]  INFO -- : Completed 200 OK in 266ms (Views: 5.2ms | ActiveRecord: 0.3ms)
D, [2020-04-01T21:08:42.412716 #6440] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:08:42.419220 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:08:42.419521 #6440]  INFO -- : ----------------------------------------------
I, [2020-04-01T21:08:42.419598 #6440]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T21:08:42.419661 #6440]  INFO -- : ----------------------------------------------
D, [2020-04-01T21:08:42.420493 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.421914 #6440] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.423303 #6440] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4625227392"], ["active", 1]]
D, [2020-04-01T21:08:42.424507 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.429730 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.431177 #6440] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "063682700"], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.432548 #6440] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "063682700"], ["date_of_birth", "2001-04-01"], ["phone", "3908331145"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:08:42.433832 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.435120 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.436289 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:42.437371 #6440] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:42.438434 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.439840 #6440] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.440943 #6440] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:08:42.441915 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:08:42.442974 #6440]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 21:08:42 +0000
I, [2020-04-01T21:08:42.443977 #6440]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T21:08:42.444951 #6440]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:08:42.445341 #6440]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T21:08:42.446596 #6440]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:08:42.447148 #6440]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:08:42.447721 #6440]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:08:42.448328 #6440]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:08:42.449201 #6440]  INFO -- : Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:08:42.456217 #6440] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:08:42.462298 #6440] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:08:42.462598 #6440]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T21:08:42.462672 #6440]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T21:08:42.462744 #6440]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T21:08:42.463561 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.464910 #6440] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.468346 #6440] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0106204519"], ["active", 1]]
D, [2020-04-01T21:08:42.469546 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.470751 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.472118 #6440] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "186823214"], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.473402 #6440] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "186823214"], ["date_of_birth", "2001-04-01"], ["phone", "4985237602"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:08:42.474683 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.475832 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.476989 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:42.478071 #6440] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:42.479112 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.480551 #6440] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.484148 #6440] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:08:42.485105 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:08:42.487382 #6440]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 21:08:42 +0000
F, [2020-04-01T21:08:42.509186 #6440] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T21:08:42.512713 #6440]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 21:08:42 +0000
F, [2020-04-01T21:08:42.533805 #6440] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T21:08:42.536902 #6440] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:08:42.544510 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:08:42.544842 #6440]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T21:08:42.544917 #6440]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T21:08:42.544988 #6440]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T21:08:42.545904 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.547270 #6440] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.548648 #6440] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4910051806"], ["active", 1]]
D, [2020-04-01T21:08:42.553955 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.555186 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.556605 #6440] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "166418846"], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.557972 #6440] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "166418846"], ["date_of_birth", "2001-04-01"], ["phone", "2774863983"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:08:42.559193 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.560377 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.561520 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:42.562602 #6440] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:42.563661 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.565108 #6440] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.566290 #6440] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:08:42.567225 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.568164 #6440] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:08:42.617984 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:08:42.618393 #6440]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T21:08:42.618491 #6440]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T21:08:42.618558 #6440]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T21:08:42.619421 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.620781 #6440] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.622231 #6440] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6439218002"], ["active", 1]]
D, [2020-04-01T21:08:42.623449 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.624576 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.629888 #6440] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "309927731"], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.631200 #6440] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "309927731"], ["date_of_birth", "2001-04-01"], ["phone", "5237986358"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:08:42.632461 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.633770 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.634964 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:42.636028 #6440] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:42.637077 #6440] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.642580 #6440] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.643724 #6440] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:08:42.644648 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.645514 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T21:08:42.646624 #6440]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 21:08:42 +0000
I, [2020-04-01T21:08:42.647582 #6440]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T21:08:42.647863 #6440]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T21:08:42.648895 #6440] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:42.649893 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:42.650803 #6440] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T21:08:42.651601 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:08:42.652345 #6440]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T21:08:42.653095 #6440]  INFO -- : Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
D, [2020-04-01T21:08:42.658666 #6440] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:08:42.682368 #6440] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:08:59.634549 #6474] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T21:08:59.712259 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:08:59.712614 #6474]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T21:08:59.712652 #6474]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T21:08:59.712674 #6474]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T21:08:59.823954 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:59.825564 #6474] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:08:59.830030 #6474] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6452138635"], ["active", 1]]
D, [2020-04-01T21:08:59.831133 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:59.851416 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:59.853872 #6474] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "056552820"], ["LIMIT", 1]]
D, [2020-04-01T21:08:59.855097 #6474] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "056552820"], ["date_of_birth", "2001-04-01"], ["phone", "9168233225"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:08:59.856173 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:59.878358 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:59.879871 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:59.881442 #6474] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:59.882679 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:59.891459 #6474] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:59.892503 #6474] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:08:59.893292 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:59.898061 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:08:59.899136 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:59.900260 #6474] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "239325847"], ["LIMIT", 1]]
D, [2020-04-01T21:08:59.901361 #6474] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "239325847"], ["date_of_birth", "2001-04-01"], ["phone", "0255944692"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:08:59.902411 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:08:59.908354 #6474]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:08:59 +0000
I, [2020-04-01T21:08:59.916412 #6474]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:08:59.916666 #6474]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:08:59.921360 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:59.923140 #6474] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:08:59.926757 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:08:59.928483 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:59.929593 #6474] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:59.930700 #6474] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:08:59.932194 #6474] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:08:59.933411 #6474] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T21:08:59.945895 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:08:59.947156 #6474]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-04-01T21:08:59.948114 #6474]  INFO -- : Completed 302 Found in 31ms (ActiveRecord: 0.8ms)
D, [2020-04-01T21:08:59.959569 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:08:59.961082 #6474] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:08:59.981248 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:08:59.981606 #6474]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T21:08:59.981704 #6474]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T21:08:59.981763 #6474]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T21:08:59.982738 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:59.984217 #6474] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:08:59.985752 #6474] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8622391776"], ["active", 1]]
D, [2020-04-01T21:08:59.987017 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:59.988193 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:59.989541 #6474] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "295473054"], ["LIMIT", 1]]
D, [2020-04-01T21:08:59.990853 #6474] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "295473054"], ["date_of_birth", "2001-04-01"], ["phone", "0910455825"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:08:59.992104 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:59.993328 #6474] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:08:59.998627 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:08:59.999807 #6474] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:00.000898 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.002459 #6474] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.003668 #6474] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:09:00.004630 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.005595 #6474] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:09:00.054209 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:09:00.054571 #6474]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T21:09:00.054675 #6474]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T21:09:00.054734 #6474]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T21:09:00.055636 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.057084 #6474] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.058505 #6474] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1849238332"], ["active", 1]]
D, [2020-04-01T21:09:00.059833 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.061073 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.066536 #6474] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "209917754"], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.067897 #6474] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "209917754"], ["date_of_birth", "2001-04-01"], ["phone", "0325255927"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:09:00.069239 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.070477 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.071678 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:00.072718 #6474] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:00.081895 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.083516 #6474] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.084717 #6474] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:09:00.085734 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.086628 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T21:09:00.087721 #6474]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 21:09:00 +0000
I, [2020-04-01T21:09:00.088788 #6474]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T21:09:00.089063 #6474]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T21:09:00.090253 #6474] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.091262 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.092255 #6474] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T21:09:00.093102 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:09:00.093926 #6474]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T21:09:00.094769 #6474]  INFO -- : Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
D, [2020-04-01T21:09:00.098425 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:09:00.109227 #6474] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:09:00.110235 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:09:00.110542 #6474]  INFO -- : ------------------------------------------------
I, [2020-04-01T21:09:00.110645 #6474]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T21:09:00.110707 #6474]  INFO -- : ------------------------------------------------
D, [2020-04-01T21:09:00.111624 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.113008 #6474] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.118667 #6474] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9191200784"], ["active", 1]]
D, [2020-04-01T21:09:00.119983 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.121248 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.122674 #6474] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "210113592"], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.124014 #6474] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "210113592"], ["date_of_birth", "2001-04-01"], ["phone", "4062551774"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:09:00.125348 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.126618 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.127821 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:00.128947 #6474] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:00.134089 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.135606 #6474] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.136781 #6474] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:09:00.137780 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:09:00.138938 #6474]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 21:09:00 +0000
I, [2020-04-01T21:09:00.139906 #6474]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T21:09:00.143632 #6474]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T21:09:00.144753 #6474]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.8ms)
I, [2020-04-01T21:09:00.457137 #6474]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T21:09:00.458402 #6474]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T21:09:00.459673 #6474]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T21:09:00.460999 #6474]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T21:09:00.462006 #6474]  INFO -- : Completed 200 OK in 322ms (Views: 319.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:09:00.465165 #6474] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:09:00.469413 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:09:00.469723 #6474]  INFO -- : ----------------------------------------------
I, [2020-04-01T21:09:00.469796 #6474]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T21:09:00.469854 #6474]  INFO -- : ----------------------------------------------
D, [2020-04-01T21:09:00.470710 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.472135 #6474] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.473540 #6474] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9693471840"], ["active", 1]]
D, [2020-04-01T21:09:00.478822 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.480053 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.481451 #6474] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "006440341"], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.484139 #6474] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "006440341"], ["date_of_birth", "2001-04-01"], ["phone", "2068262701"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:09:00.485387 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.486642 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.487831 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:00.488903 #6474] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:00.494058 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.495540 #6474] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.496686 #6474] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:09:00.497637 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:09:00.498764 #6474]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 21:09:00 +0000
I, [2020-04-01T21:09:00.499828 #6474]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T21:09:00.501312 #6474]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:09:00.505994 #6474]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (4.3ms)
I, [2020-04-01T21:09:00.507326 #6474]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:09:00.507873 #6474]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:09:00.508441 #6474]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:09:00.509065 #6474]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:09:00.510013 #6474]  INFO -- : Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:09:00.512989 #6474] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:09:00.517682 #6474] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:09:00.517991 #6474]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T21:09:00.518062 #6474]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T21:09:00.518121 #6474]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T21:09:00.518970 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.520348 #6474] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.525811 #6474] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6990800368"], ["active", 1]]
D, [2020-04-01T21:09:00.527100 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.528328 #6474] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.529760 #6474] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "034041665"], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.531122 #6474] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "034041665"], ["date_of_birth", "2001-04-01"], ["phone", "4519401888"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:09:00.532394 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.533603 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.535019 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:00.536129 #6474] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:00.537234 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.538746 #6474] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.539894 #6474] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:09:00.540882 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:09:00.542240 #6474]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:09:00 +0000
I, [2020-04-01T21:09:00.543160 #6474]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:09:00.543447 #6474]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:09:00.544492 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.549762 #6474] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.680030 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:00.681314 #6474] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:00.682617 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T21:09:00.683566 #6474]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:09:00.683925 #6474]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T21:09:00.685200 #6474]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T21:09:00.685820 #6474]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T21:09:00.686393 #6474]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:09:00.687021 #6474]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:09:00.688045 #6474]  INFO -- : Completed 200 OK in 144ms (Views: 4.2ms | ActiveRecord: 0.4ms)
D, [2020-04-01T21:09:00.696418 #6474] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:09:00.697114 #6474] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:09:00.697386 #6474]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T21:09:00.697473 #6474]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T21:09:00.697548 #6474]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T21:09:00.698398 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.699742 #6474] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.701117 #6474] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9082348862"], ["active", 1]]
D, [2020-04-01T21:09:00.702350 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.703552 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.704897 #6474] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "355805258"], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.710233 #6474] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "355805258"], ["date_of_birth", "2001-04-01"], ["phone", "4270176986"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:09:00.711478 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.712705 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:00.713993 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:00.715064 #6474] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:00.716122 #6474] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.717584 #6474] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:00.718691 #6474] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:09:00.719663 #6474] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:09:00.720814 #6474]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 21:09:00 +0000
F, [2020-04-01T21:09:00.743231 #6474] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T21:09:00.746756 #6474]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 21:09:00 +0000
F, [2020-04-01T21:09:00.770948 #6474] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T21:09:00.774140 #6474] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:09:20.591946 #6512] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T21:09:20.699138 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:09:20.699521 #6512]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T21:09:20.699562 #6512]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T21:09:20.699586 #6512]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T21:09:20.845969 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:20.847563 #6512] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:09:20.848947 #6512] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5616993012"], ["active", 1]]
D, [2020-04-01T21:09:20.850030 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:20.866358 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:20.868752 #6512] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "313699896"], ["LIMIT", 1]]
D, [2020-04-01T21:09:20.870070 #6512] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "313699896"], ["date_of_birth", "2001-04-01"], ["phone", "8958613050"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:09:20.871199 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:20.886283 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:20.887816 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:20.889319 #6512] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:20.890619 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:20.901133 #6512] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:20.902149 #6512] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:09:20.902915 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:20.903654 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:09:20.904734 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:20.905909 #6512] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "283447344"], ["LIMIT", 1]]
D, [2020-04-01T21:09:20.906983 #6512] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "283447344"], ["date_of_birth", "2001-04-01"], ["phone", "5671405379"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:09:20.907960 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:09:20.917942 #6512]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:09:20 +0000
I, [2020-04-01T21:09:20.924286 #6512]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:09:20.924582 #6512]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:09:20.933457 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:20.935424 #6512] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:20.937154 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:09:20.938684 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:20.939862 #6512] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:20.941066 #6512] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:09:20.942838 #6512] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:09:20.944075 #6512] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T21:09:20.945101 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:09:20.948481 #6512]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-04-01T21:09:20.949364 #6512]  INFO -- : Completed 302 Found in 24ms (ActiveRecord: 0.8ms)
D, [2020-04-01T21:09:20.961054 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:09:20.962586 #6512] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:09:20.969054 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:09:20.969347 #6512]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T21:09:20.969422 #6512]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T21:09:20.969520 #6512]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T21:09:20.977640 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:20.979200 #6512] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:09:20.980662 #6512] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0840778515"], ["active", 1]]
D, [2020-04-01T21:09:20.982011 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:20.983240 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:20.984628 #6512] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "113036825"], ["LIMIT", 1]]
D, [2020-04-01T21:09:20.989988 #6512] DEBUG -- :   [1m[36mEmployee Create (4.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "113036825"], ["date_of_birth", "2001-04-01"], ["phone", "0638554728"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:09:20.991306 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:20.992652 #6512] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:20.993917 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:20.995025 #6512] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:20.996119 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:20.997550 #6512] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:20.998755 #6512] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:09:20.999662 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.000573 #6512] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:09:21.035233 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:09:21.035593 #6512]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T21:09:21.035664 #6512]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T21:09:21.035722 #6512]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T21:09:21.036582 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.038017 #6512] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.039402 #6512] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8135740009"], ["active", 1]]
D, [2020-04-01T21:09:21.040686 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.045872 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.047451 #6512] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "210114163"], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.048813 #6512] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "210114163"], ["date_of_birth", "2001-04-01"], ["phone", "0246348235"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:09:21.050160 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.051443 #6512] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.052621 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:21.053734 #6512] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:21.054846 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.056256 #6512] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.057492 #6512] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:09:21.060545 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.061458 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T21:09:21.062574 #6512]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 21:09:21 +0000
I, [2020-04-01T21:09:21.063623 #6512]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T21:09:21.063892 #6512]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T21:09:21.064998 #6512] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.066006 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.066967 #6512] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T21:09:21.067818 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:09:21.068625 #6512]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T21:09:21.069452 #6512]  INFO -- : Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
D, [2020-04-01T21:09:21.073157 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:09:21.146388 #6512] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:09:21.150901 #6512] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:09:21.151228 #6512]  INFO -- : ------------------------------------------------
I, [2020-04-01T21:09:21.151308 #6512]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T21:09:21.151373 #6512]  INFO -- : ------------------------------------------------
D, [2020-04-01T21:09:21.152275 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.155134 #6512] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.156628 #6512] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9159816966"], ["active", 1]]
D, [2020-04-01T21:09:21.166104 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.167419 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.168907 #6512] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "144778095"], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.170348 #6512] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "144778095"], ["date_of_birth", "2001-04-01"], ["phone", "9135268168"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:09:21.171653 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.172880 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.182221 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:21.183421 #6512] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:21.184587 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.187721 #6512] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.188934 #6512] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:09:21.194248 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:09:21.195460 #6512]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 21:09:21 +0000
I, [2020-04-01T21:09:21.196433 #6512]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T21:09:21.204635 #6512]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T21:09:21.209818 #6512]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.8ms)
I, [2020-04-01T21:09:21.612065 #6512]  INFO -- :   Rendered partials/_topbar.html.erb (0.9ms)
I, [2020-04-01T21:09:21.613376 #6512]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T21:09:21.614723 #6512]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T21:09:21.616157 #6512]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T21:09:21.617127 #6512]  INFO -- : Completed 200 OK in 420ms (Views: 414.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:09:21.620343 #6512] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:09:21.624442 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:09:21.624737 #6512]  INFO -- : ----------------------------------------------
I, [2020-04-01T21:09:21.624837 #6512]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T21:09:21.624898 #6512]  INFO -- : ----------------------------------------------
D, [2020-04-01T21:09:21.625859 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.627433 #6512] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.628806 #6512] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6333374384"], ["active", 1]]
D, [2020-04-01T21:09:21.630165 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.631317 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.632597 #6512] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "362518206"], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.633933 #6512] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "362518206"], ["date_of_birth", "2001-04-01"], ["phone", "3694941340"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:09:21.635160 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.636320 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.637502 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:21.642864 #6512] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:21.643991 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.645499 #6512] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.646737 #6512] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:09:21.647666 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:09:21.648813 #6512]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 21:09:21 +0000
I, [2020-04-01T21:09:21.653977 #6512]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T21:09:21.655753 #6512]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:09:21.656406 #6512]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.3ms)
I, [2020-04-01T21:09:21.657800 #6512]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:09:21.658403 #6512]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T21:09:21.659014 #6512]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:09:21.659700 #6512]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:09:21.660609 #6512]  INFO -- : Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:09:21.663803 #6512] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:09:21.664506 #6512] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:09:21.664814 #6512]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T21:09:21.664887 #6512]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T21:09:21.664942 #6512]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T21:09:21.669826 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.671302 #6512] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.672741 #6512] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5538729562"], ["active", 1]]
D, [2020-04-01T21:09:21.674022 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.675278 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.676638 #6512] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "046662250"], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.679406 #6512] DEBUG -- :   [1m[36mEmployee Create (1.6ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "046662250"], ["date_of_birth", "2001-04-01"], ["phone", "0328908709"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:09:21.680693 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.681971 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.683206 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:21.684356 #6512] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:21.685482 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.686944 #6512] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.697823 #6512] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:09:21.698972 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:09:21.700383 #6512]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:09:21 +0000
I, [2020-04-01T21:09:21.701355 #6512]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:09:21.713701 #6512]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:09:21.715144 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.716522 #6512] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.964001 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:21.965265 #6512] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:21.966546 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T21:09:21.967502 #6512]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:09:21.967833 #6512]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T21:09:21.969084 #6512]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:09:21.969654 #6512]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:09:21.970272 #6512]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:09:21.970871 #6512]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:09:21.971877 #6512]  INFO -- : Completed 200 OK in 258ms (Views: 4.1ms | ActiveRecord: 0.5ms)
D, [2020-04-01T21:09:21.980211 #6512] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:09:21.980873 #6512] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:09:21.981147 #6512]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T21:09:21.981217 #6512]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T21:09:21.981301 #6512]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T21:09:21.982145 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.983514 #6512] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.984909 #6512] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8389575803"], ["active", 1]]
D, [2020-04-01T21:09:21.986145 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.987325 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.988663 #6512] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "159443167"], ["LIMIT", 1]]
D, [2020-04-01T21:09:21.994046 #6512] DEBUG -- :   [1m[36mEmployee Create (4.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "159443167"], ["date_of_birth", "2001-04-01"], ["phone", "0220154241"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:09:21.995285 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.996525 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:09:21.997757 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:21.998843 #6512] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:09:21.999916 #6512] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:22.001391 #6512] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:09:22.002553 #6512] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:09:22.003503 #6512] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:09:22.004676 #6512]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 21:09:22 +0000
F, [2020-04-01T21:09:22.029161 #6512] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T21:09:22.032855 #6512]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 21:09:22 +0000
F, [2020-04-01T21:09:22.054272 #6512] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T21:09:22.057438 #6512] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:13:25.126705 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T21:13:25.205887 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:13:25.206246 #6839]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T21:13:25.206294 #6839]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T21:13:25.206318 #6839]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T21:13:25.306014 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.307594 #6839] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.308930 #6839] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7310858806"], ["active", 1]]
D, [2020-04-01T21:13:25.310004 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.325878 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.328104 #6839] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "210561046"], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.329309 #6839] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "210561046"], ["date_of_birth", "2001-04-01"], ["phone", "5949254417"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:13:25.332031 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.353892 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.355375 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:25.356914 #6839] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:25.358141 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.368478 #6839] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.369446 #6839] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:13:25.370202 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:13:25.372513 #6839]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 21:13:25 +0000
F, [2020-04-01T21:13:25.403473 #6839] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T21:13:25.408219 #6839]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 21:13:25 +0000
F, [2020-04-01T21:13:25.433579 #6839] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T21:13:25.447692 #6839] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:13:25.448488 #6839] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:13:25.448795 #6839]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T21:13:25.448870 #6839]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T21:13:25.448929 #6839]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T21:13:25.451197 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.452593 #6839] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.453978 #6839] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8652609037"], ["active", 1]]
D, [2020-04-01T21:13:25.455247 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.456444 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.461783 #6839] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "258912618"], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.463112 #6839] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "258912618"], ["date_of_birth", "2001-04-01"], ["phone", "5416049811"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:13:25.464356 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.465600 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.466792 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:25.467832 #6839] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:25.468880 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.474448 #6839] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.475581 #6839] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:13:25.476499 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.477395 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T21:13:25.478453 #6839]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 21:13:25 +0000
I, [2020-04-01T21:13:25.486638 #6839]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T21:13:25.486886 #6839]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T21:13:25.491575 #6839] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.492595 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.493565 #6839] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T21:13:25.494417 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:13:25.495177 #6839]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T21:13:25.495941 #6839]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
D, [2020-04-01T21:13:25.503435 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:13:25.515064 #6839] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:13:25.516020 #6839] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:13:25.516297 #6839]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T21:13:25.516370 #6839]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T21:13:25.516444 #6839]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T21:13:25.517301 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.522748 #6839] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.524100 #6839] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3602123940"], ["active", 1]]
D, [2020-04-01T21:13:25.525339 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.526568 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.527907 #6839] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "025124226"], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.529211 #6839] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "025124226"], ["date_of_birth", "2001-04-01"], ["phone", "2769382694"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:13:25.534509 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.535752 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.536939 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:25.538038 #6839] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:25.539141 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.540602 #6839] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.544276 #6839] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:13:25.545210 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.546130 #6839] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:13:25.589751 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:13:25.590119 #6839]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T21:13:25.590193 #6839]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T21:13:25.590250 #6839]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T21:13:25.591086 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.592465 #6839] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.595051 #6839] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1513628873"], ["active", 1]]
D, [2020-04-01T21:13:25.596313 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.597510 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.603005 #6839] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "133546691"], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.604357 #6839] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "133546691"], ["date_of_birth", "2001-04-01"], ["phone", "6256533960"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:13:25.609690 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.611029 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.612268 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:25.613343 #6839] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:25.614540 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.616016 #6839] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.617158 #6839] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:13:25.622190 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.623100 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:13:25.624283 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.625576 #6839] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "110178016"], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.626897 #6839] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "110178016"], ["date_of_birth", "2001-04-01"], ["phone", "6818721211"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:13:25.628171 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:13:25.634132 #6839]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:13:25 +0000
I, [2020-04-01T21:13:25.635192 #6839]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:13:25.635491 #6839]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:13:25.636632 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.638347 #6839] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.640028 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.641492 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:25.642699 #6839] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:25.643806 #6839] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.645377 #6839] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.647734 #6839] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T21:13:25.648814 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:13:25.649966 #6839]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-04-01T21:13:25.650894 #6839]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.7ms)
D, [2020-04-01T21:13:25.660683 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T21:13:25.661743 #6839] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:13:25.662662 #6839] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:13:25.662966 #6839]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T21:13:25.663042 #6839]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T21:13:25.663102 #6839]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T21:13:25.663936 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.665200 #6839] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.666627 #6839] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6291806527"], ["active", 1]]
D, [2020-04-01T21:13:25.667911 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.669067 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.674527 #6839] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "086260871"], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.675874 #6839] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "086260871"], ["date_of_birth", "2001-04-01"], ["phone", "9864231959"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:13:25.677149 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.678464 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.679693 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:25.680838 #6839] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:25.682034 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.683543 #6839] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.684741 #6839] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:13:25.689802 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:13:25.691157 #6839]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 21:13:25 +0000
I, [2020-04-01T21:13:25.692098 #6839]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T21:13:25.692401 #6839]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T21:13:25.693508 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:25.694775 #6839] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:25.916966 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:25.918532 #6839] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:25.919861 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T21:13:25.927496 #6839]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:13:25.928606 #6839]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.8ms)
I, [2020-04-01T21:13:26.221213 #6839]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T21:13:26.222566 #6839]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T21:13:26.223884 #6839]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T21:13:26.225299 #6839]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T21:13:26.226418 #6839]  INFO -- : Completed 200 OK in 534ms (Views: 305.2ms | ActiveRecord: 0.4ms)
D, [2020-04-01T21:13:26.234989 #6839] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:13:26.241792 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:13:26.242151 #6839]  INFO -- : ----------------------------------------------
I, [2020-04-01T21:13:26.242226 #6839]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T21:13:26.242288 #6839]  INFO -- : ----------------------------------------------
D, [2020-04-01T21:13:26.243169 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:26.244578 #6839] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:13:26.246066 #6839] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2696491434"], ["active", 1]]
D, [2020-04-01T21:13:26.247269 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:26.248491 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:26.249830 #6839] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "356613301"], ["LIMIT", 1]]
D, [2020-04-01T21:13:26.251135 #6839] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "356613301"], ["date_of_birth", "2001-04-01"], ["phone", "5763339809"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:13:26.252403 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:26.253578 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:26.254831 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:26.255897 #6839] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:26.256979 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:26.258448 #6839] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:26.259584 #6839] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:13:26.260514 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:13:26.265687 #6839]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 21:13:26 +0000
I, [2020-04-01T21:13:26.266764 #6839]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T21:13:26.267840 #6839]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T21:13:26.268236 #6839]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T21:13:26.269542 #6839]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:13:26.270157 #6839]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T21:13:26.270748 #6839]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:13:26.271320 #6839]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:13:26.272223 #6839]  INFO -- : Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:13:26.275260 #6839] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:13:26.281339 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:13:26.281695 #6839]  INFO -- : ------------------------------------------------
I, [2020-04-01T21:13:26.281769 #6839]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T21:13:26.281824 #6839]  INFO -- : ------------------------------------------------
D, [2020-04-01T21:13:26.282673 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:26.284024 #6839] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:13:26.285417 #6839] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3033996912"], ["active", 1]]
D, [2020-04-01T21:13:26.286698 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:26.287872 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:26.289183 #6839] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "206507625"], ["LIMIT", 1]]
D, [2020-04-01T21:13:26.290496 #6839] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "206507625"], ["date_of_birth", "2001-04-01"], ["phone", "0610375974"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:13:26.291720 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:26.292865 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:13:26.295949 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:26.296997 #6839] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:13:26.298085 #6839] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:26.299516 #6839] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:13:26.300658 #6839] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:13:26.301582 #6839] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:13:26.302679 #6839]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 21:13:26 +0000
I, [2020-04-01T21:13:26.303597 #6839]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T21:13:26.305438 #6839]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T21:13:26.306064 #6839]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.3ms)
I, [2020-04-01T21:13:26.307333 #6839]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:13:26.307894 #6839]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:13:26.308486 #6839]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:13:26.309095 #6839]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:13:26.309989 #6839]  INFO -- : Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:13:26.312981 #6839] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:37.607366 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T21:14:37.687618 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:37.688022 #6938]  INFO -- : ----------------------------------------------
I, [2020-04-01T21:14:37.688061 #6938]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T21:14:37.688083 #6938]  INFO -- : ----------------------------------------------
D, [2020-04-01T21:14:37.801680 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:37.804256 #6938] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "250929190"], ["LIMIT", 1]]
D, [2020-04-01T21:14:37.809682 #6938] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "250929190"], ["date_of_birth", "2001-04-01"], ["phone", "4653102566"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:14:37.810807 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:37.813205 #6938]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 21:14:37 +0000
I, [2020-04-01T21:14:37.823649 #6938]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T21:14:37.835569 #6938]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T21:14:37.837514 #6938] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T21:14:37.839417 #6938]  INFO -- :   Rendered employees/index.html.erb within layouts/application (3.5ms)
I, [2020-04-01T21:14:38.090273 #6938]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T21:14:38.091545 #6938]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T21:14:38.092903 #6938]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T21:14:38.098319 #6938]  INFO -- :   Rendered partials/_footer.html.erb (4.6ms)
I, [2020-04-01T21:14:38.099368 #6938]  INFO -- : Completed 200 OK in 275ms (Views: 269.4ms | ActiveRecord: 0.2ms)
D, [2020-04-01T21:14:38.104946 #6938] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:38.110129 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:38.110433 #6938]  INFO -- : --------------------------------------------------
I, [2020-04-01T21:14:38.110503 #6938]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T21:14:38.110556 #6938]  INFO -- : --------------------------------------------------
D, [2020-04-01T21:14:38.111702 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.113262 #6938] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "100402780"], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.114763 #6938] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "100402780"], ["date_of_birth", "2001-04-01"], ["phone", "3356342004"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:14:38.116012 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.131818 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.133475 #6938] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.134888 #6938] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7205765855"], ["active", 1]]
D, [2020-04-01T21:14:38.136119 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.154554 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.156152 #6938] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:14:38.157342 #6938] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:14:38.158792 #6938] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.169573 #6938] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.170838 #6938] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:14:38.171808 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:38.173026 #6938]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 21:14:38 +0000
I, [2020-04-01T21:14:38.178095 #6938]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T21:14:38.178363 #6938]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T21:14:38.179217 #6938] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T21:14:38.181131 #6938]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T21:14:38.190502 #6938] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x0000557167f4b798>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T21:14:38.197288 #6938] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:38.200100 #6938] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:38.200407 #6938]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T21:14:38.200498 #6938]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T21:14:38.200554 #6938]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T21:14:38.201745 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.203351 #6938] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "079124746"], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.204815 #6938] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "079124746"], ["date_of_birth", "2001-04-01"], ["phone", "6010229193"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:14:38.206120 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.207038 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T21:14:38.211942 #6938]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 21:14:38 +0000
I, [2020-04-01T21:14:38.213001 #6938]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T21:14:38.213291 #6938]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T21:14:38.214551 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.216029 #6938] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.217417 #6938] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:14:38.222832 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:38.223999 #6938]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T21:14:38.224995 #6938]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.3ms)
D, [2020-04-01T21:14:38.229364 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T21:14:38.234445 #6938] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T21:14:38.235561 #6938] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:38.237696 #6938] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:38.238011 #6938]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T21:14:38.238080 #6938]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T21:14:38.238138 #6938]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T21:14:38.239198 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.240547 #6938] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "007135626"], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.242050 #6938] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "007135626"], ["date_of_birth", "2001-04-01"], ["phone", "8556258208"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:14:38.243290 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:38.244639 #6938]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 21:14:38 +0000
I, [2020-04-01T21:14:38.245567 #6938]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T21:14:38.245917 #6938]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T21:14:38.247032 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.488978 #6938] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.491652 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:38.497766 #6938]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T21:14:38.561506 #6938]  INFO -- :   Rendered employees/_form.html.erb (62.4ms)
I, [2020-04-01T21:14:38.561957 #6938]  INFO -- :   Rendered employees/new.html.erb within layouts/application (63.9ms)
I, [2020-04-01T21:14:38.564060 #6938]  INFO -- :   Rendered partials/_topbar.html.erb (0.7ms)
I, [2020-04-01T21:14:38.564629 #6938]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T21:14:38.569743 #6938]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:14:38.570957 #6938]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:14:38.573048 #6938]  INFO -- : Completed 200 OK in 327ms (Views: 79.1ms | ActiveRecord: 0.3ms)
D, [2020-04-01T21:14:38.609906 #6938] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:38.614222 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:38.614535 #6938]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T21:14:38.614608 #6938]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T21:14:38.614689 #6938]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T21:14:38.615791 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.617299 #6938] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "062513465"], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.618823 #6938] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "062513465"], ["date_of_birth", "2001-04-01"], ["phone", "0728463489"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:14:38.620034 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:38.621334 #6938]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 21:14:38 +0000
I, [2020-04-01T21:14:38.622556 #6938]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T21:14:38.622849 #6938]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T21:14:38.623701 #6938] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.624855 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.631277 #6938] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.632979 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:38.634544 #6938]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T21:14:38.642149 #6938]  INFO -- :   Rendered employees/_form.html.erb (6.8ms)
I, [2020-04-01T21:14:38.642540 #6938]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.7ms)
I, [2020-04-01T21:14:38.643771 #6938]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:14:38.644341 #6938]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:14:38.644961 #6938]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:14:38.645597 #6938]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:14:38.650835 #6938]  INFO -- : Completed 200 OK in 28ms (Views: 16.5ms | ActiveRecord: 0.3ms)
D, [2020-04-01T21:14:38.655339 #6938] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:38.657490 #6938] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:38.657876 #6938]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T21:14:38.657950 #6938]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T21:14:38.658021 #6938]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T21:14:38.659044 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.660539 #6938] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "085837284"], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.662075 #6938] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "085837284"], ["date_of_birth", "2001-04-01"], ["phone", "5154449457"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:14:38.663427 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:38.664489 #6938]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 21:14:38 +0000
F, [2020-04-01T21:14:38.686862 #6938] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T21:14:38.690595 #6938] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:38.698020 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:38.698387 #6938]  INFO -- : ---------------------------------------------
I, [2020-04-01T21:14:38.698463 #6938]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T21:14:38.698536 #6938]  INFO -- : ---------------------------------------------
D, [2020-04-01T21:14:38.699616 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.701189 #6938] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "101869373"], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.702811 #6938] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "101869373"], ["date_of_birth", "2001-04-01"], ["phone", "7244904405"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:14:38.704134 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:38.705319 #6938]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 21:14:38 +0000
I, [2020-04-01T21:14:38.706369 #6938]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T21:14:38.706709 #6938]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T21:14:38.707527 #6938] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T21:14:38.708818 #6938]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T21:14:38.720157 #6938]  INFO -- :   Rendered employees/_form.html.erb (10.9ms)
I, [2020-04-01T21:14:38.720585 #6938]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (11.4ms)
I, [2020-04-01T21:14:38.721850 #6938]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:14:38.722473 #6938]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T21:14:38.723080 #6938]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:14:38.723768 #6938]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:14:38.724812 #6938]  INFO -- : Completed 200 OK in 18ms (Views: 15.6ms | ActiveRecord: 0.1ms)
D, [2020-04-01T21:14:38.728584 #6938] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:38.729276 #6938] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:38.729614 #6938]  INFO -- : --------------------------------------------
I, [2020-04-01T21:14:38.729720 #6938]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T21:14:38.729778 #6938]  INFO -- : --------------------------------------------
D, [2020-04-01T21:14:38.730936 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.732422 #6938] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "306946835"], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.733900 #6938] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "306946835"], ["date_of_birth", "2001-04-01"], ["phone", "7622706517"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:14:38.735198 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:38.736288 #6938]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 21:14:38 +0000
I, [2020-04-01T21:14:38.737253 #6938]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T21:14:38.742364 #6938]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T21:14:38.749588 #6938]  INFO -- :   Rendered employees/_form.html.erb (6.7ms)
I, [2020-04-01T21:14:38.750016 #6938]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.3ms)
I, [2020-04-01T21:14:38.751316 #6938]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:14:38.751921 #6938]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:14:38.752542 #6938]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:14:38.753125 #6938]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:14:38.754125 #6938]  INFO -- : Completed 200 OK in 16ms (Views: 11.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:14:38.757326 #6938] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:38.762078 #6938] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:38.762360 #6938]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T21:14:38.762432 #6938]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T21:14:38.762559 #6938]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T21:14:38.763599 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.765073 #6938] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "064754125"], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.766560 #6938] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "064754125"], ["date_of_birth", "2001-04-01"], ["phone", "4292939978"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:14:38.767798 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:38.769003 #6938]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 21:14:38 +0000
I, [2020-04-01T21:14:38.770078 #6938]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T21:14:38.770339 #6938]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T21:14:38.771146 #6938] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.772333 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:38.775212 #6938] DEBUG -- :   [1m[36mEmployee Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:14:38.776841 #6938] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T21:14:38.778147 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:38.779015 #6938]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T21:14:38.780029 #6938]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
D, [2020-04-01T21:14:38.784608 #6938] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:57.562775 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T21:14:57.647160 #6971] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:57.647600 #6971]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T21:14:57.647640 #6971]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T21:14:57.647752 #6971]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T21:14:57.750676 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:57.752252 #6971] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:14:57.753519 #6971] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5313805754"], ["active", 1]]
D, [2020-04-01T21:14:57.754644 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:57.756993 #6971]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 21:14:57 +0000
F, [2020-04-01T21:14:57.778137 #6971] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end
  end
  ^~~
/home/ubuntu/Project/app/controllers/stores_controller.rb:44: syntax error, unexpected end-of-input, expecting keyword_end:
  app/controllers/stores_controller.rb:34:in `'
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T21:14:57.783490 #6971] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:57.799142 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:57.799484 #6971]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T21:14:57.799561 #6971]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T21:14:57.799636 #6971]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T21:14:57.800511 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:57.806029 #6971] DEBUG -- :   [1m[36mStore Exists (4.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:14:57.807427 #6971] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2237342947"], ["active", 1]]
D, [2020-04-01T21:14:57.808642 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:57.809841 #6971]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 21:14:57 +0000
F, [2020-04-01T21:14:57.821744 #6971] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end
  end
  ^~~
/home/ubuntu/Project/app/controllers/stores_controller.rb:44: syntax error, unexpected end-of-input, expecting keyword_end:
  app/controllers/stores_controller.rb:34:in `'
  test/controllers/stores_controller_test.rb:48:in `block in <class:StoresControllerTest>'

D, [2020-04-01T21:14:57.851997 #6971] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:57.878469 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:57.878906 #6971]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T21:14:57.878992 #6971]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T21:14:57.879063 #6971]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T21:14:57.879980 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:57.881355 #6971] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:14:57.882842 #6971] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0354356140"], ["active", 1]]
D, [2020-04-01T21:14:57.884149 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:57.885281 #6971]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 21:14:57 +0000
F, [2020-04-01T21:14:57.909980 #6971] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end
  end
  ^~~
/home/ubuntu/Project/app/controllers/stores_controller.rb:44: syntax error, unexpected end-of-input, expecting keyword_end:
  app/controllers/stores_controller.rb:34:in `'
  test/controllers/stores_controller_test.rb:55:in `block in <class:StoresControllerTest>'

D, [2020-04-01T21:14:57.913749 #6971] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:57.929993 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:57.930335 #6971]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T21:14:57.930481 #6971]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T21:14:57.930542 #6971]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T21:14:57.931366 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:57.932686 #6971] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:14:57.934173 #6971] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5475523165"], ["active", 1]]
D, [2020-04-01T21:14:57.935399 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:57.936371 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T21:14:57.945228 #6971]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 21:14:57 +0000
F, [2020-04-01T21:14:57.958944 #6971] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end
  end
  ^~~
/home/ubuntu/Project/app/controllers/stores_controller.rb:44: syntax error, unexpected end-of-input, expecting keyword_end:
  app/controllers/stores_controller.rb:34:in `'
  test/controllers/stores_controller_test.rb:30:in `block (2 levels) in <class:StoresControllerTest>'
  test/controllers/stores_controller_test.rb:29:in `block in <class:StoresControllerTest>'

D, [2020-04-01T21:14:57.966905 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T21:14:57.967791 #6971] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:57.988754 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:57.989102 #6971]  INFO -- : -----------------------------------------
I, [2020-04-01T21:14:57.989177 #6971]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T21:14:57.989253 #6971]  INFO -- : -----------------------------------------
D, [2020-04-01T21:14:57.990332 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:57.991729 #6971] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:14:57.993142 #6971] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1794096514"], ["active", 1]]
D, [2020-04-01T21:14:57.998463 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:57.999668 #6971]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 21:14:57 +0000
F, [2020-04-01T21:14:58.014330 #6971] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end
  end
  ^~~
/home/ubuntu/Project/app/controllers/stores_controller.rb:44: syntax error, unexpected end-of-input, expecting keyword_end:
  app/controllers/stores_controller.rb:34:in `'
  test/controllers/stores_controller_test.rb:23:in `block in <class:StoresControllerTest>'

D, [2020-04-01T21:14:58.018182 #6971] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:58.033927 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:58.034323 #6971]  INFO -- : --------------------------------------------
I, [2020-04-01T21:14:58.034401 #6971]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T21:14:58.034463 #6971]  INFO -- : --------------------------------------------
D, [2020-04-01T21:14:58.035350 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:58.036686 #6971] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:14:58.038234 #6971] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1669100663"], ["active", 1]]
D, [2020-04-01T21:14:58.039523 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:58.040639 #6971]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 21:14:58 +0000
F, [2020-04-01T21:14:58.058638 #6971] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end
  end
  ^~~
/home/ubuntu/Project/app/controllers/stores_controller.rb:44: syntax error, unexpected end-of-input, expecting keyword_end:
  app/controllers/stores_controller.rb:34:in `'
  test/controllers/stores_controller_test.rb:16:in `block in <class:StoresControllerTest>'

D, [2020-04-01T21:14:58.066618 #6971] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:58.067652 #6971] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:58.067939 #6971]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T21:14:58.068016 #6971]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T21:14:58.068102 #6971]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T21:14:58.068929 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:58.070293 #6971] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:14:58.071713 #6971] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7161630885"], ["active", 1]]
D, [2020-04-01T21:14:58.072988 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:58.074311 #6971]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 21:14:58 +0000
F, [2020-04-01T21:14:58.088193 #6971] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end
  end
  ^~~
/home/ubuntu/Project/app/controllers/stores_controller.rb:44: syntax error, unexpected end-of-input, expecting keyword_end:
  app/controllers/stores_controller.rb:34:in `'
  test/controllers/stores_controller_test.rb:37:in `block in <class:StoresControllerTest>'

D, [2020-04-01T21:14:58.096076 #6971] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:58.097017 #6971] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:58.097329 #6971]  INFO -- : ------------------------------------------
I, [2020-04-01T21:14:58.097400 #6971]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T21:14:58.097535 #6971]  INFO -- : ------------------------------------------
D, [2020-04-01T21:14:58.098398 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:58.099672 #6971] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:14:58.101064 #6971] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5008237918"], ["active", 1]]
D, [2020-04-01T21:14:58.106388 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:58.107581 #6971]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 21:14:58 +0000
F, [2020-04-01T21:14:58.119982 #6971] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end
  end
  ^~~
/home/ubuntu/Project/app/controllers/stores_controller.rb:44: syntax error, unexpected end-of-input, expecting keyword_end:
  app/controllers/stores_controller.rb:34:in `'
  test/controllers/stores_controller_test.rb:42:in `block in <class:StoresControllerTest>'

D, [2020-04-01T21:14:58.132189 #6971] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:14:58.133264 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:14:58.133581 #6971]  INFO -- : -------------------------------------------
I, [2020-04-01T21:14:58.133682 #6971]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T21:14:58.133774 #6971]  INFO -- : -------------------------------------------
D, [2020-04-01T21:14:58.134635 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:14:58.136006 #6971] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:14:58.137450 #6971] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1334330127"], ["active", 1]]
D, [2020-04-01T21:14:58.138925 #6971] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:14:58.140078 #6971]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 21:14:58 +0000
F, [2020-04-01T21:14:58.154682 #6971] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end
  end
  ^~~
/home/ubuntu/Project/app/controllers/stores_controller.rb:44: syntax error, unexpected end-of-input, expecting keyword_end:
  app/controllers/stores_controller.rb:34:in `'
  test/controllers/stores_controller_test.rb:9:in `block in <class:StoresControllerTest>'

D, [2020-04-01T21:14:58.162734 #6971] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:32.430757 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T21:17:32.605252 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:32.605760 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:32.606153 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:17:32.679069 #7158]  INFO -- : Started GET "/" for 127.0.0.1 at 2020-04-01 21:17:32 +0000
I, [2020-04-01T21:17:32.689577 #7158]  INFO -- : Processing by HomeController#index as HTML
I, [2020-04-01T21:17:32.697305 #7158]  INFO -- :   Rendering home/index.html.erb within layouts/application
I, [2020-04-01T21:17:32.698310 #7158]  INFO -- :   Rendered home/index.html.erb within layouts/application (0.7ms)
I, [2020-04-01T21:17:33.008565 #7158]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T21:17:33.013940 #7158]  INFO -- :   Rendered partials/_nav.html.erb (0.3ms)
I, [2020-04-01T21:17:33.015283 #7158]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T21:17:33.016597 #7158]  INFO -- :   Rendered partials/_footer.html.erb (0.4ms)
I, [2020-04-01T21:17:33.017536 #7158]  INFO -- : Completed 200 OK in 328ms (Views: 321.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:17:33.048709 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:33.050658 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:33.051104 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:33.051525 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:17:33.053409 #7158]  INFO -- : Started GET "/home/about" for 127.0.0.1 at 2020-04-01 21:17:33 +0000
I, [2020-04-01T21:17:33.058351 #7158]  INFO -- : Processing by HomeController#about as HTML
I, [2020-04-01T21:17:33.061307 #7158]  INFO -- :   Rendering home/about.html.erb within layouts/application
I, [2020-04-01T21:17:33.061961 #7158]  INFO -- :   Rendered home/about.html.erb within layouts/application (0.3ms)
I, [2020-04-01T21:17:33.063192 #7158]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:17:33.063757 #7158]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:17:33.064328 #7158]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:17:33.064914 #7158]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:17:33.065756 #7158]  INFO -- : Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:17:33.076308 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:33.082407 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:33.082859 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:33.083290 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:17:33.084977 #7158]  INFO -- : Started GET "/home/contact" for 127.0.0.1 at 2020-04-01 21:17:33 +0000
I, [2020-04-01T21:17:33.085945 #7158]  INFO -- : Processing by HomeController#contact as HTML
I, [2020-04-01T21:17:33.090254 #7158]  INFO -- :   Rendering home/contact.html.erb within layouts/application
I, [2020-04-01T21:17:33.090895 #7158]  INFO -- :   Rendered home/contact.html.erb within layouts/application (0.3ms)
I, [2020-04-01T21:17:33.092093 #7158]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:17:33.092620 #7158]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:17:33.093216 #7158]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:17:33.093815 #7158]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:17:33.094636 #7158]  INFO -- : Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:17:33.104571 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:33.106652 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:33.107106 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:33.107523 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:17:33.109216 #7158]  INFO -- : Started GET "/home/privacy" for 127.0.0.1 at 2020-04-01 21:17:33 +0000
I, [2020-04-01T21:17:33.122312 #7158]  INFO -- : Processing by HomeController#privacy as HTML
I, [2020-04-01T21:17:33.130384 #7158]  INFO -- :   Rendering home/privacy.html.erb within layouts/application
I, [2020-04-01T21:17:33.131041 #7158]  INFO -- :   Rendered home/privacy.html.erb within layouts/application (0.3ms)
I, [2020-04-01T21:17:33.132269 #7158]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:17:33.132819 #7158]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:17:33.133375 #7158]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:17:33.137995 #7158]  INFO -- :   Rendered partials/_footer.html.erb (4.2ms)
I, [2020-04-01T21:17:33.138832 #7158]  INFO -- : Completed 200 OK in 16ms (Views: 8.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:17:33.144978 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:33.151041 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:33.152249 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:33.152641 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:17:33.155899 #7158]  INFO -- : Started GET "/" for 127.0.0.1 at 2020-04-01 21:17:33 +0000
I, [2020-04-01T21:17:33.156708 #7158]  INFO -- : Processing by HomeController#index as HTML
I, [2020-04-01T21:17:33.157552 #7158]  INFO -- :   Rendering home/index.html.erb within layouts/application
I, [2020-04-01T21:17:33.157942 #7158]  INFO -- :   Rendered home/index.html.erb within layouts/application (0.1ms)
I, [2020-04-01T21:17:33.159166 #7158]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:17:33.159784 #7158]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:17:33.160436 #7158]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:17:33.161159 #7158]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:17:33.208577 #7158]  INFO -- : Completed 200 OK in 51ms (Views: 4.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:17:33.218974 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:33.221290 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:33.225885 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:33.226364 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:33.252854 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.255750 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "016735750"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.257476 #7158] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "016735750"], ["date_of_birth", "2001-04-01"], ["phone", "8437227452"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:33.258919 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.260346 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.261586 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.262954 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "8222767040"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:33.264352 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.269712 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.271053 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "322664646"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.272271 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "322664646"], ["date_of_birth", "2004-04-01"], ["phone", "6869241101"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:33.273563 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.274866 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.275991 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "206474715"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.277099 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "206474715"], ["date_of_birth", "1994-04-01"], ["phone", "7140794063"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:33.278255 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.279357 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.280469 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.281591 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:33.286795 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.287977 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.289184 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.290409 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "9742220882"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:33.291700 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.292811 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.294143 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "379233637"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.295391 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "379233637"], ["date_of_birth", "2001-04-01"], ["phone", "2479502997"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:33.296655 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.314549 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.316152 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.317573 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0393441235"], ["active", 1]]
D, [2020-04-01T21:17:33.318995 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.320094 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.321252 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.322537 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:33.323869 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.324929 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.330117 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.331403 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0409701068"], ["active", 0]]
D, [2020-04-01T21:17:33.333011 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.356836 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.363482 #7158] DEBUG -- :   [1m[36mEmployee Load (0.6ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.366579 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.369072 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.383616 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.385444 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:33.387359 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.389355 #7158] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.395434 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.397283 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.399190 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.401347 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.402956 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:33.404597 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.406972 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.408467 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.410358 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.412131 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.418703 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.420586 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:33.422257 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.424738 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.426336 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.432195 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.433606 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.435456 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.436858 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:33.442221 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.443824 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.445163 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.446418 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.447640 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.449380 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.450790 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:33.451840 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.453179 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.454623 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.455791 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.456965 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.462676 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.463834 #7158] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:33.464823 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.465670 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.466912 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:33.467869 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.468947 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.470552 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:33.471933 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.473069 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.474731 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:33.476273 #7158] DEBUG -- :   [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.477276 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.478449 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.479596 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.480989 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:33.482328 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.483369 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.484714 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:33.489818 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.490704 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.491900 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:33.493429 #7158] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.494524 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.495891 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:33.497048 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.498517 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.500741 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.506409 #7158] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:33.507996 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.509525 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.510801 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T21:17:33.511915 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.512953 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.517769 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T21:17:33.518907 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.519950 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.521123 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T21:17:33.522250 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.523673 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.524382 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-01T21:17:33.525458 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.526491 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.527640 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-01T21:17:33.528697 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.533746 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.534870 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-01T21:17:33.535966 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.537004 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.538130 #7158] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T21:17:33.539158 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.539722 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.541274 #7158] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T21:17:33.542349 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.542912 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.543995 #7158] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T21:17:33.545075 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.548098 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.548954 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T21:17:33.549740 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.550402 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.551239 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T21:17:33.552030 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.552563 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.583225 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T21:17:33.583995 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.584590 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.585317 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-01T21:17:33.586034 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.586608 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.587317 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-01T21:17:33.588010 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.588567 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.589283 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-01T21:17:33.589933 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.590499 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.591192 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-01T21:17:33.591856 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:33.612033 #7158]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 21:17:33 +0000
I, [2020-04-01T21:17:33.614601 #7158]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T21:17:33.617271 #7158]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T21:17:33.624333 #7158] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T21:17:33.625323 #7158]  INFO -- :   Rendered employees/index.html.erb within layouts/application (7.7ms)
I, [2020-04-01T21:17:33.626642 #7158]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:17:33.627182 #7158]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:17:33.627721 #7158]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:17:33.628321 #7158]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:17:33.629178 #7158]  INFO -- : Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 0.2ms)
D, [2020-04-01T21:17:33.679440 #7158] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:33.685951 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:33.686432 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:33.686859 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:33.688753 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.690293 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "337281946"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.691690 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "337281946"], ["date_of_birth", "2001-04-01"], ["phone", "2917355878"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:33.692981 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.694150 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.695308 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.696501 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "0991690805"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:33.701815 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.702974 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.704135 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "108633140"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.705332 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "108633140"], ["date_of_birth", "2004-04-01"], ["phone", "9673899946"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:33.706619 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.707767 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.708881 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "034430216"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.710084 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "034430216"], ["date_of_birth", "1994-04-01"], ["phone", "1699978442"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:33.711311 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.712451 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.713532 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.718722 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:33.719992 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.721305 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.722652 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.723869 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "1178761637"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:33.725069 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.726123 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.727249 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "347123205"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.728399 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "347123205"], ["date_of_birth", "2001-04-01"], ["phone", "3965573908"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:33.733679 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.734665 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.735812 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.737064 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8765869349"], ["active", 1]]
D, [2020-04-01T21:17:33.738303 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.739243 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.740210 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.741341 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:33.746567 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.747464 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.748551 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.749715 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1897840180"], ["active", 0]]
D, [2020-04-01T21:17:33.750890 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.752142 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.753314 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.759868 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.761011 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.762506 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.763667 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:33.764670 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.767529 #7158] DEBUG -- :   [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.768715 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.773819 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.774953 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.776348 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.777410 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:33.778393 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.779608 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.780746 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.785896 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.786934 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.788347 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.789425 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:33.790305 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.791571 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.792727 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.797887 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.798983 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.800404 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.801511 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:33.802572 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.803755 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.804894 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.806013 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.807045 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.808434 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.809481 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:33.814511 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.815720 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.816854 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.817996 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.819042 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.820451 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.821501 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:33.822458 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.823141 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.824199 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:33.824994 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.827607 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.828546 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:33.829345 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.830024 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.831002 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:33.831803 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.832459 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.833250 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.833965 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.834946 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:33.835700 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.836372 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.837353 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:33.842158 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.842820 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.843836 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:33.844689 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.845311 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.846331 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:33.847159 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.847835 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.849315 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.850566 #7158] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:33.851476 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:33.853012 #7158]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 21:17:33 +0000
I, [2020-04-01T21:17:33.857942 #7158]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T21:17:33.859561 #7158]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T21:17:33.860393 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T21:17:33.862392 #7158]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.4ms)
I, [2020-04-01T21:17:33.863714 #7158]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:17:33.864327 #7158]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:17:33.864953 #7158]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:17:33.865636 #7158]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:17:33.866636 #7158]  INFO -- : Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.1ms)
D, [2020-04-01T21:17:33.904914 #7158] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:33.907289 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:33.907725 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:33.908171 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:33.914082 #7158] DEBUG -- :   [1m[35m (4.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.915608 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "099820364"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.917001 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "099820364"], ["date_of_birth", "2001-04-01"], ["phone", "1782333076"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:33.918154 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.919469 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.920669 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.921920 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "9110018629"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:33.923241 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.924331 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.925551 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "206670878"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.930950 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "206670878"], ["date_of_birth", "2004-04-01"], ["phone", "0171226552"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:33.932241 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.933360 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.934526 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "189512562"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.935668 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "189512562"], ["date_of_birth", "1994-04-01"], ["phone", "2538783469"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:33.936904 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.938126 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.939334 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.940425 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:33.941718 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.942825 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.943903 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.945068 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "2870551663"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:33.946321 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.947386 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.948423 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "049346894"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.949604 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "049346894"], ["date_of_birth", "2001-04-01"], ["phone", "5648321678"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:33.954944 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.955896 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.956999 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.958249 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4564091849"], ["active", 1]]
D, [2020-04-01T21:17:33.959511 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.960419 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.961411 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.964090 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:33.965348 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.966316 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.967336 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.968423 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0061396854"], ["active", 0]]
D, [2020-04-01T21:17:33.969684 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.971010 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.972214 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.973333 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.974434 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.975824 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.976989 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:33.982026 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.983159 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.984267 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.985400 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.986469 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.987836 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.988811 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:33.989790 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.990897 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:33.991971 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.993048 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:33.998198 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:33.999663 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.000748 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:34.004973 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.006262 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.007499 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.008609 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.009676 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.011029 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.012101 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:34.013123 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.014266 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.015337 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.016426 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.017436 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.018812 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.019845 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:34.020721 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.025893 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.027087 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.028151 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.029237 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.030629 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.031704 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:34.032627 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.033283 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.034348 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:34.035186 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.035828 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.036828 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:34.041693 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.042353 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.043383 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:34.044175 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.044804 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.045646 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.046300 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.047306 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:34.048158 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.048817 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.049801 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:34.050640 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.051320 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.052254 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:34.053071 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.057739 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.058781 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:34.059666 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.060351 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.061902 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.063172 #7158] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:34.064038 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:34.065609 #7158]  INFO -- : Started GET "/employees/5" for 127.0.0.1 at 2020-04-01 21:17:34 +0000
I, [2020-04-01T21:17:34.066648 #7158]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T21:17:34.066942 #7158]  INFO -- :   Parameters: {"id"=>"5"}
D, [2020-04-01T21:17:34.067721 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
I, [2020-04-01T21:17:34.069842 #7158]  INFO -- : Completed 500  in 3ms (ActiveRecord: 0.1ms)
F, [2020-04-01T21:17:34.082653 #7158] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055c0236acc30>:
  app/controllers/employees_controller.rb:34:in `show'

D, [2020-04-01T21:17:34.116897 #7158] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:34.119651 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:34.120151 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:34.120631 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:34.133200 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.138773 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "154043439"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.140339 #7158] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "154043439"], ["date_of_birth", "2001-04-01"], ["phone", "9261959471"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:34.141726 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.142972 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.144141 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.145296 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "6809116183"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:34.146481 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.147579 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.148714 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "290940164"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.153969 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "290940164"], ["date_of_birth", "2004-04-01"], ["phone", "5317079041"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:34.155285 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.156510 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.157721 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "026407936"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.158873 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "026407936"], ["date_of_birth", "1994-04-01"], ["phone", "2933909425"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:34.160159 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.161242 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.162405 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.163614 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:34.164830 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.168016 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.169193 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.170383 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "4206483438"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:34.171630 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.172656 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.173831 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "077203277"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.175012 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "077203277"], ["date_of_birth", "2001-04-01"], ["phone", "5956648136"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:34.176215 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.177107 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.178264 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.179493 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2257549468"], ["active", 1]]
D, [2020-04-01T21:17:34.180799 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.185734 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.186747 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.187978 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:34.189228 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.190218 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.191221 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.192354 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5077269997"], ["active", 0]]
D, [2020-04-01T21:17:34.197641 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.198994 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.200263 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.201377 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.202510 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.204031 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.205191 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:34.206267 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.207443 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.208546 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.209599 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.214690 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.216097 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.217197 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:34.218156 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.219332 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.220360 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.221489 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.222608 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.223993 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.225006 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:34.229984 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.231259 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.232394 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.233517 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.234636 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.236019 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.237108 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:34.238110 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.239250 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.240308 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.241442 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.244422 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.245821 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.246902 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:34.247809 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.248999 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.250079 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.251230 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.252257 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.253641 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.254696 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:34.255587 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.256220 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.257271 #7158] DEBUG -- :   [1m[36mAssignment Update (0.2ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:34.262119 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.262792 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.263837 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:34.264658 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.265322 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.270351 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:34.271199 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.271862 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.272607 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.273282 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.274273 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:34.275121 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.275739 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.276731 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:34.277576 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.278255 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.279201 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:34.280029 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.280647 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.285654 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:34.286521 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.287226 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.288700 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.290042 #7158] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:34.290894 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:34.292522 #7158]  INFO -- : Started GET "/employees/2" for 127.0.0.1 at 2020-04-01 21:17:34 +0000
I, [2020-04-01T21:17:34.293405 #7158]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T21:17:34.293692 #7158]  INFO -- :   Parameters: {"id"=>"2"}
D, [2020-04-01T21:17:34.294514 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
I, [2020-04-01T21:17:34.296671 #7158]  INFO -- : Completed 500  in 3ms (ActiveRecord: 0.1ms)
F, [2020-04-01T21:17:34.309499 #7158] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055c0236acc30>:
  app/controllers/employees_controller.rb:34:in `show'

D, [2020-04-01T21:17:34.324077 #7158] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:34.326374 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:34.326827 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:34.327276 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:34.329044 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.330515 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "251461556"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.332023 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "251461556"], ["date_of_birth", "2001-04-01"], ["phone", "3995990089"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:34.337680 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.339096 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.340483 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.341809 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "0264284969"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:34.343145 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.344321 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.345528 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "341331452"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.346754 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "341331452"], ["date_of_birth", "2004-04-01"], ["phone", "1647028114"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:34.348041 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.349237 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.350728 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "348562270"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.352149 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "348562270"], ["date_of_birth", "1994-04-01"], ["phone", "7789159162"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:34.357782 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.359195 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.371479 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.372812 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:34.374059 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.375357 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.376519 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.381731 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "7134546844"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:34.382954 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.384166 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.385423 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "051499383"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.386624 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "051499383"], ["date_of_birth", "2001-04-01"], ["phone", "8226994618"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:34.387802 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.388749 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.394023 #7158] DEBUG -- :   [1m[36mStore Exists (4.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.395318 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5753693667"], ["active", 1]]
D, [2020-04-01T21:17:34.396515 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.397532 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.398615 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.399762 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:34.400944 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.401917 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.402955 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.404183 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6011268106"], ["active", 0]]
D, [2020-04-01T21:17:34.405354 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.408231 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.409462 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.410701 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.411800 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.413176 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.418381 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:34.419452 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.420702 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.421856 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.423012 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.424108 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.425523 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.426622 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:34.427526 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.428711 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.433850 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.435010 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.436103 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.437474 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.438650 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:34.439595 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.440897 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.442164 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.443268 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.444356 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.445815 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.446942 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:34.447966 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.449127 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.450220 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.451320 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.452383 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.457791 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.458847 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:34.459875 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.461131 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.462263 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.463347 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.464459 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.465854 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.466936 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:34.467874 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.468574 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.473775 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:34.474624 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.475311 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.476314 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:34.477176 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.477848 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.478840 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:34.479700 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.480331 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.481152 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.481812 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.482811 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:34.483619 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.484301 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.485303 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:34.486202 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.486850 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.487825 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:34.488671 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.489287 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.492227 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:34.493052 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.493695 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.495261 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.496556 #7158] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:34.497445 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:34.499098 #7158]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 21:17:34 +0000
I, [2020-04-01T21:17:34.500001 #7158]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T21:17:34.500303 #7158]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T21:17:34.501104 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T21:17:34.503258 #7158]  INFO -- : Completed 500  in 3ms (ActiveRecord: 0.1ms)
F, [2020-04-01T21:17:34.515992 #7158] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055c0236acc30>:
  app/controllers/employees_controller.rb:34:in `show'

D, [2020-04-01T21:17:34.533314 #7158] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:34.535850 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:34.536299 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:34.536756 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:34.542685 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.544201 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "285862936"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.545652 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "285862936"], ["date_of_birth", "2001-04-01"], ["phone", "2248667551"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:34.547276 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.548620 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.549949 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.551203 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "7155824315"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:34.552420 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.553485 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.554691 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "062918365"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.555933 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "062918365"], ["date_of_birth", "2004-04-01"], ["phone", "0752313885"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:34.557289 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.562445 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.563717 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "316804661"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.564959 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "316804661"], ["date_of_birth", "1994-04-01"], ["phone", "9347672841"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:34.566352 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.567650 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.568907 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.570238 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:34.571577 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.572856 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.574108 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.575348 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "9337766806"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:34.576669 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.580029 #7158] DEBUG -- :   [1m[35m (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.581321 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "202306677"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.582656 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "202306677"], ["date_of_birth", "2001-04-01"], ["phone", "0090114383"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:34.584111 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.591765 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.593154 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.594435 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0371532084"], ["active", 1]]
D, [2020-04-01T21:17:34.595638 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.596661 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.597781 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.598933 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:34.600093 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.601051 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.604609 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.605768 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7447800179"], ["active", 0]]
D, [2020-04-01T21:17:34.607012 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.608364 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.609667 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.610817 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.611842 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.613301 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.618511 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:34.619570 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.620711 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.621839 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.623006 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.624069 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.625443 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.630481 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:34.631478 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.632677 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.633837 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.634951 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.635946 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.637349 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.638406 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:34.639387 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.640646 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.641856 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.643004 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.644054 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.645403 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.646452 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:34.647509 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.648664 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.649753 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.650842 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.651860 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.653217 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.658309 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:34.659293 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.660504 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.661603 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.662828 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.663884 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.665257 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.670352 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:34.671327 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.672035 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.673130 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:34.673969 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.674609 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.675602 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:34.676402 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.677053 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.678088 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:34.678947 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.679612 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.680388 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.681077 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.682074 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:34.682894 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.683501 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.684500 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:34.685326 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.687719 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.688707 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:34.689553 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.690211 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.691232 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:34.692046 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.692730 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.694231 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.695540 #7158] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:34.696482 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:34.698080 #7158]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 21:17:34 +0000
I, [2020-04-01T21:17:34.698897 #7158]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T21:17:34.700361 #7158]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T21:17:34.701107 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T21:17:34.706935 #7158]  INFO -- :   Rendered employees/index.html.erb within layouts/application (6.2ms)
I, [2020-04-01T21:17:34.708163 #7158]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:17:34.708705 #7158]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:17:34.709332 #7158]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:17:34.709916 #7158]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:17:34.710836 #7158]  INFO -- : Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.1ms)
I, [2020-04-01T21:17:34.717386 #7158]  INFO -- : Started GET "/employees/5" for 127.0.0.1 at 2020-04-01 21:17:34 +0000
I, [2020-04-01T21:17:34.722263 #7158]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T21:17:34.722554 #7158]  INFO -- :   Parameters: {"id"=>"5"}
D, [2020-04-01T21:17:34.723407 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
I, [2020-04-01T21:17:34.725529 #7158]  INFO -- : Completed 500  in 3ms (ActiveRecord: 0.1ms)
F, [2020-04-01T21:17:34.738959 #7158] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055c0236acc30>:
  app/controllers/employees_controller.rb:34:in `show'

D, [2020-04-01T21:17:34.751005 #7158] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:34.753430 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:34.757943 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:34.758427 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:34.760344 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.761887 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "359475946"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.763356 #7158] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "359475946"], ["date_of_birth", "2001-04-01"], ["phone", "9431587466"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:34.764695 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.766087 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.767374 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.768565 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "3883719424"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:34.769894 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.771098 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.772271 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "128342383"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.773469 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "128342383"], ["date_of_birth", "2004-04-01"], ["phone", "7775952223"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:34.774872 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.776132 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.777342 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "061109415"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.782626 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "061109415"], ["date_of_birth", "1994-04-01"], ["phone", "8905454921"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:34.784062 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.785408 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.786670 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.787835 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:34.789268 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.798782 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.800224 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.801580 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "8537575167"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:34.811059 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.812401 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.813635 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "332708606"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.814867 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "332708606"], ["date_of_birth", "2001-04-01"], ["phone", "9700422054"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:34.816341 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.817319 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.826554 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.827914 #7158] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1947196723"], ["active", 1]]
D, [2020-04-01T21:17:34.829272 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.830340 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.831330 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.832462 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:34.837827 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.838889 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.839907 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.841076 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5425637102"], ["active", 0]]
D, [2020-04-01T21:17:34.842379 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.843670 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.844905 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.850103 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.851262 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.852741 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.853946 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:34.855008 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.856189 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.857309 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.859633 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.860670 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.866553 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.867645 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:34.868625 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.869931 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.871056 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.872186 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.873238 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.874658 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.875693 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:34.876631 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.879569 #7158] DEBUG -- :   [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.880739 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.881847 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.882954 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.884297 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.885348 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:34.890474 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.891713 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.892887 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.894034 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.895038 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.896397 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.897445 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:34.902477 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.903669 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.904855 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.906000 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:34.907095 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.908516 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.909610 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:34.914652 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.915387 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.916473 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:34.917306 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.918003 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.918993 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:34.919844 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.920515 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.921462 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:34.926403 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.927086 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.927853 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.928504 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.929538 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:34.930391 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.931034 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.932004 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:34.932880 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.933539 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.935966 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:34.936839 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.937495 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.942494 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:34.943355 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.944062 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.945533 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.946848 #7158] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:34.947682 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:34.949185 #7158]  INFO -- : Started GET "/employees/5" for 127.0.0.1 at 2020-04-01 21:17:34 +0000
I, [2020-04-01T21:17:34.954084 #7158]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T21:17:34.954361 #7158]  INFO -- :   Parameters: {"id"=>"5"}
D, [2020-04-01T21:17:34.955169 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
I, [2020-04-01T21:17:34.957248 #7158]  INFO -- : Completed 500  in 3ms (ActiveRecord: 0.1ms)
F, [2020-04-01T21:17:34.970286 #7158] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055c0236acc30>:
  app/controllers/employees_controller.rb:34:in `show'

D, [2020-04-01T21:17:34.978845 #7158] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:34.981678 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:34.982129 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:34.982558 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:34.984408 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.989913 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "131687776"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.991474 #7158] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "131687776"], ["date_of_birth", "2001-04-01"], ["phone", "2069754357"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:34.992854 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.994258 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.995484 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:34.996795 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "2751814084"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:34.998147 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:34.999244 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.000471 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "025336152"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.005787 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "025336152"], ["date_of_birth", "2004-04-01"], ["phone", "6581278967"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:35.007162 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.008343 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.009639 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "277459968"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.010940 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "277459968"], ["date_of_birth", "1994-04-01"], ["phone", "8396968503"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:35.012336 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.013643 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.014891 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.016246 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:35.020932 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.022344 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.023635 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.024966 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "4236280786"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:35.026353 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.027621 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.028904 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "174170593"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.030261 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "174170593"], ["date_of_birth", "2001-04-01"], ["phone", "3562369260"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:35.038562 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.039596 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.040907 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.046224 #7158] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9672201354"], ["active", 1]]
D, [2020-04-01T21:17:35.047470 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.048507 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.049716 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.050917 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:35.052109 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.053167 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.054243 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.055455 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6928710462"], ["active", 0]]
D, [2020-04-01T21:17:35.056638 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.061998 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.063399 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.064534 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.065610 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.067081 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.068296 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:35.069367 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.070687 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.071728 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.072865 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.077965 #7158] DEBUG -- :   [1m[36mEmployee Load (4.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.079375 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.080513 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:35.081467 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.082677 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.083804 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.084918 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.085994 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.087443 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.088540 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:35.089510 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.094891 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.096100 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.097247 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.098342 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.099792 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.100940 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:35.102011 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.103174 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.104256 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.105434 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.106469 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.107912 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.109043 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:35.111986 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.113188 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.114374 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.115499 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.116546 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.118031 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.119139 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:35.120093 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.120798 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.121886 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:35.122751 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.123419 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.124449 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:35.125316 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.130106 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.131106 #7158] DEBUG -- :   [1m[36mAssignment Update (0.2ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:35.131988 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.132664 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.133470 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.134175 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.135171 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:35.136048 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.136755 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.137789 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:35.138651 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.139300 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.140323 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:35.141222 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.145947 #7158] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.146983 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:35.147837 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.148536 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.150105 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.151405 #7158] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:35.152337 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.153570 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.154400 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T21:17:35.155174 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.155800 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.156549 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T21:17:35.157375 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.157970 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.158724 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T21:17:35.159456 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.160082 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.160823 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-01T21:17:35.161521 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.162131 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.162825 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-01T21:17:35.163490 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.164091 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.164915 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-01T21:17:35.169719 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.170399 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.171215 #7158] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T21:17:35.172029 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.172694 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.173482 #7158] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T21:17:35.174296 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.174964 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.175751 #7158] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T21:17:35.176542 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.177189 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.177997 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T21:17:35.178733 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.179371 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.180132 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T21:17:35.180847 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.181490 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.186300 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T21:17:35.187060 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.187691 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.188531 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-01T21:17:35.189351 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.190017 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.190881 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-01T21:17:35.191659 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.192315 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.193076 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-01T21:17:35.193852 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.194500 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.195292 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-01T21:17:35.196124 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:35.200052 #7158]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 21:17:35 +0000
F, [2020-04-01T21:17:35.209919 #7158] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end
  end
  ^~~
/home/ubuntu/Project/app/controllers/stores_controller.rb:44: syntax error, unexpected end-of-input, expecting keyword_end:
  app/controllers/stores_controller.rb:34:in `'

D, [2020-04-01T21:17:35.228340 #7158] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:35.235274 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:35.235799 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:35.236308 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:35.238497 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.240128 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "060253066"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.241784 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "060253066"], ["date_of_birth", "2001-04-01"], ["phone", "2198647909"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:35.254532 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.255944 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.257360 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.258673 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "7948705751"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:35.260091 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.261245 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.266611 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "343716828"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.267893 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "343716828"], ["date_of_birth", "2004-04-01"], ["phone", "1953929632"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:35.269318 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.270592 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.271781 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "080018113"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.273062 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "080018113"], ["date_of_birth", "1994-04-01"], ["phone", "9091570819"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:35.274553 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.275892 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.277057 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.278348 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:35.279687 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.280987 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.282209 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.283482 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "9935131134"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:35.284777 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.288177 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.289428 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "006717391"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.290690 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "006717391"], ["date_of_birth", "2001-04-01"], ["phone", "8078025162"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:35.292016 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.292972 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.294195 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.295445 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0648144953"], ["active", 1]]
D, [2020-04-01T21:17:35.296800 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.301874 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.303076 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.304304 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:35.305640 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.306655 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.307772 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.309008 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3175186570"], ["active", 0]]
D, [2020-04-01T21:17:35.310340 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.311675 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.313018 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.318262 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.319409 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.320991 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.322209 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:35.323326 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.324563 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.325756 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.326897 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.327980 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.329446 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.334629 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:35.335716 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.336995 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.338243 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.339369 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.340451 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.341960 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.343043 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:35.344056 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.345318 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.350569 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.351763 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.352843 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.354354 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.355477 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:35.356570 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.357756 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.358880 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.360046 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.361145 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.364599 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.365799 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:35.366829 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.368058 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.369266 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.370493 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.371576 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.372989 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.374126 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:35.375116 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.375806 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.376905 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:35.377803 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.378486 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.379528 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:35.380390 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.381075 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.382084 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:35.382930 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.383616 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.384457 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.385173 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.386266 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:35.387126 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.387799 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.388837 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:35.389715 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.390396 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.391411 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:35.392282 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.393000 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.394045 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:35.394956 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.395660 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.397217 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.398604 #7158] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:35.399600 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:35.401240 #7158]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 21:17:35 +0000
F, [2020-04-01T21:17:35.414999 #7158] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end
  end
  ^~~
/home/ubuntu/Project/app/controllers/stores_controller.rb:44: syntax error, unexpected end-of-input, expecting keyword_end:
  app/controllers/stores_controller.rb:34:in `'

D, [2020-04-01T21:17:35.431774 #7158] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:35.445243 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:35.445787 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:35.446278 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:35.448151 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.449745 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "118544195"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.451252 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "118544195"], ["date_of_birth", "2001-04-01"], ["phone", "1478067455"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:35.452634 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.457802 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.459200 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.460592 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "5508651230"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:35.462043 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.463161 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.464405 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "056195403"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.465775 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "056195403"], ["date_of_birth", "2004-04-01"], ["phone", "5418448615"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:35.467140 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.468222 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.469431 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "193429138"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.470710 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "193429138"], ["date_of_birth", "1994-04-01"], ["phone", "6114504921"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:35.472091 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.473227 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.474433 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.475739 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:35.477037 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.482288 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.483547 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.484814 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "2257605545"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:35.486126 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.487336 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.488555 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "095073952"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.489845 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "095073952"], ["date_of_birth", "2001-04-01"], ["phone", "4197650739"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:35.491092 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.492040 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.493244 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.496807 #7158] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9697961137"], ["active", 1]]
D, [2020-04-01T21:17:35.498036 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.499071 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.500184 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.501365 #7158] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:35.502715 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.503727 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.504764 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.506025 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8646599516"], ["active", 0]]
D, [2020-04-01T21:17:35.507345 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.508644 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.509981 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.511138 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.512262 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.517768 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.519019 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:35.520139 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.521416 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.526674 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.527854 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.529029 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.531094 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.532230 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:35.533267 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.534554 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.535681 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.536809 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.537931 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.539365 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.540505 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:35.541488 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.546939 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.548120 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.549270 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.550430 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.551889 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.553120 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:35.554206 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.555396 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.556469 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.557562 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.558612 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.560062 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.561173 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:35.566222 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.567476 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.568627 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.569820 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.570958 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.572447 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.573583 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:35.574611 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.575354 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.576492 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:35.577416 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.580070 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.581136 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:35.582100 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.582784 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.583812 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:35.584726 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.585443 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.586304 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.587014 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.588076 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:35.589017 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.589739 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.590810 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:35.591705 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.592420 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.593532 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:35.598506 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.599273 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.600401 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:35.601396 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.602203 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.603815 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.605247 #7158] DEBUG -- :   [1m[36mEmployee Update (0.2ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:35.606200 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:35.607750 #7158]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 21:17:35 +0000
F, [2020-04-01T21:17:35.622382 #7158] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end
  end
  ^~~
/home/ubuntu/Project/app/controllers/stores_controller.rb:44: syntax error, unexpected end-of-input, expecting keyword_end:
  app/controllers/stores_controller.rb:34:in `'

D, [2020-04-01T21:17:35.651049 #7158] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:35.654291 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:35.654896 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:35.655385 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:35.657710 #7158] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.659430 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "289717662"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.661096 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "289717662"], ["date_of_birth", "2001-04-01"], ["phone", "2927908520"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:35.662890 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.664424 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.667946 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.669466 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "2224053833"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:35.671194 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.672643 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.674140 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "102547515"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.675709 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "102547515"], ["date_of_birth", "2004-04-01"], ["phone", "7037231281"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:35.677394 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.678969 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.680378 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "323317661"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.685833 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "323317661"], ["date_of_birth", "1994-04-01"], ["phone", "6759782784"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:35.687662 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.689290 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.690662 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.692186 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:35.693993 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.695549 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.697021 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.702633 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "8754592158"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:35.704469 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.706096 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.707573 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "120380382"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.709275 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "120380382"], ["date_of_birth", "2001-04-01"], ["phone", "8268806413"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:35.711146 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.712392 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.713897 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.715483 #7158] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5742523361"], ["active", 1]]
D, [2020-04-01T21:17:35.717195 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.722667 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.724371 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.726205 #7158] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:35.728337 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.729665 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.731035 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.733457 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6579043689"], ["active", 0]]
D, [2020-04-01T21:17:35.739608 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.741269 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.743625 #7158] DEBUG -- :   [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.746363 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.748555 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.757122 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.758869 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:35.760746 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.762608 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.764440 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.770167 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.771839 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.774078 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.775657 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:35.777857 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.780999 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.787414 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.789983 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.792179 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.794552 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.796793 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:35.802968 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.805448 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.807816 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.810137 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.812379 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.818319 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.820516 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:35.822747 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.825221 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.826904 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.829330 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.833317 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.835981 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.838224 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:35.840333 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.842727 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.844385 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.846101 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:35.848370 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.855076 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.856667 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:35.858850 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.860145 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.861832 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:35.863489 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.864362 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.869649 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:35.871603 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.872781 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.874277 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:35.875902 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.876534 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.877597 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.878656 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.880679 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:35.886057 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.887283 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.889273 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:35.890779 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.892071 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.893429 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:35.899431 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.900663 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.902276 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:35.904249 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.905474 #7158] DEBUG -- :   [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:35.910014 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:35.912401 #7158] DEBUG -- :   [1m[36mEmployee Update (0.7ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:35.918389 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:35.942687 #7158]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 21:17:35 +0000
F, [2020-04-01T21:17:35.951767 #7158] FATAL -- : 
SyntaxError - syntax error, unexpected keyword_end
  end
  ^~~
/home/ubuntu/Project/app/controllers/stores_controller.rb:44: syntax error, unexpected end-of-input, expecting keyword_end:
  app/controllers/stores_controller.rb:34:in `'

D, [2020-04-01T21:17:35.989316 #7158] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:35.992407 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:35.992857 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:35.993302 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:35.998721 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.000266 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "148657304"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.002825 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "148657304"], ["date_of_birth", "2001-04-01"], ["phone", "2095489034"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:36.004199 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.005526 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.006812 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.008050 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "3879502936"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:36.009313 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.014559 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.015823 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "349869818"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.017105 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "349869818"], ["date_of_birth", "2004-04-01"], ["phone", "7079229931"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:36.018411 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.019529 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.020719 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "151692430"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.021899 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "151692430"], ["date_of_birth", "1994-04-01"], ["phone", "1077497642"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:36.023144 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.024346 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.025497 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.030969 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:36.032312 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.033531 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.034719 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.035938 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "5551608008"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:36.037150 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.038262 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.039537 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "061418135"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.040761 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "061418135"], ["date_of_birth", "2001-04-01"], ["phone", "2167276181"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:36.043640 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.044620 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.045747 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.047055 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3910017689"], ["active", 1]]
D, [2020-04-01T21:17:36.048390 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.049277 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.054400 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.055577 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:36.056882 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.057889 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.058942 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.060101 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4414279196"], ["active", 0]]
D, [2020-04-01T21:17:36.061359 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.066780 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.068110 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.069248 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.070337 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.071882 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.073092 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:36.074181 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.075396 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.076594 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.081803 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.082871 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.084555 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.085703 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:36.086728 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.088036 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.089204 #7158] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.090357 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.091422 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.092777 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.097986 #7158] DEBUG -- :   [1m[36mAssignment Create (4.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:36.098976 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.100317 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.101526 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.102716 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.103833 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.105316 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.108003 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:36.109174 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.110469 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.111622 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.112772 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.113889 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.115370 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.116528 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:36.117514 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.122887 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.124073 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.125258 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.126395 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.127872 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.129060 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:36.134091 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.134850 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.136005 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:36.136874 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.137635 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.138766 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:36.139684 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.140409 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.141435 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:36.142342 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.143029 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.143869 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.144557 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.145588 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:36.146456 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.147174 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.148250 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:36.149099 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.149807 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.150784 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:36.151620 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.152343 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.153356 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:36.158373 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.159132 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.160740 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.162182 #7158] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:36.163239 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.164514 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.165403 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T21:17:36.166758 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.167553 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.168354 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T21:17:36.169107 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.173757 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.174600 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T21:17:36.175429 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.176099 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.176967 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-01T21:17:36.177834 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.178560 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.179555 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-01T21:17:36.180388 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.181060 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.181943 #7158] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-01T21:17:36.182796 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.189757 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.190626 #7158] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T21:17:36.191401 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.192060 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.192767 #7158] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T21:17:36.193605 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.196017 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.196852 #7158] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T21:17:36.197599 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.198364 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.199185 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T21:17:36.199989 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.200670 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.201458 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T21:17:36.202305 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.202978 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.203767 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T21:17:36.204468 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.205066 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.209832 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-01T21:17:36.210546 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.211150 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.211884 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-01T21:17:36.212615 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.213297 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.214094 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-01T21:17:36.214771 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.215397 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.216278 #7158] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-01T21:17:36.217028 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:36.223140 #7158]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 21:17:36 +0000
I, [2020-04-01T21:17:36.225342 #7158]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T21:17:36.228047 #7158]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T21:17:36.228638 #7158]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.2ms)
I, [2020-04-01T21:17:36.229962 #7158]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:17:36.230570 #7158]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:17:36.231170 #7158]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:17:36.231781 #7158]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:17:36.232741 #7158]  INFO -- : Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:17:36.250985 #7158] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:36.253850 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:36.254329 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:36.254764 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:36.256597 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.258220 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "285541847"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.259685 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "285541847"], ["date_of_birth", "2001-04-01"], ["phone", "2901779953"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:36.260989 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.266321 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.267696 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.269107 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "0937984280"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:36.270571 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.271773 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.273069 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "118102612"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.274304 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "118102612"], ["date_of_birth", "2004-04-01"], ["phone", "7675201563"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:36.275524 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.276747 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.277930 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "081242505"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.279155 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "081242505"], ["date_of_birth", "1994-04-01"], ["phone", "1696440627"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:36.280369 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.282023 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.283185 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.284395 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:36.285752 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.286954 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.288206 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.289314 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "8968932882"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:36.294704 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.295962 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.297149 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "369780125"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.298372 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "369780125"], ["date_of_birth", "2001-04-01"], ["phone", "4099640161"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:36.299666 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.300614 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.305771 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.307065 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2911886941"], ["active", 1]]
D, [2020-04-01T21:17:36.308406 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.309398 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.310473 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.311661 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:36.313003 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.314015 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.315118 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.316243 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7850916904"], ["active", 0]]
D, [2020-04-01T21:17:36.317551 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.319049 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.320369 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.321577 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.322739 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.324267 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.325449 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:36.326591 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.327778 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.328914 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.334141 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.335316 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.336812 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.338012 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:36.338985 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.340226 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.341402 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.342606 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.343719 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.345182 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.350377 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:36.351410 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.352771 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.354029 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.355218 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.356376 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.357885 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.359064 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:36.360222 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.361428 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.364318 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.365467 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.366671 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.368185 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.369361 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:36.374438 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.375781 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.377069 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.378299 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.379546 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.381094 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.386409 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:36.387588 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.388401 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.389648 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:36.390662 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.391413 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.392457 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:36.393440 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.394197 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.395343 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:36.396330 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.397168 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.402142 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.402937 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.404114 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:36.405163 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.405996 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.414737 #7158] DEBUG -- :   [1m[36mAssignment Update (0.2ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:36.415629 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.416345 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.417424 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:36.422352 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.423110 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.424171 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:36.425066 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.425865 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.427465 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.428829 #7158] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:36.429802 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:36.431462 #7158]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 21:17:36 +0000
I, [2020-04-01T21:17:36.432345 #7158]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T21:17:36.433586 #7158]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T21:17:36.434039 #7158]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.0ms)
I, [2020-04-01T21:17:36.435335 #7158]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:17:36.435882 #7158]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:17:36.436517 #7158]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:17:36.437119 #7158]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-01T21:17:36.438123 #7158]  INFO -- : Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:17:36.458127 #7158] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:36.461051 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:36.461518 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:36.462006 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:36.463852 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.465402 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "279544161"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.466884 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "279544161"], ["date_of_birth", "2001-04-01"], ["phone", "0806149949"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:36.468344 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.469542 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.475017 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.476317 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "2213621918"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:36.477613 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.478887 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.480174 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "058977532"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.481422 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "058977532"], ["date_of_birth", "2004-04-01"], ["phone", "3151890593"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:36.482681 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.483936 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.485215 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "142285551"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.490551 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "142285551"], ["date_of_birth", "1994-04-01"], ["phone", "6498732282"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:36.491821 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.493132 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.494435 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.495702 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:36.497022 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.498281 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.499482 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.500689 #7158] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "1191060336"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:36.502031 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.503187 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.504437 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "162461890"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.509658 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "162461890"], ["date_of_birth", "2001-04-01"], ["phone", "6435319752"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:36.510947 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.511991 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.513209 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.514515 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5578414708"], ["active", 1]]
D, [2020-04-01T21:17:36.515865 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.516904 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.518049 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.519275 #7158] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:36.520483 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.521486 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.525046 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.526267 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4343083710"], ["active", 0]]
D, [2020-04-01T21:17:36.527569 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.529037 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.530357 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.531600 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.532659 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.534328 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.535565 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:36.536661 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.537941 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.539073 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.540269 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.541389 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.547036 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.548201 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:36.549244 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.550557 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.551737 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.552956 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.558147 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.559647 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.560796 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:36.561843 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.563225 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.564483 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.565693 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.566822 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.568294 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.569430 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:36.574636 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.575891 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.577099 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.578334 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.579493 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.581021 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.582203 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:36.583266 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.584442 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.589665 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.590830 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.591995 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.593520 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.594757 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:36.595885 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.596655 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.597866 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:36.598906 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.599641 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.600794 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:36.601845 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.602568 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.603697 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:36.604671 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.605380 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.608785 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.609557 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.610693 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:36.611760 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.612540 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.613766 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:36.614768 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.615533 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.616776 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:36.628269 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.628997 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.630243 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:36.631156 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.631891 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.633489 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.634888 #7158] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:36.635869 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:36.637551 #7158]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 21:17:36 +0000
I, [2020-04-01T21:17:36.642591 #7158]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T21:17:36.643841 #7158]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T21:17:36.644244 #7158]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.0ms)
I, [2020-04-01T21:17:36.645535 #7158]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T21:17:36.646229 #7158]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T21:17:36.646867 #7158]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:17:36.647566 #7158]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T21:17:36.648479 #7158]  INFO -- : Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:17:36.658062 #7158] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:17:36.660960 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:36.661507 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T21:17:36.662408 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T21:17:36.664206 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.669825 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "262349948"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.671408 #7158] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "262349948"], ["date_of_birth", "2001-04-01"], ["phone", "1331502971"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:36.672737 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.674052 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.675420 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.676759 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "6694833159"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:36.682142 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.683437 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.684747 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "203066124"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.685955 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "203066124"], ["date_of_birth", "2004-04-01"], ["phone", "7668411079"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:17:36.687317 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.688604 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.693904 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "142412449"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.695131 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "142412449"], ["date_of_birth", "1994-04-01"], ["phone", "1107839086"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T21:17:36.696512 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.701846 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.703228 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.704419 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:36.705853 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.707207 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.708512 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.709709 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "7212362480"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T21:17:36.711119 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.712317 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.713591 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "090900633"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.714741 #7158] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "090900633"], ["date_of_birth", "2001-04-01"], ["phone", "5414828735"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T21:17:36.716155 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.717179 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.718388 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.719601 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8990541188"], ["active", 1]]
D, [2020-04-01T21:17:36.720955 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.726057 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.727204 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.728420 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T21:17:36.729800 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.730833 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.731948 #7158] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.733105 #7158] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0698464423"], ["active", 0]]
D, [2020-04-01T21:17:36.734446 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.735894 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.737223 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.738395 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.739532 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.741066 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.742276 #7158] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T21:17:36.743389 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.744552 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.749885 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.751111 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.752291 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.753797 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.754982 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:36.756005 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.757223 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.758473 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.759738 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.760897 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.762412 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.763543 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T21:17:36.764582 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.765961 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.767204 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.768430 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.769566 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.773991 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.775122 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T21:17:36.776249 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.777508 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.778693 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.779870 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.781000 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.782585 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.783673 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T21:17:36.784754 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.785994 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.787210 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.788409 #7158] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:17:36.789536 #7158] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.791071 #7158] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.792154 #7158] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T21:17:36.793155 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.797951 #7158] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.799156 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T21:17:36.800086 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.800832 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.801893 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T21:17:36.802828 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.803542 #7158] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.804575 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T21:17:36.805492 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.806272 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.807152 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.807916 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.809089 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T21:17:36.814048 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.814852 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.816032 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T21:17:36.817022 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.817902 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.819042 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T21:17:36.819952 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.820702 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.821875 #7158] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T21:17:36.822859 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.823656 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:17:36.825360 #7158] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T21:17:36.826937 #7158] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T21:17:36.828009 #7158] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:17:36.833943 #7158]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 21:17:36 +0000
I, [2020-04-01T21:17:36.841001 #7158]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T21:17:36.842318 #7158]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T21:17:36.842736 #7158]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.0ms)
I, [2020-04-01T21:17:36.844082 #7158]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:17:36.844721 #7158]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:17:36.845363 #7158]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T21:17:36.846038 #7158]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:17:36.846946 #7158]  INFO -- : Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:17:36.863842 #7158] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:24:57.079973 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T21:24:57.173867 #7633] DEBUG -- :   [1m[35m (12.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:24:57.174310 #7633]  INFO -- : ----------------------------------------------
I, [2020-04-01T21:24:57.174347 #7633]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T21:24:57.174368 #7633]  INFO -- : ----------------------------------------------
D, [2020-04-01T21:24:57.288611 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:57.291363 #7633] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "032186964"], ["LIMIT", 1]]
D, [2020-04-01T21:24:57.292839 #7633] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "032186964"], ["date_of_birth", "2001-04-01"], ["phone", "2803262070"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:24:57.293980 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:24:57.296341 #7633]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 21:24:57 +0000
I, [2020-04-01T21:24:57.306702 #7633]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T21:24:57.314273 #7633]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T21:24:57.316147 #7633] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-01T21:24:57.322206 #7633]  INFO -- :   Rendered employees/index.html.erb within layouts/application (7.6ms)
I, [2020-04-01T21:24:57.540225 #7633]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T21:24:57.541473 #7633]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T21:24:57.545253 #7633]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T21:24:57.546633 #7633]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T21:24:57.547633 #7633]  INFO -- : Completed 200 OK in 241ms (Views: 234.7ms | ActiveRecord: 0.2ms)
D, [2020-04-01T21:24:57.553075 #7633] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:24:57.563962 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:24:57.564289 #7633]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T21:24:57.564361 #7633]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T21:24:57.564440 #7633]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T21:24:57.565595 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:57.567285 #7633] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "227512292"], ["LIMIT", 1]]
D, [2020-04-01T21:24:57.568733 #7633] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "227512292"], ["date_of_birth", "2001-04-01"], ["phone", "3612225277"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:24:57.569994 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:24:57.575144 #7633]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 21:24:57 +0000
I, [2020-04-01T21:24:57.576279 #7633]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T21:24:57.576561 #7633]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T21:24:57.582132 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:57.792449 #7633] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T21:24:57.794239 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T21:24:57.796001 #7633]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T21:24:57.898982 #7633]  INFO -- :   Rendered employees/_form.html.erb (101.0ms)
I, [2020-04-01T21:24:57.899429 #7633]  INFO -- :   Rendered employees/new.html.erb within layouts/application (103.1ms)
I, [2020-04-01T21:24:57.903883 #7633]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:24:57.904925 #7633]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T21:24:57.909957 #7633]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:24:57.911056 #7633]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:24:57.914063 #7633]  INFO -- : Completed 200 OK in 337ms (Views: 116.5ms | ActiveRecord: 0.3ms)
D, [2020-04-01T21:24:57.935438 #7633] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:24:57.946832 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:24:57.947193 #7633]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T21:24:57.947277 #7633]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T21:24:57.947339 #7633]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T21:24:57.949314 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:57.951693 #7633] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "099202525"], ["LIMIT", 1]]
D, [2020-04-01T21:24:57.957772 #7633] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "099202525"], ["date_of_birth", "2001-04-01"], ["phone", "7612482140"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:24:57.959832 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:24:57.961458 #7633]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 21:24:57 +0000
F, [2020-04-01T21:24:57.994764 #7633] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T21:24:57.999152 #7633] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:24:58.009244 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:24:58.009851 #7633]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T21:24:58.009928 #7633]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T21:24:58.009987 #7633]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T21:24:58.011300 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:58.012956 #7633] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "376555621"], ["LIMIT", 1]]
D, [2020-04-01T21:24:58.014921 #7633] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "376555621"], ["date_of_birth", "2001-04-01"], ["phone", "4230949129"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:24:58.016998 #7633] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:58.022475 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T21:24:58.024536 #7633]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 21:24:58 +0000
I, [2020-04-01T21:24:58.026356 #7633]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T21:24:58.027594 #7633]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T21:24:58.030633 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:58.033787 #7633] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T21:24:58.066370 #7633] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:24:58.067879 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:24:58.068903 #7633]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T21:24:58.069884 #7633]  INFO -- : Completed 302 Found in 42ms (ActiveRecord: 0.4ms)
D, [2020-04-01T21:24:58.074132 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T21:24:58.075103 #7633] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T21:24:58.076133 #7633] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:24:58.087582 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:24:58.087931 #7633]  INFO -- : --------------------------------------------------
I, [2020-04-01T21:24:58.088002 #7633]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T21:24:58.088060 #7633]  INFO -- : --------------------------------------------------
D, [2020-04-01T21:24:58.089108 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:58.090682 #7633] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "243937441"], ["LIMIT", 1]]
D, [2020-04-01T21:24:58.092093 #7633] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "243937441"], ["date_of_birth", "2001-04-01"], ["phone", "7327464223"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:24:58.093276 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:58.109179 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:58.110876 #7633] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T21:24:58.112200 #7633] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6974395332"], ["active", 1]]
D, [2020-04-01T21:24:58.113430 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:58.128873 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:58.130635 #7633] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:24:58.131807 #7633] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T21:24:58.133281 #7633] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:24:58.144219 #7633] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:24:58.145424 #7633] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T21:24:58.146421 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:24:58.147644 #7633]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 21:24:58 +0000
I, [2020-04-01T21:24:58.148696 #7633]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T21:24:58.148974 #7633]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T21:24:58.149855 #7633] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T21:24:58.151737 #7633]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T21:24:58.164896 #7633] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055da5cf7ed88>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T21:24:58.168488 #7633] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:24:58.169356 #7633] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:24:58.169726 #7633]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T21:24:58.169799 #7633]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T21:24:58.169856 #7633]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T21:24:58.170889 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:58.172419 #7633] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "253401698"], ["LIMIT", 1]]
D, [2020-04-01T21:24:58.177952 #7633] DEBUG -- :   [1m[36mEmployee Create (4.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "253401698"], ["date_of_birth", "2001-04-01"], ["phone", "7907839380"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:24:58.179315 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:24:58.180643 #7633]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 21:24:58 +0000
I, [2020-04-01T21:24:58.181882 #7633]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T21:24:58.182166 #7633]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T21:24:58.182995 #7633] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:24:58.184296 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:58.186050 #7633] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:24:58.187780 #7633] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T21:24:58.189017 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:24:58.193939 #7633]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T21:24:58.194911 #7633]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
D, [2020-04-01T21:24:58.199545 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:24:58.200224 #7633] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:24:58.200503 #7633]  INFO -- : ---------------------------------------------
I, [2020-04-01T21:24:58.200578 #7633]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T21:24:58.200633 #7633]  INFO -- : ---------------------------------------------
D, [2020-04-01T21:24:58.201653 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:58.203110 #7633] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "162246484"], ["LIMIT", 1]]
D, [2020-04-01T21:24:58.204525 #7633] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "162246484"], ["date_of_birth", "2001-04-01"], ["phone", "8926667572"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:24:58.209699 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:24:58.210893 #7633]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 21:24:58 +0000
I, [2020-04-01T21:24:58.211865 #7633]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T21:24:58.212216 #7633]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T21:24:58.213017 #7633] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T21:24:58.215035 #7633]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T21:24:58.222946 #7633]  INFO -- :   Rendered employees/_form.html.erb (7.1ms)
I, [2020-04-01T21:24:58.223338 #7633]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (8.0ms)
I, [2020-04-01T21:24:58.224572 #7633]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:24:58.225165 #7633]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T21:24:58.225815 #7633]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:24:58.226434 #7633]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:24:58.227398 #7633]  INFO -- : Completed 200 OK in 15ms (Views: 12.2ms | ActiveRecord: 0.1ms)
D, [2020-04-01T21:24:58.231042 #7633] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:24:58.231809 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:24:58.232070 #7633]  INFO -- : --------------------------------------------
I, [2020-04-01T21:24:58.232142 #7633]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T21:24:58.232199 #7633]  INFO -- : --------------------------------------------
D, [2020-04-01T21:24:58.233203 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:58.238771 #7633] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "275393595"], ["LIMIT", 1]]
D, [2020-04-01T21:24:58.240240 #7633] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "275393595"], ["date_of_birth", "2001-04-01"], ["phone", "7185417936"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:24:58.241525 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:24:58.242638 #7633]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 21:24:58 +0000
I, [2020-04-01T21:24:58.243679 #7633]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T21:24:58.244683 #7633]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T21:24:58.255969 #7633]  INFO -- :   Rendered employees/_form.html.erb (10.8ms)
I, [2020-04-01T21:24:58.256383 #7633]  INFO -- :   Rendered employees/new.html.erb within layouts/application (11.4ms)
I, [2020-04-01T21:24:58.257582 #7633]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:24:58.258160 #7633]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:24:58.258809 #7633]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:24:58.259416 #7633]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:24:58.260337 #7633]  INFO -- : Completed 200 OK in 16ms (Views: 15.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T21:24:58.263481 #7633] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T21:24:58.264228 #7633] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T21:24:58.264498 #7633]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T21:24:58.264570 #7633]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T21:24:58.264627 #7633]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T21:24:58.269676 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:58.271209 #7633] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "087858826"], ["LIMIT", 1]]
D, [2020-04-01T21:24:58.272626 #7633] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "087858826"], ["date_of_birth", "2001-04-01"], ["phone", "0855350223"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T21:24:58.273887 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T21:24:58.275110 #7633]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 21:24:58 +0000
I, [2020-04-01T21:24:58.276157 #7633]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T21:24:58.276435 #7633]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T21:24:58.277243 #7633] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:24:58.278481 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T21:24:58.280673 #7633] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T21:24:58.286442 #7633] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T21:24:58.287352 #7633]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T21:24:58.294579 #7633]  INFO -- :   Rendered employees/_form.html.erb (6.8ms)
I, [2020-04-01T21:24:58.294961 #7633]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.3ms)
I, [2020-04-01T21:24:58.296158 #7633]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T21:24:58.296729 #7633]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T21:24:58.297316 #7633]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T21:24:58.297972 #7633]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T21:24:58.299111 #7633]  INFO -- : Completed 200 OK in 22ms (Views: 11.3ms | ActiveRecord: 0.3ms)
D, [2020-04-01T21:24:58.305989 #7633] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T22:57:01.293761 #13749] DEBUG -- :   [1m[35m (3.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T22:57:01.396026 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T22:57:01.396614 #13749]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T22:57:01.396655 #13749]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T22:57:01.396678 #13749]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T22:57:01.546390 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T22:57:01.553800 #13749] DEBUG -- :   [1m[36mStore Exists (6.0ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T22:57:01.555302 #13749] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1580840202"], ["active", 1]]
D, [2020-04-01T22:57:01.556395 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T22:57:01.562981 #13749]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 22:57:01 +0000
I, [2020-04-01T22:57:01.577325 #13749]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T22:57:01.577801 #13749]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T22:57:01.585327 #13749] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T22:57:01.590783 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T22:57:01.818447 #13749] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T22:57:01.820187 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T22:57:01.827705 #13749]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T22:57:01.884252 #13749]  INFO -- :   Rendered stores/_form.html.erb (54.4ms)
I, [2020-04-01T22:57:01.884714 #13749]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (56.7ms)
I, [2020-04-01T22:57:02.182898 #13749]  INFO -- :   Rendered partials/_topbar.html.erb (1.1ms)
I, [2020-04-01T22:57:02.184541 #13749]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T22:57:02.186251 #13749]  INFO -- :   Rendered partials/_quick_links.html.erb (0.6ms)
I, [2020-04-01T22:57:02.187800 #13749]  INFO -- :   Rendered partials/_footer.html.erb (0.7ms)
I, [2020-04-01T22:57:02.190023 #13749]  INFO -- : Completed 200 OK in 612ms (Views: 367.6ms | ActiveRecord: 0.5ms)
D, [2020-04-01T22:57:02.202462 #13749] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T22:57:02.203969 #13749] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T22:57:02.204896 #13749]  INFO -- : --------------------------------------------
I, [2020-04-01T22:57:02.204978 #13749]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T22:57:02.205055 #13749]  INFO -- : --------------------------------------------
D, [2020-04-01T22:57:02.210593 #13749] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T22:57:02.212320 #13749] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T22:57:02.214102 #13749] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5063380522"], ["active", 1]]
D, [2020-04-01T22:57:02.216479 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T22:57:02.219005 #13749]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 22:57:02 +0000
I, [2020-04-01T22:57:02.220667 #13749]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T22:57:02.221585 #13749]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T22:57:02.227109 #13749] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T22:57:02.243103 #13749] DEBUG -- :   [1m[36mAssignment Load (4.8ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 1)[0m
I, [2020-04-01T22:57:02.252176 #13749]  INFO -- : Completed 500  in 26ms (ActiveRecord: 5.1ms)
F, [2020-04-01T22:57:02.273608 #13749] FATAL -- : 
NoMethodError - undefined method `manager' for []:Array:
  app/controllers/stores_controller.rb:33:in `show'
  test/controllers/stores_controller_test.rb:16:in `block in <class:StoresControllerTest>'

D, [2020-04-01T22:57:02.284957 #13749] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T22:57:02.286207 #13749] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T22:57:02.290082 #13749]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T22:57:02.290188 #13749]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T22:57:02.290254 #13749]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T22:57:02.291126 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T22:57:02.292534 #13749] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T22:57:02.297923 #13749] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8438510255"], ["active", 1]]
D, [2020-04-01T22:57:02.299205 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T22:57:02.301826 #13749]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 22:57:02 +0000
I, [2020-04-01T22:57:02.302878 #13749]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T22:57:02.303161 #13749]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T22:57:02.304336 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T22:57:02.310187 #13749] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T22:57:02.311449 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T22:57:02.313424 #13749]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T22:57:02.320947 #13749]  INFO -- :   Rendered stores/_form.html.erb (6.8ms)
I, [2020-04-01T22:57:02.321372 #13749]  INFO -- :   Rendered stores/new.html.erb within layouts/application (7.7ms)
I, [2020-04-01T22:57:02.322642 #13749]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T22:57:02.323185 #13749]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T22:57:02.323837 #13749]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T22:57:02.324439 #13749]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T22:57:02.325588 #13749]  INFO -- : Completed 200 OK in 22ms (Views: 12.9ms | ActiveRecord: 0.3ms)
D, [2020-04-01T22:57:02.333693 #13749] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T22:57:02.334406 #13749] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T22:57:02.334683 #13749]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T22:57:02.334759 #13749]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T22:57:02.334822 #13749]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T22:57:02.335650 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T22:57:02.336962 #13749] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T22:57:02.342383 #13749] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8728179917"], ["active", 1]]
D, [2020-04-01T22:57:02.343653 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T22:57:02.344758 #13749]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 22:57:02 +0000
I, [2020-04-01T22:57:02.345895 #13749]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T22:57:02.346199 #13749]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T22:57:02.347041 #13749] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T22:57:02.348253 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T22:57:02.349858 #13749] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T22:57:02.351455 #13749] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T22:57:02.352725 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T22:57:02.353683 #13749]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T22:57:02.354806 #13749]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T22:57:02.359405 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T22:57:02.360548 #13749] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T22:57:02.360859 #13749]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T22:57:02.360935 #13749]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T22:57:02.361012 #13749]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T22:57:02.365855 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T22:57:02.367121 #13749] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T22:57:02.368544 #13749] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3044209783"], ["active", 1]]
D, [2020-04-01T22:57:02.373778 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T22:57:02.374849 #13749]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 22:57:02 +0000
F, [2020-04-01T22:57:02.397575 #13749] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T22:57:02.404925 #13749] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T22:57:02.406003 #13749] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T22:57:02.406330 #13749]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T22:57:02.406432 #13749]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T22:57:02.406495 #13749]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T22:57:02.407310 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T22:57:02.408680 #13749] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T22:57:02.410064 #13749] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5125000531"], ["active", 1]]
D, [2020-04-01T22:57:02.411268 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T22:57:02.412191 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T22:57:02.413397 #13749]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 22:57:02 +0000
I, [2020-04-01T22:57:02.414333 #13749]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T22:57:02.414605 #13749]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T22:57:02.415745 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T22:57:02.416945 #13749] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T22:57:02.418445 #13749] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T22:57:02.419784 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T22:57:02.420666 #13749]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T22:57:02.425641 #13749]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-01T22:57:02.430000 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T22:57:02.430976 #13749] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T22:57:02.431968 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T22:57:02.432682 #13749] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T22:57:02.432964 #13749]  INFO -- : -----------------------------------------
I, [2020-04-01T22:57:02.433038 #13749]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T22:57:02.433101 #13749]  INFO -- : -----------------------------------------
D, [2020-04-01T22:57:02.434456 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T22:57:02.435631 #13749] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T22:57:02.436978 #13749] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6389249977"], ["active", 1]]
D, [2020-04-01T22:57:02.438252 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T22:57:02.439296 #13749]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 22:57:02 +0000
I, [2020-04-01T22:57:02.440240 #13749]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T22:57:02.441282 #13749]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T22:57:02.452160 #13749]  INFO -- :   Rendered stores/_form.html.erb (10.4ms)
I, [2020-04-01T22:57:02.452612 #13749]  INFO -- :   Rendered stores/new.html.erb within layouts/application (11.0ms)
I, [2020-04-01T22:57:02.453844 #13749]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T22:57:02.454415 #13749]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T22:57:02.454990 #13749]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T22:57:02.455632 #13749]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T22:57:02.456536 #13749]  INFO -- : Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T22:57:02.459777 #13749] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T22:57:02.460491 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T22:57:02.460802 #13749]  INFO -- : ------------------------------------------
I, [2020-04-01T22:57:02.460877 #13749]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T22:57:02.460935 #13749]  INFO -- : ------------------------------------------
D, [2020-04-01T22:57:02.461743 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T22:57:02.463535 #13749] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T22:57:02.464909 #13749] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7770794869"], ["active", 1]]
D, [2020-04-01T22:57:02.466143 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T22:57:02.467220 #13749]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 22:57:02 +0000
I, [2020-04-01T22:57:02.468107 #13749]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T22:57:02.468376 #13749]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T22:57:02.469179 #13749] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T22:57:02.474467 #13749]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T22:57:02.481426 #13749]  INFO -- :   Rendered stores/_form.html.erb (6.5ms)
I, [2020-04-01T22:57:02.481851 #13749]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (7.1ms)
I, [2020-04-01T22:57:02.483017 #13749]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T22:57:02.483581 #13749]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T22:57:02.484189 #13749]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T22:57:02.484848 #13749]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T22:57:02.489810 #13749]  INFO -- : Completed 200 OK in 17ms (Views: 11.1ms | ActiveRecord: 0.1ms)
D, [2020-04-01T22:57:02.493338 #13749] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T22:57:02.494086 #13749] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T22:57:02.494384 #13749]  INFO -- : -------------------------------------------
I, [2020-04-01T22:57:02.494458 #13749]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T22:57:02.494517 #13749]  INFO -- : -------------------------------------------
D, [2020-04-01T22:57:02.495308 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T22:57:02.496621 #13749] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T22:57:02.498473 #13749] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6347613095"], ["active", 1]]
D, [2020-04-01T22:57:02.499714 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T22:57:02.500737 #13749]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 22:57:02 +0000
I, [2020-04-01T22:57:02.501679 #13749]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T22:57:02.503695 #13749]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-01T22:57:02.504999 #13749] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T22:57:02.506584 #13749] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" != ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-01T22:57:02.507465 #13749]  INFO -- :   Rendered stores/index.html.erb within layouts/application (3.5ms)
I, [2020-04-01T22:57:02.508704 #13749]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T22:57:02.509285 #13749]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T22:57:02.511892 #13749]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T22:57:02.512546 #13749]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T22:57:02.513470 #13749]  INFO -- : Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.2ms)
D, [2020-04-01T22:57:02.517222 #13749] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:54.786816 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T23:14:54.890179 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:54.890561 #14992]  INFO -- : -------------------------------------------
I, [2020-04-01T23:14:54.890601 #14992]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-01T23:14:54.890623 #14992]  INFO -- : -------------------------------------------
I, [2020-04-01T23:14:55.006894 #14992]  INFO -- : Started GET "/home/contact" for 127.0.0.1 at 2020-04-01 23:14:55 +0000
I, [2020-04-01T23:14:55.013131 #14992]  INFO -- : Processing by HomeController#contact as HTML
I, [2020-04-01T23:14:55.028248 #14992]  INFO -- :   Rendering home/contact.html.erb within layouts/application
I, [2020-04-01T23:14:55.029844 #14992]  INFO -- :   Rendered home/contact.html.erb within layouts/application (1.2ms)
I, [2020-04-01T23:14:55.342572 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (5.0ms)
I, [2020-04-01T23:14:55.343884 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T23:14:55.345226 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T23:14:55.346602 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-01T23:14:55.347656 #14992]  INFO -- : Completed 200 OK in 334ms (Views: 321.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T23:14:55.354423 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:55.355193 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:55.355515 #14992]  INFO -- : -----------------------------------------
I, [2020-04-01T23:14:55.355593 #14992]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-01T23:14:55.355651 #14992]  INFO -- : -----------------------------------------
I, [2020-04-01T23:14:55.356484 #14992]  INFO -- : Started GET "/home/about" for 127.0.0.1 at 2020-04-01 23:14:55 +0000
I, [2020-04-01T23:14:55.357374 #14992]  INFO -- : Processing by HomeController#about as HTML
I, [2020-04-01T23:14:55.359260 #14992]  INFO -- :   Rendering home/about.html.erb within layouts/application
I, [2020-04-01T23:14:55.359852 #14992]  INFO -- :   Rendered home/about.html.erb within layouts/application (0.3ms)
I, [2020-04-01T23:14:55.361218 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T23:14:55.361808 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:14:55.362391 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:14:55.363055 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T23:14:55.363969 #14992]  INFO -- : Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T23:14:55.366903 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:55.367539 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:55.367843 #14992]  INFO -- : -------------------------------------------
I, [2020-04-01T23:14:55.367932 #14992]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-01T23:14:55.367999 #14992]  INFO -- : -------------------------------------------
I, [2020-04-01T23:14:55.368691 #14992]  INFO -- : Started GET "/home/privacy" for 127.0.0.1 at 2020-04-01 23:14:55 +0000
I, [2020-04-01T23:14:55.369501 #14992]  INFO -- : Processing by HomeController#privacy as HTML
I, [2020-04-01T23:14:55.375388 #14992]  INFO -- :   Rendering home/privacy.html.erb within layouts/application
I, [2020-04-01T23:14:55.376048 #14992]  INFO -- :   Rendered home/privacy.html.erb within layouts/application (0.3ms)
I, [2020-04-01T23:14:55.377386 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T23:14:55.377935 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T23:14:55.378546 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:14:55.379203 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:55.380097 #14992]  INFO -- : Completed 200 OK in 10ms (Views: 4.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T23:14:55.383080 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:55.383779 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:55.384050 #14992]  INFO -- : -----------------------------------------
I, [2020-04-01T23:14:55.384123 #14992]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-01T23:14:55.384178 #14992]  INFO -- : -----------------------------------------
I, [2020-04-01T23:14:55.384955 #14992]  INFO -- : Started GET "/home" for 127.0.0.1 at 2020-04-01 23:14:55 +0000
I, [2020-04-01T23:14:55.389551 #14992]  INFO -- : Processing by HomeController#index as HTML
I, [2020-04-01T23:14:55.390893 #14992]  INFO -- :   Rendering home/index.html.erb within layouts/application
I, [2020-04-01T23:14:55.391581 #14992]  INFO -- :   Rendered home/index.html.erb within layouts/application (0.3ms)
I, [2020-04-01T23:14:55.392853 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T23:14:55.393416 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:14:55.394124 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:14:55.394784 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:55.395695 #14992]  INFO -- : Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T23:14:55.398596 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:55.399709 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:55.400007 #14992]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T23:14:55.400076 #14992]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T23:14:55.400135 #14992]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T23:14:55.418260 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:55.421973 #14992] DEBUG -- :   [1m[36mStore Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:55.423593 #14992] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5406631124"], ["active", 1]]
D, [2020-04-01T23:14:55.424869 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:55.437858 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:55.442849 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "035093137"], ["LIMIT", 1]]
D, [2020-04-01T23:14:55.444329 #14992] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "035093137"], ["date_of_birth", "2001-04-01"], ["phone", "6480111293"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:55.445584 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:55.467282 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:55.469019 #14992] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:55.473545 #14992] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:55.475161 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:55.488417 #14992] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:55.490020 #14992] DEBUG -- :   [1m[36mAssignment Create (0.5ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T23:14:55.491064 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:55.502001 #14992]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 23:14:55 +0000
I, [2020-04-01T23:14:55.504349 #14992]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T23:14:55.504607 #14992]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T23:14:55.509954 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:55.511815 #14992] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:55.793094 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:55.794900 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:55.797373 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:55.800673 #14992]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-01T23:14:55.852347 #14992] DEBUG -- :   [1m[36mStore Load (0.6ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
D, [2020-04-01T23:14:55.861644 #14992] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
I, [2020-04-01T23:14:55.869829 #14992]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (68.3ms)
I, [2020-04-01T23:14:55.872035 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.7ms)
I, [2020-04-01T23:14:55.873248 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T23:14:55.878349 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:14:55.879468 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:55.885789 #14992]  INFO -- : Completed 200 OK in 376ms (Views: 80.6ms | ActiveRecord: 1.3ms)
D, [2020-04-01T23:14:55.895615 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:55.896414 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:55.897146 #14992]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T23:14:55.897241 #14992]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T23:14:55.897308 #14992]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T23:14:55.898686 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:55.900586 #14992] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:55.907015 #14992] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2980940911"], ["active", 1]]
D, [2020-04-01T23:14:55.909184 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:55.910990 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:55.913328 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "332982528"], ["LIMIT", 1]]
D, [2020-04-01T23:14:55.915224 #14992] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "332982528"], ["date_of_birth", "2001-04-01"], ["phone", "9430846717"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:55.917898 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:55.919981 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:55.925720 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:55.927776 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:55.929824 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:55.932365 #14992] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:55.956179 #14992] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T23:14:55.957200 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:55.958128 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:55.989518 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:55.989912 #14992]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T23:14:55.990002 #14992]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T23:14:55.990083 #14992]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T23:14:55.990939 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:55.992353 #14992] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:55.997885 #14992] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8212020079"], ["active", 1]]
D, [2020-04-01T23:14:55.999233 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.000504 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.003099 #14992] DEBUG -- :   [1m[36mEmployee Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "277078674"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.004512 #14992] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "277078674"], ["date_of_birth", "2001-04-01"], ["phone", "1615077445"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.005844 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.007123 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.008383 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:56.009487 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:56.014705 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.016280 #14992] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.017474 #14992] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T23:14:56.018544 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.019488 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T23:14:56.020735 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.022119 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "055586658"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.023467 #14992] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "055586658"], ["date_of_birth", "2001-04-01"], ["phone", "1001345566"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.024764 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.028978 #14992]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.030003 #14992]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T23:14:56.030319 #14992]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T23:14:56.031464 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.032754 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.038737 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.040272 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:56.041522 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:56.046850 #14992] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.048474 #14992] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.049836 #14992] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T23:14:56.050897 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.051986 #14992]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-04-01T23:14:56.052909 #14992]  INFO -- : Completed 302 Found in 22ms (ActiveRecord: 0.7ms)
D, [2020-04-01T23:14:56.066819 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T23:14:56.067968 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.068924 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.069195 #14992]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T23:14:56.069282 #14992]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T23:14:56.069341 #14992]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T23:14:56.070278 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.071627 #14992] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.073070 #14992] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5401095708"], ["active", 1]]
D, [2020-04-01T23:14:56.074353 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.075509 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.076880 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "351566229"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.080525 #14992] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "351566229"], ["date_of_birth", "2001-04-01"], ["phone", "3953485309"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.081950 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.083212 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.084401 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:56.085497 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:56.090664 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.092156 #14992] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.093357 #14992] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T23:14:56.094290 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.095166 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T23:14:56.096187 #14992]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.097216 #14992]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T23:14:56.097498 #14992]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T23:14:56.102727 #14992] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.103712 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.104711 #14992] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T23:14:56.105550 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.106367 #14992]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T23:14:56.107185 #14992]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.3ms)
D, [2020-04-01T23:14:56.114843 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T23:14:56.155462 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.156504 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.156833 #14992]  INFO -- : ------------------------------------------------
I, [2020-04-01T23:14:56.156901 #14992]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T23:14:56.156986 #14992]  INFO -- : ------------------------------------------------
D, [2020-04-01T23:14:56.157942 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.159451 #14992] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.160970 #14992] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7874572615"], ["active", 1]]
D, [2020-04-01T23:14:56.162256 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.163479 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.164809 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "342215707"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.166219 #14992] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "342215707"], ["date_of_birth", "2001-04-01"], ["phone", "8847719158"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.167557 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.168782 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.170073 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:56.171209 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:56.172338 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.177904 #14992] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.179054 #14992] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T23:14:56.180019 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.181169 #14992]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.182125 #14992]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T23:14:56.184024 #14992]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-01T23:14:56.185373 #14992] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:14:56.187018 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.188544 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.190337 #14992] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NOT NULL) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-01T23:14:56.191248 #14992]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (6.8ms)
I, [2020-04-01T23:14:56.192589 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:14:56.193142 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:14:56.197788 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:14:56.198481 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:56.199494 #14992]  INFO -- : Completed 200 OK in 17ms (Views: 14.8ms | ActiveRecord: 0.4ms)
D, [2020-04-01T23:14:56.204187 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.209862 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.210199 #14992]  INFO -- : ----------------------------------------------
I, [2020-04-01T23:14:56.210286 #14992]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T23:14:56.210356 #14992]  INFO -- : ----------------------------------------------
D, [2020-04-01T23:14:56.211240 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.212640 #14992] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.218110 #14992] DEBUG -- :   [1m[36mStore Create (4.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3670395472"], ["active", 1]]
D, [2020-04-01T23:14:56.219571 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.220783 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.222424 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "012969135"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.223777 #14992] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "012969135"], ["date_of_birth", "2001-04-01"], ["phone", "0383945133"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.225027 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.226352 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.227541 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:56.228644 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:56.229690 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.231147 #14992] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.232317 #14992] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T23:14:56.233257 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.238426 #14992]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.239444 #14992]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T23:14:56.240468 #14992]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-01T23:14:56.242398 #14992] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
D, [2020-04-01T23:14:56.244684 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
I, [2020-04-01T23:14:56.247818 #14992]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (7.1ms)
I, [2020-04-01T23:14:56.249047 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:14:56.249641 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T23:14:56.250251 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:14:56.250871 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:56.251731 #14992]  INFO -- : Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.3ms)
D, [2020-04-01T23:14:56.259534 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.262766 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.263041 #14992]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T23:14:56.263115 #14992]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T23:14:56.263250 #14992]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T23:14:56.264054 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.265420 #14992] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.266845 #14992] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0797166106"], ["active", 1]]
D, [2020-04-01T23:14:56.268097 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.269287 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.270671 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "132768173"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.271976 #14992] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "132768173"], ["date_of_birth", "2001-04-01"], ["phone", "5354897326"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.273182 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.274949 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.276164 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:56.277174 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:56.278258 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.279659 #14992] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.280781 #14992] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T23:14:56.281727 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.282814 #14992]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
F, [2020-04-01T23:14:56.308457 #14992] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T23:14:56.312898 #14992]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
F, [2020-04-01T23:14:56.333767 #14992] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T23:14:56.336788 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.344887 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.345204 #14992]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T23:14:56.345276 #14992]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T23:14:56.345335 #14992]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T23:14:56.346218 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.347559 #14992] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.348967 #14992] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2519689152"], ["active", 1]]
D, [2020-04-01T23:14:56.350162 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.351218 #14992]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.353771 #14992]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T23:14:56.354060 #14992]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T23:14:56.355213 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.356405 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.358669 #14992] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.360151 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.362135 #14992]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T23:14:56.384098 #14992]  INFO -- :   Rendered stores/_form.html.erb (20.7ms)
I, [2020-04-01T23:14:56.384481 #14992]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (22.1ms)
I, [2020-04-01T23:14:56.385715 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:14:56.386254 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:14:56.386807 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:14:56.387418 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:56.388501 #14992]  INFO -- : Completed 200 OK in 34ms (Views: 27.1ms | ActiveRecord: 0.3ms)
D, [2020-04-01T23:14:56.392638 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.400527 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.400841 #14992]  INFO -- : ------------------------------------------
I, [2020-04-01T23:14:56.400911 #14992]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T23:14:56.400982 #14992]  INFO -- : ------------------------------------------
D, [2020-04-01T23:14:56.401815 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.403137 #14992] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.404453 #14992] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6798994810"], ["active", 1]]
D, [2020-04-01T23:14:56.405595 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.406829 #14992]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.407772 #14992]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T23:14:56.408033 #14992]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T23:14:56.408804 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T23:14:56.410054 #14992]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T23:14:56.416570 #14992]  INFO -- :   Rendered stores/_form.html.erb (6.1ms)
I, [2020-04-01T23:14:56.416937 #14992]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (6.6ms)
I, [2020-04-01T23:14:56.421249 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (3.5ms)
I, [2020-04-01T23:14:56.421790 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:14:56.422362 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:14:56.422941 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:56.423811 #14992]  INFO -- : Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 0.1ms)
D, [2020-04-01T23:14:56.427407 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.430258 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.430548 #14992]  INFO -- : -------------------------------------------
I, [2020-04-01T23:14:56.430618 #14992]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T23:14:56.430676 #14992]  INFO -- : -------------------------------------------
D, [2020-04-01T23:14:56.431458 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.432698 #14992] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.438044 #14992] DEBUG -- :   [1m[36mStore Create (4.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5975775345"], ["active", 1]]
D, [2020-04-01T23:14:56.439202 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.440237 #14992]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.441106 #14992]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T23:14:56.443017 #14992]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-01T23:14:56.444305 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:14:56.445779 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" != ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-01T23:14:56.446642 #14992]  INFO -- :   Rendered stores/index.html.erb within layouts/application (3.3ms)
I, [2020-04-01T23:14:56.447816 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:14:56.448337 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:14:56.448896 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:14:56.449514 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:56.450359 #14992]  INFO -- : Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.2ms)
D, [2020-04-01T23:14:56.453802 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.456823 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.457119 #14992]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T23:14:56.457189 #14992]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T23:14:56.457249 #14992]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T23:14:56.458060 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.459370 #14992] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.460662 #14992] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4566977391"], ["active", 1]]
D, [2020-04-01T23:14:56.461837 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.462889 #14992]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.463899 #14992]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T23:14:56.464178 #14992]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T23:14:56.464937 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.466120 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.467608 #14992] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.476140 #14992] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T23:14:56.477325 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.479276 #14992]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T23:14:56.480225 #14992]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.5ms)
D, [2020-04-01T23:14:56.484753 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.487819 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.488084 #14992]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T23:14:56.488153 #14992]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T23:14:56.488268 #14992]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T23:14:56.489128 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.490414 #14992] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.491718 #14992] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3412141022"], ["active", 1]]
D, [2020-04-01T23:14:56.492877 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.497787 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T23:14:56.498938 #14992]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.499889 #14992]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T23:14:56.500147 #14992]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T23:14:56.501287 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.502503 #14992] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.503770 #14992] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T23:14:56.504956 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.505782 #14992]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T23:14:56.506685 #14992]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-01T23:14:56.510552 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T23:14:56.511432 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T23:14:56.512383 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.520514 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.520787 #14992]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T23:14:56.520858 #14992]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T23:14:56.520916 #14992]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T23:14:56.521778 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.522989 #14992] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.524278 #14992] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5842977188"], ["active", 1]]
D, [2020-04-01T23:14:56.525428 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.526593 #14992]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.527489 #14992]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T23:14:56.527740 #14992]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T23:14:56.528807 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.530377 #14992] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T23:14:56.531495 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.532891 #14992]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T23:14:56.539963 #14992]  INFO -- :   Rendered stores/_form.html.erb (6.4ms)
I, [2020-04-01T23:14:56.540316 #14992]  INFO -- :   Rendered stores/new.html.erb within layouts/application (7.2ms)
I, [2020-04-01T23:14:56.541444 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:14:56.546140 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T23:14:56.546713 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:14:56.547290 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:56.548356 #14992]  INFO -- : Completed 200 OK in 20ms (Views: 15.6ms | ActiveRecord: 0.2ms)
D, [2020-04-01T23:14:56.552166 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.555345 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.555628 #14992]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T23:14:56.555701 #14992]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T23:14:56.555759 #14992]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T23:14:56.556516 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.557768 #14992] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.559074 #14992] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9039281827"], ["active", 1]]
D, [2020-04-01T23:14:56.560212 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.561166 #14992]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
F, [2020-04-01T23:14:56.582465 #14992] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T23:14:56.589695 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.590486 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.590750 #14992]  INFO -- : -----------------------------------------
I, [2020-04-01T23:14:56.590821 #14992]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T23:14:56.590878 #14992]  INFO -- : -----------------------------------------
D, [2020-04-01T23:14:56.591674 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.592955 #14992] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.594297 #14992] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2474000659"], ["active", 1]]
D, [2020-04-01T23:14:56.595508 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.596502 #14992]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.597477 #14992]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T23:14:56.598528 #14992]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T23:14:56.605119 #14992]  INFO -- :   Rendered stores/_form.html.erb (6.1ms)
I, [2020-04-01T23:14:56.605468 #14992]  INFO -- :   Rendered stores/new.html.erb within layouts/application (6.7ms)
I, [2020-04-01T23:14:56.606685 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:14:56.607214 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:14:56.607822 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:14:56.608452 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:56.609299 #14992]  INFO -- : Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T23:14:56.614078 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.614798 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.615065 #14992]  INFO -- : --------------------------------------------
I, [2020-04-01T23:14:56.615139 #14992]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T23:14:56.615198 #14992]  INFO -- : --------------------------------------------
D, [2020-04-01T23:14:56.616007 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.617283 #14992] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.618630 #14992] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3518273632"], ["active", 1]]
D, [2020-04-01T23:14:56.619910 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.620950 #14992]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.625902 #14992]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T23:14:56.626189 #14992]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T23:14:56.626982 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.634898 #14992] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (store_id = 1) AND (role = 'manager')[0m
D, [2020-04-01T23:14:56.635848 #14992] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 1)[0m
I, [2020-04-01T23:14:56.637376 #14992]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T23:14:56.638646 #14992]  INFO -- :   Rendered stores/show.html.erb within layouts/application (1.0ms)
I, [2020-04-01T23:14:56.639884 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:14:56.640413 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:14:56.641011 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:14:56.641654 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:56.642552 #14992]  INFO -- : Completed 200 OK in 16ms (Views: 5.0ms | ActiveRecord: 0.3ms)
D, [2020-04-01T23:14:56.646432 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.650457 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.650721 #14992]  INFO -- : ---------------------------------------------
I, [2020-04-01T23:14:56.650791 #14992]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T23:14:56.650850 #14992]  INFO -- : ---------------------------------------------
D, [2020-04-01T23:14:56.651954 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.653454 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "127588026"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.654951 #14992] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "127588026"], ["date_of_birth", "2001-04-01"], ["phone", "2796183366"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.656175 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.657320 #14992]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.659738 #14992]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T23:14:56.660075 #14992]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T23:14:56.660954 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T23:14:56.667864 #14992]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T23:14:56.677123 #14992]  INFO -- :   Rendered employees/_form.html.erb (7.9ms)
I, [2020-04-01T23:14:56.677500 #14992]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (9.3ms)
I, [2020-04-01T23:14:56.682678 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-01T23:14:56.683284 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:14:56.683859 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:14:56.684531 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:56.685518 #14992]  INFO -- : Completed 200 OK in 25ms (Views: 17.9ms | ActiveRecord: 0.1ms)
D, [2020-04-01T23:14:56.695435 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.700251 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.700545 #14992]  INFO -- : --------------------------------------------------
I, [2020-04-01T23:14:56.700620 #14992]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T23:14:56.700681 #14992]  INFO -- : --------------------------------------------------
D, [2020-04-01T23:14:56.701953 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.703454 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "216699886"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.704822 #14992] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "216699886"], ["date_of_birth", "2001-04-01"], ["phone", "4743246122"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.706400 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.707345 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.708532 #14992] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.715284 #14992] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4416515049"], ["active", 1]]
D, [2020-04-01T23:14:56.716740 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.718087 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.719336 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:56.720371 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:14:56.721410 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.727000 #14992] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.728152 #14992] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T23:14:56.729137 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.730287 #14992]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.731293 #14992]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T23:14:56.731535 #14992]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T23:14:56.732351 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T23:14:56.734302 #14992]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T23:14:56.747717 #14992] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055830b8127f0>:
  app/controllers/employees_controller.rb:34:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T23:14:56.751283 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.752192 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.752451 #14992]  INFO -- : --------------------------------------------
I, [2020-04-01T23:14:56.752521 #14992]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T23:14:56.752578 #14992]  INFO -- : --------------------------------------------
D, [2020-04-01T23:14:56.753608 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.755156 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "146298111"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.756560 #14992] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "146298111"], ["date_of_birth", "2001-04-01"], ["phone", "1739303676"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.757778 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.758809 #14992]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.759756 #14992]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T23:14:56.761265 #14992]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T23:14:56.772484 #14992]  INFO -- :   Rendered employees/_form.html.erb (10.4ms)
I, [2020-04-01T23:14:56.772906 #14992]  INFO -- :   Rendered employees/new.html.erb within layouts/application (11.4ms)
I, [2020-04-01T23:14:56.774252 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:14:56.774779 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:14:56.775410 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:14:56.776017 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:56.776998 #14992]  INFO -- : Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T23:14:56.780342 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.781039 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.781307 #14992]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T23:14:56.781383 #14992]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T23:14:56.781441 #14992]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T23:14:56.784597 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.786079 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "051821396"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.787455 #14992] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "051821396"], ["date_of_birth", "2001-04-01"], ["phone", "0089723917"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.788652 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.789929 #14992]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.791017 #14992]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T23:14:56.791325 #14992]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T23:14:56.792106 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.793344 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.795528 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.797170 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.798088 #14992]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T23:14:56.809104 #14992]  INFO -- :   Rendered employees/_form.html.erb (10.6ms)
I, [2020-04-01T23:14:56.809459 #14992]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (11.1ms)
I, [2020-04-01T23:14:56.810726 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:14:56.811263 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:14:56.811873 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:14:56.812532 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:56.813686 #14992]  INFO -- : Completed 200 OK in 22ms (Views: 15.2ms | ActiveRecord: 0.3ms)
D, [2020-04-01T23:14:56.822198 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.822899 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.823253 #14992]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T23:14:56.823325 #14992]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T23:14:56.823383 #14992]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T23:14:56.824367 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.825823 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "028949924"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.827271 #14992] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "028949924"], ["date_of_birth", "2001-04-01"], ["phone", "1644360864"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.828556 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.829421 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T23:14:56.830821 #14992]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.831799 #14992]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T23:14:56.832106 #14992]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T23:14:56.833243 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.834811 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.836285 #14992] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.837513 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.838453 #14992]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T23:14:56.839436 #14992]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
D, [2020-04-01T23:14:56.843751 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T23:14:56.844703 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T23:14:56.849709 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.850400 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.850686 #14992]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T23:14:56.850755 #14992]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T23:14:56.850813 #14992]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T23:14:56.851782 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.853099 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "318371254"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.858545 #14992] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "318371254"], ["date_of_birth", "2001-04-01"], ["phone", "8256087898"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.859787 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.860810 #14992]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
F, [2020-04-01T23:14:56.877005 #14992] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T23:14:56.888468 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.889198 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.889482 #14992]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T23:14:56.889551 #14992]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T23:14:56.889606 #14992]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T23:14:56.890669 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.892098 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "323578951"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.893517 #14992] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "323578951"], ["date_of_birth", "2001-04-01"], ["phone", "7525036434"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.894743 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.895938 #14992]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.896981 #14992]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T23:14:56.897283 #14992]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T23:14:56.898046 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.899196 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.900818 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.906459 #14992] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T23:14:56.907727 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.908602 #14992]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T23:14:56.909576 #14992]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
D, [2020-04-01T23:14:56.914180 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.914831 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.915115 #14992]  INFO -- : ----------------------------------------------
I, [2020-04-01T23:14:56.915185 #14992]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T23:14:56.915240 #14992]  INFO -- : ----------------------------------------------
D, [2020-04-01T23:14:56.916225 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.917555 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "049285861"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.918899 #14992] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "049285861"], ["date_of_birth", "2001-04-01"], ["phone", "1200772299"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.920153 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.921169 #14992]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.926094 #14992]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T23:14:56.928208 #14992]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T23:14:56.929739 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? AND (role = 'manager') LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:14:56.931075 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:14:56.932691 #14992] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" != ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-01T23:14:56.933530 #14992]  INFO -- :   Rendered employees/index.html.erb within layouts/application (5.0ms)
I, [2020-04-01T23:14:56.934717 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:14:56.935276 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T23:14:56.935850 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:14:56.936445 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:14:56.937336 #14992]  INFO -- : Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.4ms)
D, [2020-04-01T23:14:56.941893 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.942589 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.942853 #14992]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T23:14:56.942931 #14992]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T23:14:56.942988 #14992]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T23:14:56.944026 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.945343 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "047157352"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.946822 #14992] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "047157352"], ["date_of_birth", "2001-04-01"], ["phone", "1127535165"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:14:56.948227 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.949516 #14992]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.951725 #14992]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T23:14:56.952070 #14992]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T23:14:56.953201 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:14:56.955206 #14992] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T23:14:56.956628 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T23:14:56.957605 #14992]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T23:14:56.969010 #14992]  INFO -- :   Rendered employees/_form.html.erb (10.8ms)
I, [2020-04-01T23:14:56.969369 #14992]  INFO -- :   Rendered employees/new.html.erb within layouts/application (11.5ms)
I, [2020-04-01T23:14:56.970678 #14992]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:14:56.971310 #14992]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:14:56.971896 #14992]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:14:56.972529 #14992]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-01T23:14:56.973766 #14992]  INFO -- : Completed 200 OK in 21ms (Views: 15.7ms | ActiveRecord: 0.2ms)
D, [2020-04-01T23:14:56.982213 #14992] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:14:56.983346 #14992] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:14:56.983666 #14992]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T23:14:56.983741 #14992]  INFO -- : ApplicationControllerTest: test_should_redirect_to_home_path_on_404_errors
I, [2020-04-01T23:14:56.983803 #14992]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T23:14:56.984638 #14992]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 23:14:56 +0000
I, [2020-04-01T23:14:56.985567 #14992]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T23:14:56.985894 #14992]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T23:14:56.986874 #14992] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T23:14:56.988409 #14992]  INFO -- : Redirected to http://www.example.com/home
I, [2020-04-01T23:14:56.989296 #14992]  INFO -- : Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
D, [2020-04-01T23:14:56.992572 #14992] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:53.911872 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T23:15:54.064847 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:54.065317 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:54.065673 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:15:54.145926 #15070]  INFO -- : Started GET "/" for 127.0.0.1 at 2020-04-01 23:15:54 +0000
I, [2020-04-01T23:15:54.152525 #15070]  INFO -- : Processing by HomeController#index as HTML
I, [2020-04-01T23:15:54.159187 #15070]  INFO -- :   Rendering home/index.html.erb within layouts/application
I, [2020-04-01T23:15:54.160197 #15070]  INFO -- :   Rendered home/index.html.erb within layouts/application (0.7ms)
I, [2020-04-01T23:15:54.473437 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.8ms)
I, [2020-04-01T23:15:54.474809 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-01T23:15:54.476111 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.4ms)
I, [2020-04-01T23:15:54.477430 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.4ms)
I, [2020-04-01T23:15:54.478355 #15070]  INFO -- : Completed 200 OK in 325ms (Views: 320.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T23:15:54.500887 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:54.502973 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:54.503383 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:54.503801 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:15:54.505680 #15070]  INFO -- : Started GET "/home/about" for 127.0.0.1 at 2020-04-01 23:15:54 +0000
I, [2020-04-01T23:15:54.506551 #15070]  INFO -- : Processing by HomeController#about as HTML
I, [2020-04-01T23:15:54.507933 #15070]  INFO -- :   Rendering home/about.html.erb within layouts/application
I, [2020-04-01T23:15:54.508521 #15070]  INFO -- :   Rendered home/about.html.erb within layouts/application (0.3ms)
I, [2020-04-01T23:15:54.511560 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:15:54.512106 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:54.512653 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:54.513220 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:54.518085 #15070]  INFO -- : Completed 200 OK in 11ms (Views: 5.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T23:15:54.529345 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:54.531465 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:54.531899 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:54.532301 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:15:54.533981 #15070]  INFO -- : Started GET "/home/contact" for 127.0.0.1 at 2020-04-01 23:15:54 +0000
I, [2020-04-01T23:15:54.534851 #15070]  INFO -- : Processing by HomeController#contact as HTML
I, [2020-04-01T23:15:54.536234 #15070]  INFO -- :   Rendering home/contact.html.erb within layouts/application
I, [2020-04-01T23:15:54.536866 #15070]  INFO -- :   Rendered home/contact.html.erb within layouts/application (0.3ms)
I, [2020-04-01T23:15:54.542104 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (4.3ms)
I, [2020-04-01T23:15:54.542627 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:54.543193 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:54.543783 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:54.544573 #15070]  INFO -- : Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T23:15:54.554980 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:54.557064 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:54.557476 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:54.557917 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:15:54.559535 #15070]  INFO -- : Started GET "/home/privacy" for 127.0.0.1 at 2020-04-01 23:15:54 +0000
I, [2020-04-01T23:15:54.560383 #15070]  INFO -- : Processing by HomeController#privacy as HTML
I, [2020-04-01T23:15:54.563131 #15070]  INFO -- :   Rendering home/privacy.html.erb within layouts/application
I, [2020-04-01T23:15:54.563727 #15070]  INFO -- :   Rendered home/privacy.html.erb within layouts/application (0.3ms)
I, [2020-04-01T23:15:54.564895 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:15:54.565430 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:54.570173 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (4.3ms)
I, [2020-04-01T23:15:54.570740 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:54.571552 #15070]  INFO -- : Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T23:15:54.582772 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:54.585294 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:54.585789 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:54.586193 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T23:15:54.590316 #15070]  INFO -- : Started GET "/" for 127.0.0.1 at 2020-04-01 23:15:54 +0000
I, [2020-04-01T23:15:54.591112 #15070]  INFO -- : Processing by HomeController#index as HTML
I, [2020-04-01T23:15:54.591937 #15070]  INFO -- :   Rendering home/index.html.erb within layouts/application
I, [2020-04-01T23:15:54.592279 #15070]  INFO -- :   Rendered home/index.html.erb within layouts/application (0.0ms)
I, [2020-04-01T23:15:54.593403 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:15:54.593947 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:54.594472 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:54.595027 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:54.595799 #15070]  INFO -- : Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T23:15:54.605404 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:54.607480 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:54.608018 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:54.608430 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:54.628861 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.636060 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "263490316"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.637579 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "263490316"], ["date_of_birth", "2001-04-01"], ["phone", "8326769558"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:54.638732 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.639951 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.641063 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.642167 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "2324971884"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:54.643231 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.644238 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.645298 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "045943350"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.649515 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "045943350"], ["date_of_birth", "2004-04-01"], ["phone", "1683608364"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:54.650630 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.651683 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.652771 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "111412525"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.653906 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "111412525"], ["date_of_birth", "1994-04-01"], ["phone", "9280346665"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:54.675462 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.676755 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.678107 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.679285 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:54.680324 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.681411 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.686565 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.687677 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "4819749434"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:54.688792 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.689859 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.690893 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "129899715"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.691979 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "129899715"], ["date_of_birth", "2001-04-01"], ["phone", "1056032513"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:54.693060 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.709394 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.714927 #15070] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.716213 #15070] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0198809186"], ["active", 1]]
D, [2020-04-01T23:15:54.717369 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.722462 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.723562 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.724709 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:54.726045 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.726982 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.727869 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.728914 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7696324219"], ["active", 0]]
D, [2020-04-01T23:15:54.734067 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.751846 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.753489 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:54.756869 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:54.758307 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.768860 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.770081 #15070] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:54.771060 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.772269 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.773389 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:54.774451 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:54.775459 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.776822 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.781872 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:54.782761 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.783980 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.785128 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:54.786350 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:54.787417 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.788654 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.789684 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:54.790532 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.791690 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.792761 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:54.797800 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:54.798869 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.800167 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.801179 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:54.802187 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.803296 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.804406 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:54.805467 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:54.806535 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.807935 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.809192 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:54.810144 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.811274 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.812274 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:54.813335 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:54.818399 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.819759 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.820857 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:54.821803 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.822470 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.823563 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:54.824390 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.825015 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.826077 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:54.826895 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.827534 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.828507 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:54.829341 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.829984 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.830762 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.831404 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.832407 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:54.833298 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.833958 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.834934 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:54.835767 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.836426 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.837453 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:54.840377 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.841054 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.842087 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:54.842990 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.843728 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.845227 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.846615 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:54.847427 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.854725 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.855597 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T23:15:54.856377 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.857022 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.858136 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T23:15:54.858883 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.859460 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.860231 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T23:15:54.860938 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.861524 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.862282 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-01T23:15:54.862973 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.863541 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.864312 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-01T23:15:54.864986 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.865568 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.866343 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-01T23:15:54.867048 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.867645 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.868416 #15070] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T23:15:54.869136 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.869740 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.870451 #15070] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T23:15:54.871155 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.871744 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.872470 #15070] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T23:15:54.873161 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.873780 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.874578 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T23:15:54.875286 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.875868 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.876607 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T23:15:54.877325 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.877897 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.878597 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T23:15:54.879254 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.879803 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.880500 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-01T23:15:54.881153 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.881725 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.882428 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-01T23:15:54.883143 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.883725 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.884433 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-01T23:15:54.885124 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.885762 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.886505 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-01T23:15:54.887204 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:54.889102 #15070]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 23:15:54 +0000
I, [2020-04-01T23:15:54.891912 #15070]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T23:15:54.894644 #15070]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T23:15:54.896081 #15070] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? AND (role = 'manager') LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:54.897308 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:54.898540 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" != ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-01T23:15:54.899429 #15070]  INFO -- :   Rendered employees/index.html.erb within layouts/application (4.5ms)
I, [2020-04-01T23:15:54.900669 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:15:54.901194 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:54.901797 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:54.902364 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:54.903230 #15070]  INFO -- : Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.4ms)
D, [2020-04-01T23:15:54.916965 #15070] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:54.919305 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:54.919751 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:54.920200 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:54.922106 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.923864 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "176227869"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.925297 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "176227869"], ["date_of_birth", "2001-04-01"], ["phone", "2599817643"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:54.926535 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.927636 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.928769 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.929995 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "0731361832"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:54.931167 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.932244 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.933362 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "229067210"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.934574 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "229067210"], ["date_of_birth", "2004-04-01"], ["phone", "6409193595"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:54.935989 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.937267 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.938582 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "163227762"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.939897 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "163227762"], ["date_of_birth", "1994-04-01"], ["phone", "6186841326"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:54.941200 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.946497 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.947928 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.949323 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:54.961881 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.963215 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.964458 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.965681 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "5421803022"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:54.966837 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.967866 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.968973 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "368433550"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.970151 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "368433550"], ["date_of_birth", "2001-04-01"], ["phone", "8771882611"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:54.971283 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.972152 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.973226 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.974422 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8022423635"], ["active", 1]]
D, [2020-04-01T23:15:54.975541 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.976420 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.977382 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.982655 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:54.983912 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.984931 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.986038 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.987205 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8771334474"], ["active", 0]]
D, [2020-04-01T23:15:54.988486 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.989746 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.990983 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:54.992119 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:54.993200 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.995405 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:54.996522 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:54.997534 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.998741 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:54.999834 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.000950 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.006019 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.007421 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.008517 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:55.009511 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.010762 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.011913 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.013085 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.018268 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.019714 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.020809 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:55.021868 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.023085 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.024224 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.025325 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.026382 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.027756 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.028880 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:55.029922 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.031022 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.032127 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.033285 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.034558 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.035945 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.037006 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:55.037926 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.039031 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.040134 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.041217 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.042310 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.043635 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.044688 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:55.045584 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.046837 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.047924 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:55.048693 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.049375 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.054477 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:55.055339 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.056007 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.057010 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:55.057831 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.058477 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.059236 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.059884 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.060817 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:55.061640 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.062290 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.063244 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:55.064011 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.064676 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.069658 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:55.070503 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.071137 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.072119 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:55.072898 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.073610 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.075345 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.076559 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:55.077439 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:55.079016 #15070]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 23:15:55 +0000
I, [2020-04-01T23:15:55.079842 #15070]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T23:15:55.081311 #15070]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T23:15:55.086168 #15070] DEBUG -- :   [1m[36mEmployee Load (4.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? AND (role = 'manager') LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:55.087930 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:55.089859 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.259627 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" != ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-01T23:15:55.262044 #15070]  INFO -- :   Rendered employees/index.html.erb within layouts/application (180.4ms)
I, [2020-04-01T23:15:55.264170 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T23:15:55.264691 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:55.269878 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:55.271106 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:55.272847 #15070]  INFO -- : Completed 200 OK in 193ms (Views: 186.0ms | ActiveRecord: 4.5ms)
D, [2020-04-01T23:15:55.336679 #15070] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:55.361196 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:55.362451 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:55.362885 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:55.372241 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.374503 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "050521078"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.377434 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "050521078"], ["date_of_birth", "2001-04-01"], ["phone", "3710572132"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:55.420737 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.422114 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.423576 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.424847 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "5669919927"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:55.426001 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.427294 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.428618 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "159395140"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.429876 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "159395140"], ["date_of_birth", "2004-04-01"], ["phone", "7913758735"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:55.431218 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.432419 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.437901 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "123777961"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.439329 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "123777961"], ["date_of_birth", "1994-04-01"], ["phone", "5874252876"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:55.440623 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.442021 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.443400 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.444705 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:55.445944 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.447255 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.448601 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.454063 #15070] DEBUG -- :   [1m[36mEmployee Create (4.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "3910810298"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:55.455313 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.456652 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.458092 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "263739658"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.459426 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "263739658"], ["date_of_birth", "2001-04-01"], ["phone", "9151335169"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:55.460763 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.461879 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.463018 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.464351 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9776954793"], ["active", 1]]
D, [2020-04-01T23:15:55.469722 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.470799 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.472029 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.473377 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:55.474705 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.475786 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.476895 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.478191 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2870269823"], ["active", 0]]
D, [2020-04-01T23:15:55.479518 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.481025 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.482521 #15070] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.483755 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.484863 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.490646 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.492056 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:55.493219 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.494519 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.495843 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.497110 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.498276 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.499757 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.500978 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:55.505253 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.506705 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.508178 #15070] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.509420 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.510525 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.512191 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.513316 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:55.514363 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.515690 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.517011 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.518128 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.519220 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.520548 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.521882 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:55.522989 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.524323 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.525592 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.530895 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.532373 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.533930 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.535210 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:55.536197 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.537516 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.542758 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.543941 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.545325 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.547002 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.548144 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:55.549212 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.549929 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.551098 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:55.552060 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.552680 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.553807 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:55.554561 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.555301 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.556233 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:55.557153 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.561791 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.562713 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.563429 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.564540 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:55.565394 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.566220 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.567323 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:55.568126 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.568761 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.570043 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:55.571001 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.571670 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.572691 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:55.573574 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.574355 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.575914 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.577255 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:55.582273 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:55.583919 #15070]  INFO -- : Started GET "/employees/5" for 127.0.0.1 at 2020-04-01 23:15:55 +0000
I, [2020-04-01T23:15:55.584881 #15070]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T23:15:55.585157 #15070]  INFO -- :   Parameters: {"id"=>"5"}
D, [2020-04-01T23:15:55.586110 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
I, [2020-04-01T23:15:55.588163 #15070]  INFO -- : Completed 500  in 3ms (ActiveRecord: 0.1ms)
F, [2020-04-01T23:15:55.596385 #15070] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055bbceaf4ee0>:
  app/controllers/employees_controller.rb:34:in `show'

D, [2020-04-01T23:15:55.614790 #15070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:55.617057 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:55.617488 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:55.617951 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:55.619664 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.621078 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "094702449"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.622516 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "094702449"], ["date_of_birth", "2001-04-01"], ["phone", "7030675024"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:55.623668 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.624851 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.630047 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.631282 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "4231250959"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:55.632418 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.633534 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.634739 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238884722"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.635931 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "238884722"], ["date_of_birth", "2004-04-01"], ["phone", "3936368713"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:55.637057 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.638137 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.639245 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "385896838"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.640377 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "385896838"], ["date_of_birth", "1994-04-01"], ["phone", "0727316094"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:55.641503 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.646731 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.648010 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.649274 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:55.650417 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.651493 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.652594 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.653734 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "1093515420"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:55.654899 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.655935 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.657077 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "166684844"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.662421 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "166684844"], ["date_of_birth", "2001-04-01"], ["phone", "2196344180"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:55.663693 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.664790 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.666008 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.667186 #15070] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7327762716"], ["active", 1]]
D, [2020-04-01T23:15:55.668308 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.669242 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.670252 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.671388 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:55.672548 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.673473 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.678649 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.679801 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9356541671"], ["active", 0]]
D, [2020-04-01T23:15:55.680974 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.682344 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.683618 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.684778 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.685909 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.687358 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.688526 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:55.689525 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.693952 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.695133 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.696257 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.697331 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.698747 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.699877 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:55.700835 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.702027 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.703146 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.704192 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.705273 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.706600 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.707639 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:55.708575 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.709982 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.711224 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.712282 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.713360 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.714748 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.715837 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:55.716829 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.717945 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.718988 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.720057 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.721083 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.726515 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.727544 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:55.728456 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.729657 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.730756 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.731869 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.732887 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.734203 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.735206 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:55.736085 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.736748 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.741847 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:55.742614 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.743201 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.744162 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:55.744916 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.745515 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.746472 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:55.747273 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.747895 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.748618 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.749257 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.750203 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:55.750985 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.751545 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.752513 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:55.753269 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.753900 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.754838 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:55.755590 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.756207 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.757172 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:55.761969 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.762607 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.764066 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.765250 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:55.766075 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:55.767541 #15070]  INFO -- : Started GET "/employees/2" for 127.0.0.1 at 2020-04-01 23:15:55 +0000
I, [2020-04-01T23:15:55.768384 #15070]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T23:15:55.768633 #15070]  INFO -- :   Parameters: {"id"=>"2"}
D, [2020-04-01T23:15:55.769408 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
I, [2020-04-01T23:15:55.771175 #15070]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T23:15:55.782252 #15070] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055bbceaf4ee0>:
  app/controllers/employees_controller.rb:34:in `show'

D, [2020-04-01T23:15:55.800182 #15070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:55.802831 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:55.803252 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:55.803645 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:55.805363 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.810956 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "221182501"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.818778 #15070] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "221182501"], ["date_of_birth", "2001-04-01"], ["phone", "3600894606"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:55.820110 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.821299 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.826699 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.827937 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "1257543699"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:55.829076 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.830222 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.831316 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "307811205"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.832419 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "307811205"], ["date_of_birth", "2004-04-01"], ["phone", "8797593452"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:55.833592 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.834744 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.835803 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "278703627"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.836913 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "278703627"], ["date_of_birth", "1994-04-01"], ["phone", "3993863361"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:55.842079 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.843231 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.844380 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.845552 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:55.846678 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.847801 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.848916 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.850116 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "5523290911"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:55.851380 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.852391 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.853533 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "210385444"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.854743 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "210385444"], ["date_of_birth", "2001-04-01"], ["phone", "5543436858"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:55.855880 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.856732 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.861841 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.863067 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7898652176"], ["active", 1]]
D, [2020-04-01T23:15:55.864192 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.865150 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.866199 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.867295 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:55.868431 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.869307 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.870282 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.871390 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5147836000"], ["active", 0]]
D, [2020-04-01T23:15:55.872694 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.873959 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.875234 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.876372 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.877425 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.881705 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.882931 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:55.883869 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.885099 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.886213 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.887246 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.888265 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.889688 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.890720 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:55.891551 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.892633 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.893714 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.894754 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.895737 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.897140 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.898172 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:55.899086 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.900256 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.901357 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.902434 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.903492 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.904852 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.905875 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:55.906824 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.907817 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.908856 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.909921 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.910959 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.912194 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.913187 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:55.914192 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.915228 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.916336 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.917432 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:55.918437 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.919638 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.920614 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:55.921496 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.922188 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.923221 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:55.923990 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.924604 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.925594 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:55.926365 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.926960 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.927910 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:55.928748 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.929331 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.930111 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.930714 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.931655 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:55.932417 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.933088 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.934135 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:55.934913 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.935554 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.936483 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:55.937255 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.937940 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.938860 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:55.939618 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.940267 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.941652 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.942836 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:55.943656 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:55.945147 #15070]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 23:15:55 +0000
I, [2020-04-01T23:15:55.946040 #15070]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T23:15:55.946291 #15070]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T23:15:55.947062 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T23:15:55.948870 #15070]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-01T23:15:55.960500 #15070] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055bbceaf4ee0>:
  app/controllers/employees_controller.rb:34:in `show'

D, [2020-04-01T23:15:55.978443 #15070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:55.980993 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:55.981384 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:55.981838 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:55.983464 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.984848 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "240215977"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.986229 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "240215977"], ["date_of_birth", "2001-04-01"], ["phone", "3123505502"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:55.987317 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.988327 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.989414 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.994657 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "9822099963"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:55.995779 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.996894 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:55.998148 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "280448664"], ["LIMIT", 1]]
D, [2020-04-01T23:15:55.999241 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "280448664"], ["date_of_birth", "2004-04-01"], ["phone", "2168157304"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:56.000340 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.001401 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.002497 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "070385944"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.003638 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "070385944"], ["date_of_birth", "1994-04-01"], ["phone", "6997757520"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:56.004691 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.005823 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.007109 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.008238 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:56.009354 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.010494 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.011612 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.012740 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "7164006399"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:56.017967 #15070] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.019100 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.020331 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "202682279"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.021533 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "202682279"], ["date_of_birth", "2001-04-01"], ["phone", "5898313039"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:56.022690 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.023620 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.024750 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.026004 #15070] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4278192952"], ["active", 1]]
D, [2020-04-01T23:15:56.027222 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.028117 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.029119 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.030253 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:56.031407 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.032307 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.033311 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.034411 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0657188257"], ["active", 0]]
D, [2020-04-01T23:15:56.035549 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.036849 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.040853 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.042082 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.043199 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.044672 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.045827 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:56.046814 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.047953 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.049072 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.054247 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.055373 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.056756 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.057827 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:56.058725 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.059900 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.060980 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.062026 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.063085 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.064387 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.065409 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:56.070375 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.071683 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.072873 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.074004 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.075023 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.076334 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.077435 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:56.078400 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.079628 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.080700 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.085813 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.086929 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.088362 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.089380 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:56.090283 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.091486 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.092584 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.093675 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.094692 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.096015 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.097045 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:56.097944 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.098590 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.099633 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:56.100407 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.101047 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.106071 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:56.106857 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.107498 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.108575 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:56.109343 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.110032 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.110822 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.111411 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.112396 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:56.113220 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.113847 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.114811 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:56.115555 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.116221 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.117190 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:56.118483 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.119121 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.120083 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:56.120869 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.121561 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.123079 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.124323 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:56.125120 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:56.129309 #15070]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 23:15:56 +0000
I, [2020-04-01T23:15:56.130203 #15070]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T23:15:56.131646 #15070]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-01T23:15:56.132525 #15070] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? AND (role = 'manager') LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:56.134155 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:56.135939 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.137596 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" != ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-01T23:15:56.138687 #15070]  INFO -- :   Rendered employees/index.html.erb within layouts/application (6.7ms)
I, [2020-04-01T23:15:56.139804 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T23:15:56.140327 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:56.140896 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:56.141522 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:56.146476 #15070]  INFO -- : Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.5ms)
I, [2020-04-01T23:15:56.157862 #15070]  INFO -- : Started GET "/employees/5" for 127.0.0.1 at 2020-04-01 23:15:56 +0000
I, [2020-04-01T23:15:56.158751 #15070]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T23:15:56.159069 #15070]  INFO -- :   Parameters: {"id"=>"5"}
D, [2020-04-01T23:15:56.159983 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
I, [2020-04-01T23:15:56.162042 #15070]  INFO -- : Completed 500  in 3ms (ActiveRecord: 0.1ms)
F, [2020-04-01T23:15:56.174572 #15070] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055bbceaf4ee0>:
  app/controllers/employees_controller.rb:34:in `show'

D, [2020-04-01T23:15:56.186812 #15070] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:56.189256 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:56.189728 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:56.194201 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:56.196035 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.197507 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084685726"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.198963 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "084685726"], ["date_of_birth", "2001-04-01"], ["phone", "0707782176"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:56.200272 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.201491 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.202724 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.203948 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "9212354477"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:56.205198 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.206422 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.207713 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "266299368"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.208935 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "266299368"], ["date_of_birth", "2004-04-01"], ["phone", "4820023036"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:56.213171 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.214576 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.215954 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "087772165"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.217260 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "087772165"], ["date_of_birth", "1994-04-01"], ["phone", "0656891140"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:56.218604 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.219887 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.221160 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.222450 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:56.223683 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.224893 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.226082 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.227320 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "6979842224"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:56.228550 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.233763 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.235199 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "043907915"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.236475 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "043907915"], ["date_of_birth", "2001-04-01"], ["phone", "1778493940"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:56.237843 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.238870 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.240040 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.241366 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3245646145"], ["active", 1]]
D, [2020-04-01T23:15:56.242644 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.243664 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.244759 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.250029 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:56.251427 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.252420 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.253612 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.254910 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0565198852"], ["active", 0]]
D, [2020-04-01T23:15:56.256217 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.257566 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.258925 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.260080 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.261219 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.262736 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.263919 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:56.264993 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.270413 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.271716 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.272858 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.274059 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.275498 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.276565 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:56.277550 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.278855 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.279963 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.281121 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.282237 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.283609 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.284717 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:56.289749 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.291307 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.292689 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.293914 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.295025 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.296484 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.297556 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:56.298684 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.299964 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.301169 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.302365 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.303493 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.304955 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.308297 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:56.309330 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.310621 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.311845 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.312941 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.314062 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.315460 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.316556 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:56.317527 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.322318 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.323486 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:56.324345 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.324987 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.325992 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:56.326858 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.327553 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.328512 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:56.329399 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.334099 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.334940 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.335585 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.336623 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:56.337474 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.338133 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.339121 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:56.339964 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.340632 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.341643 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:56.342492 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.343169 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.344157 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:56.344983 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.345727 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.347250 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.348483 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:56.349327 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:56.355123 #15070]  INFO -- : Started GET "/employees/5" for 127.0.0.1 at 2020-04-01 23:15:56 +0000
I, [2020-04-01T23:15:56.356061 #15070]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T23:15:56.356409 #15070]  INFO -- :   Parameters: {"id"=>"5"}
D, [2020-04-01T23:15:56.357373 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
I, [2020-04-01T23:15:56.367177 #15070]  INFO -- : Completed 500  in 10ms (ActiveRecord: 0.1ms)
F, [2020-04-01T23:15:56.379633 #15070] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055bbceaf4ee0>:
  app/controllers/employees_controller.rb:34:in `show'

D, [2020-04-01T23:15:56.386655 #15070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:56.389004 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:56.389447 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:56.392375 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:56.394154 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.395579 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "231247527"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.396977 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "231247527"], ["date_of_birth", "2001-04-01"], ["phone", "0307637984"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:56.398221 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.399318 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.400410 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.401535 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "2046901007"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:56.402694 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.403711 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.404815 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "335283710"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.409973 #15070] DEBUG -- :   [1m[36mEmployee Create (4.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "335283710"], ["date_of_birth", "2004-04-01"], ["phone", "9249658244"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:56.411121 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.412324 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.413550 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "124834995"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.414750 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "124834995"], ["date_of_birth", "1994-04-01"], ["phone", "6893604160"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:56.415871 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.416943 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.422148 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.423373 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:56.424523 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.425717 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.426868 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.427996 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "1524822037"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:56.429097 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.430149 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.431232 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "114157502"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.432368 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "114157502"], ["date_of_birth", "2001-04-01"], ["phone", "8316857469"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:56.433506 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.434416 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.435480 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.436753 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5163507828"], ["active", 1]]
D, [2020-04-01T23:15:56.441935 #15070] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.442875 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.443969 #15070] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.445197 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:56.446487 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.447365 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.448317 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.449401 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4633093031"], ["active", 0]]
D, [2020-04-01T23:15:56.450576 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.451804 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.453023 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.454164 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.455182 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.456627 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.457867 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:56.458938 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.460157 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.461352 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.462425 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.463432 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.464833 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.469999 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:56.470991 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.472236 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.473468 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.474582 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.475599 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.476978 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.478136 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:56.479050 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.480303 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.481550 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.482618 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.483649 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.485016 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.486045 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:56.487008 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.488127 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.489202 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.495692 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.496723 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.498131 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.499176 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:56.500091 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.501218 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.506668 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.507777 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.508794 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.510196 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.511210 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:56.512070 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.512689 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.517791 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:56.518622 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.519211 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.520187 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:56.520953 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.521533 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.522473 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:56.523217 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.523816 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.524557 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.525140 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.530153 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:56.530955 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.531535 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.532457 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:56.533204 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.533804 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.534734 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:56.535457 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.536069 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.536972 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:56.541839 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.542474 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.543976 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.545130 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:56.550002 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.552499 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.553340 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T23:15:56.554164 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.554714 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.555429 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T23:15:56.556086 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.556620 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.557309 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T23:15:56.558021 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.558582 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.559264 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-01T23:15:56.559921 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.560504 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.561179 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-01T23:15:56.563197 #15070] DEBUG -- :   [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.563781 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.564444 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-01T23:15:56.565107 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.565704 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.566448 #15070] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T23:15:56.567123 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.567667 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.568355 #15070] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T23:15:56.569016 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.569589 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.574388 #15070] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T23:15:56.575060 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.575665 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.576400 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T23:15:56.577047 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.577643 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.578338 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T23:15:56.578986 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.579515 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.580202 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T23:15:56.580882 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.581449 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.586357 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-01T23:15:56.587056 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.587604 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.588298 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-01T23:15:56.588959 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.589513 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.590231 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-01T23:15:56.590906 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.591442 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.592137 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-01T23:15:56.592812 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:56.601026 #15070]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 23:15:56 +0000
I, [2020-04-01T23:15:56.603370 #15070]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T23:15:56.610019 #15070]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-01T23:15:56.611447 #15070] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:56.612675 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" != ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-01T23:15:56.613566 #15070]  INFO -- :   Rendered stores/index.html.erb within layouts/application (3.2ms)
I, [2020-04-01T23:15:56.614896 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:15:56.615413 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:56.615996 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:15:56.616551 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:56.617411 #15070]  INFO -- : Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 0.3ms)
D, [2020-04-01T23:15:56.644913 #15070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:56.647652 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:56.648096 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:56.648520 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:56.650213 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.651654 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "223398066"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.652960 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "223398066"], ["date_of_birth", "2001-04-01"], ["phone", "6004339980"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:56.658249 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.659462 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.660697 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.661885 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "0576521658"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:56.663026 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.664055 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.665122 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "056653819"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.670346 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "056653819"], ["date_of_birth", "2004-04-01"], ["phone", "1588527016"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:56.671531 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.672680 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.673852 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "201481217"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.675000 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "201481217"], ["date_of_birth", "1994-04-01"], ["phone", "5227032145"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:56.676088 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.677192 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.678497 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.679677 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:56.680840 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.682010 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.683132 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.684256 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "1601613587"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:56.685415 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.690614 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.691882 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "170181562"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.693062 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "170181562"], ["date_of_birth", "2001-04-01"], ["phone", "0543646669"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:56.694310 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.695269 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.696388 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.697584 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0648826249"], ["active", 1]]
D, [2020-04-01T23:15:56.698803 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.699737 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.700741 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.705891 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:56.707127 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.708099 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.709159 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.710297 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2161851387"], ["active", 0]]
D, [2020-04-01T23:15:56.711483 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.712733 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.714045 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.715124 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.716188 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.717611 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.718743 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:56.719748 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.720980 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.723714 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.724871 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.725952 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.727344 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.728404 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:56.729283 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.730494 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.731662 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.732838 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.733934 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.735320 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.736497 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:56.737423 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.742905 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.744247 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.745377 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.746467 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.747856 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.748891 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:56.749958 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.751206 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.752401 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.753507 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.758870 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.760491 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.761700 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:56.762627 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.763861 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.765024 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.766131 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.767172 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.768505 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.769514 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:56.774719 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.775470 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.776660 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:56.777533 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.778237 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.779243 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:56.780064 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.780680 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.781695 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:56.782536 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.783235 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.784027 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.784672 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.789700 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:56.790548 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.791196 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.792259 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:56.793123 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.793752 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.794756 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:56.795673 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.796360 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.797398 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:56.798257 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.798992 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.800451 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.801807 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:56.802727 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:56.804348 #15070]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 23:15:56 +0000
I, [2020-04-01T23:15:56.805188 #15070]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T23:15:56.806465 #15070]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-01T23:15:56.807202 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:56.808867 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" != ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-01T23:15:56.809942 #15070]  INFO -- :   Rendered stores/index.html.erb within layouts/application (3.1ms)
I, [2020-04-01T23:15:56.811142 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:15:56.811665 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:56.812261 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:56.812943 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:56.816170 #15070]  INFO -- : Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.2ms)
D, [2020-04-01T23:15:56.836221 #15070] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:56.843249 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:56.843782 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:56.844198 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:56.846117 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.847747 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "313445531"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.849285 #15070] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "313445531"], ["date_of_birth", "2001-04-01"], ["phone", "5371738822"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:56.850633 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.851966 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.853165 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.854515 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "0567185610"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:56.855834 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.857017 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.862393 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "324204282"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.863667 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "324204282"], ["date_of_birth", "2004-04-01"], ["phone", "7605366966"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:56.865098 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.866462 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.867741 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "188368040"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.869053 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "188368040"], ["date_of_birth", "1994-04-01"], ["phone", "0869958482"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:56.870485 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.871755 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.872988 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.874358 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:56.875742 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.876920 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.878194 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.879391 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "5186701064"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:56.880715 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.886020 #15070] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.887457 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "258578292"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.888845 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "258578292"], ["date_of_birth", "2001-04-01"], ["phone", "6681637942"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:56.890347 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.891420 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.892686 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.894030 #15070] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1782339577"], ["active", 1]]
D, [2020-04-01T23:15:56.895305 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.896259 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.897353 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.900663 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:56.902063 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.903145 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.904283 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.905482 #15070] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6175174700"], ["active", 0]]
D, [2020-04-01T23:15:56.906867 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.908183 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.909579 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.910840 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.911951 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.913432 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.914672 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:56.915757 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.917005 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.918174 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.919365 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.920474 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.921957 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.923068 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:56.924082 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.925397 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.926765 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.936656 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.941996 #15070] DEBUG -- :   [1m[36mEmployee Load (4.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.943529 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.944671 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:56.945644 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.947109 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.948462 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.949694 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.950897 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.952358 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.953569 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:56.954680 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.955854 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.956979 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.958158 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.959234 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.960555 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.965712 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:56.966890 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.968242 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.969463 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.970596 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:56.971645 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.973084 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:56.974240 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:56.975198 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.975896 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.976974 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:56.977875 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.978493 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.979482 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:56.980312 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.980941 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.981919 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:56.982742 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.983384 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.984180 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.984840 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.985832 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:56.986588 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.987263 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.988224 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:56.989046 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.993778 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.994854 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:56.995625 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.996304 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.997258 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:56.998110 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:56.998807 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.000365 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.005756 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:57.006849 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:57.008435 #15070]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 23:15:57 +0000
I, [2020-04-01T23:15:57.009293 #15070]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T23:15:57.010688 #15070]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-01T23:15:57.011501 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:57.013140 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" != ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-01T23:15:57.014208 #15070]  INFO -- :   Rendered stores/index.html.erb within layouts/application (3.2ms)
I, [2020-04-01T23:15:57.015387 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T23:15:57.015924 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:57.016522 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:57.017115 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:57.018064 #15070]  INFO -- : Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.2ms)
I, [2020-04-01T23:15:57.028722 #15070]  INFO -- : Started GET "/stores/2" for 127.0.0.1 at 2020-04-01 23:15:57 +0000
I, [2020-04-01T23:15:57.029730 #15070]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T23:15:57.030072 #15070]  INFO -- :   Parameters: {"id"=>"2"}
D, [2020-04-01T23:15:57.031441 #15070] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.036734 #15070] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (store_id = 2) AND (role = 'manager')[0m
D, [2020-04-01T23:15:57.038469 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.039883 #15070] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 2)[0m
D, [2020-04-01T23:15:57.040997 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.046489 #15070] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
I, [2020-04-01T23:15:57.048463 #15070]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T23:15:57.050166 #15070]  INFO -- :   Rendered stores/show.html.erb within layouts/application (1.3ms)
I, [2020-04-01T23:15:57.051371 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:15:57.051914 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:57.052502 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:57.053123 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:57.054088 #15070]  INFO -- : Completed 200 OK in 24ms (Views: 5.4ms | ActiveRecord: 0.6ms)
D, [2020-04-01T23:15:57.083161 #15070] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:57.085797 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:57.086271 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:57.086719 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:57.088539 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.090049 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "247998246"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.091474 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "247998246"], ["date_of_birth", "2001-04-01"], ["phone", "6373265988"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:57.092748 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.093964 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.095188 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.096418 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "8257296991"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:57.101671 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.102898 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.104121 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "134396395"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.105354 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "134396395"], ["date_of_birth", "2004-04-01"], ["phone", "9169540326"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:57.106616 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.107825 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.109007 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "046258745"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.110216 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "046258745"], ["date_of_birth", "1994-04-01"], ["phone", "4845908752"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:57.111406 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.112548 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.116368 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.117680 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:57.118978 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.120170 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.121430 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.122677 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "9153048841"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:57.123953 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.125087 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.126271 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "200282391"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.127421 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "200282391"], ["date_of_birth", "2001-04-01"], ["phone", "9323544293"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:57.128661 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.129659 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.130818 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.132022 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9491888351"], ["active", 1]]
D, [2020-04-01T23:15:57.133272 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.138346 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.139425 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.140624 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:57.141929 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.142899 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.143928 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.145084 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2244927824"], ["active", 0]]
D, [2020-04-01T23:15:57.146375 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.147641 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.148990 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.150302 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.151440 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.152944 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.154088 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:57.155079 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.156206 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.157241 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.158350 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.159361 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.160651 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.165699 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:57.166608 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.167751 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.168879 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.169981 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.171124 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.172528 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.173873 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:57.174793 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.175964 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.177065 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.182319 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.183395 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.184841 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.185911 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:57.186853 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.187959 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.189075 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.190142 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.191238 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.192600 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.193602 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:57.194585 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.195667 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.196719 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.201434 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.202514 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.203863 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.204907 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:57.205825 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.206468 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.207489 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:57.208315 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.208964 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.209884 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:57.210691 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.211296 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.212247 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:57.213071 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.213686 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.214456 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.215085 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.216004 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:57.216785 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.217433 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.218464 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:57.219299 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.219905 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.220843 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:57.221615 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.226433 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.227586 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:57.228443 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.229097 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.230654 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.231983 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:57.232859 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:57.234480 #15070]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 23:15:57 +0000
I, [2020-04-01T23:15:57.235323 #15070]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T23:15:57.236698 #15070]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-01T23:15:57.237494 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:57.243504 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" != ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-01T23:15:57.244605 #15070]  INFO -- :   Rendered stores/index.html.erb within layouts/application (7.6ms)
I, [2020-04-01T23:15:57.245993 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:15:57.246523 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:57.247123 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:57.247692 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:57.248596 #15070]  INFO -- : Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.2ms)
I, [2020-04-01T23:15:57.261073 #15070]  INFO -- : Started GET "/stores/3" for 127.0.0.1 at 2020-04-01 23:15:57 +0000
I, [2020-04-01T23:15:57.262186 #15070]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T23:15:57.262499 #15070]  INFO -- :   Parameters: {"id"=>"3"}
D, [2020-04-01T23:15:57.263437 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.265164 #15070] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (store_id = 3) AND (role = 'manager')[0m
D, [2020-04-01T23:15:57.266232 #15070] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 3)[0m
I, [2020-04-01T23:15:57.267211 #15070]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T23:15:57.267791 #15070]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.2ms)
I, [2020-04-01T23:15:57.268895 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.2ms)
I, [2020-04-01T23:15:57.269430 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:57.270017 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:57.270594 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-01T23:15:57.271489 #15070]  INFO -- : Completed 200 OK in 9ms (Views: 4.0ms | ActiveRecord: 0.3ms)
D, [2020-04-01T23:15:57.292870 #15070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:57.295738 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:57.296219 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:57.296661 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:57.298425 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.299916 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "167458256"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.301288 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "167458256"], ["date_of_birth", "2001-04-01"], ["phone", "4011262157"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:57.303293 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.304524 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.305936 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.307161 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "6375712020"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:57.308392 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.309600 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.310824 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "106235568"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.312057 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "106235568"], ["date_of_birth", "2004-04-01"], ["phone", "4410061685"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:57.313254 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.318587 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.319881 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "094591114"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.321125 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "094591114"], ["date_of_birth", "1994-04-01"], ["phone", "6044881244"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:57.326513 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.327809 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.329128 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.330329 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:57.331551 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.332752 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.333951 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.335166 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "5129559620"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:57.336402 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.337509 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.338651 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "198723722"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.339848 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "198723722"], ["date_of_birth", "2001-04-01"], ["phone", "8176167421"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:57.341126 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.346080 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.347323 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.348508 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9105570391"], ["active", 1]]
D, [2020-04-01T23:15:57.349609 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.350720 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.351777 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.352893 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:57.354471 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.355475 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.356555 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.357762 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2321612507"], ["active", 0]]
D, [2020-04-01T23:15:57.359133 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.360514 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.365869 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.367296 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.368403 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.369895 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.371047 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:57.372064 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.373404 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.374691 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.375975 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.377081 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.380697 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.381909 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:57.382900 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.384148 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.385339 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.386523 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.387621 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.389139 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.390164 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:57.391154 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.392527 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.393837 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.394957 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.396007 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.397433 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.402912 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:57.403970 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.405210 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.406510 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.407655 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.408722 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.414347 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.415404 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:57.416369 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.417693 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.418890 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.420022 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.421030 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.422437 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.423512 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:57.424466 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.425196 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.430334 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:57.431174 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.431900 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.432926 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:57.433812 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.434454 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.435385 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:57.436283 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.436927 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.437837 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.438482 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.439472 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:57.440290 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.440925 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.441913 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:57.442757 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.443398 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.444358 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:57.445151 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.449874 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.450936 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:57.451830 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.452532 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.454036 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.455531 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:57.456449 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.457729 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.458605 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T23:15:57.459362 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.460017 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.460816 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T23:15:57.461518 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.462129 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.462891 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T23:15:57.463607 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.464197 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.464941 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-01T23:15:57.465667 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.466266 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.467040 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-01T23:15:57.467882 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.468616 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.478754 #15070] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-01T23:15:57.479724 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.480390 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.481249 #15070] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T23:15:57.486113 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.486763 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.487598 #15070] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T23:15:57.488364 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.488954 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.489725 #15070] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T23:15:57.490462 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.491121 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.491897 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T23:15:57.492615 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.493226 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.493978 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-01T23:15:57.494684 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.495251 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.496012 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-01T23:15:57.496716 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.497317 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.502264 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-01T23:15:57.503039 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.503671 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.504427 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-01T23:15:57.505106 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.505710 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.506435 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-01T23:15:57.507111 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.507706 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.508446 #15070] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-01T23:15:57.509155 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:57.513301 #15070]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 23:15:57 +0000
I, [2020-04-01T23:15:57.515610 #15070]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T23:15:57.522240 #15070]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-01T23:15:57.523849 #15070] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:57.525075 #15070] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NOT NULL) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-01T23:15:57.526019 #15070]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (3.4ms)
I, [2020-04-01T23:15:57.527317 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:15:57.527872 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-01T23:15:57.528470 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:57.529069 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:57.530071 #15070]  INFO -- : Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 0.3ms)
D, [2020-04-01T23:15:57.553144 #15070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:57.556042 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:57.556493 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:57.556936 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:57.562866 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.564884 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "137846839"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.567144 #15070] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "137846839"], ["date_of_birth", "2001-04-01"], ["phone", "4471223262"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:57.569129 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.575142 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.577056 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.579272 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "4833155279"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:57.581269 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.587759 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.589803 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "210493580"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.591866 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "210493580"], ["date_of_birth", "2004-04-01"], ["phone", "0755460297"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:57.597368 #15070] DEBUG -- :   [1m[35m (3.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.599428 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.601411 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "180893030"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.603377 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "180893030"], ["date_of_birth", "1994-04-01"], ["phone", "8913502800"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:57.605435 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.611487 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.613449 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.615321 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:57.617353 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.623326 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.625207 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.627084 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "0322990461"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:57.628966 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.634718 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.636526 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "210957645"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.638304 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "210957645"], ["date_of_birth", "2001-04-01"], ["phone", "4914498551"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:57.639728 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.640732 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.642305 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.643563 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2456433563"], ["active", 1]]
D, [2020-04-01T23:15:57.644777 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.649810 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.650994 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.652387 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:57.654655 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.656251 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.662009 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.664117 #15070] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0330259062"], ["active", 0]]
D, [2020-04-01T23:15:57.666569 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.669002 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.675427 #15070] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.677366 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.679195 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.685686 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.687684 #15070] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:57.689497 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.691622 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.697674 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.699703 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.701529 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.704010 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.709285 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:57.711079 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.713064 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.715072 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.716856 #15070] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.718813 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.720897 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.726539 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:57.727863 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.729692 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.731427 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.733042 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.734445 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.736296 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.741796 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:57.743163 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.744731 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.746314 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.747695 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.749067 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.750850 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.752217 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:57.753391 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.759365 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.760879 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.762301 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.763600 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.765280 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.766477 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:57.767593 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.768433 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.769727 #15070] DEBUG -- :   [1m[36mAssignment Update (0.2ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:57.770750 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.771583 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.772682 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:57.777705 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.778523 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.779839 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:57.780798 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.781523 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.782419 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.783127 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.784291 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:57.785218 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.785962 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.787066 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:57.787948 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.788689 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.789802 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:57.790726 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.791427 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.792533 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:57.793369 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.798240 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.800037 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.801441 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:57.802434 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:57.804050 #15070]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 23:15:57 +0000
I, [2020-04-01T23:15:57.804920 #15070]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T23:15:57.806178 #15070]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-01T23:15:57.807001 #15070] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:57.808546 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.810407 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.812160 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.813543 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.815031 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.816420 #15070] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.818798 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.820162 #15070] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.821783 #15070] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NOT NULL) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:57.823094 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.824485 #15070] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.830153 #15070] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.831841 #15070] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T23:15:57.833020 #15070]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (26.5ms)
I, [2020-04-01T23:15:57.834226 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:15:57.834740 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:57.835387 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:57.835987 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:57.836886 #15070]  INFO -- : Completed 200 OK in 32ms (Views: 29.7ms | ActiveRecord: 0.8ms)
D, [2020-04-01T23:15:57.878352 #15070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:57.881381 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:57.881856 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:57.882300 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:57.884135 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.885606 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "178117756"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.887046 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "178117756"], ["date_of_birth", "2001-04-01"], ["phone", "4083525740"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:57.888240 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.889323 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.894713 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.895984 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "5609574323"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:57.897276 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.898680 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.899877 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "276596755"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.901066 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "276596755"], ["date_of_birth", "2004-04-01"], ["phone", "1248112483"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:57.902289 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.903441 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.904569 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "286689370"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.906664 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "286689370"], ["date_of_birth", "1994-04-01"], ["phone", "1277085173"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:57.907951 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.909085 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.910280 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.911426 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:57.912521 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.913833 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.914963 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.916340 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "3524888697"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:57.917613 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.918726 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.919898 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "114962519"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.921045 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "114962519"], ["date_of_birth", "2001-04-01"], ["phone", "9224755485"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:57.922353 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.923290 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.924395 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.925595 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1388128152"], ["active", 1]]
D, [2020-04-01T23:15:57.926917 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.927923 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.929005 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.930174 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:57.931317 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.932235 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.933236 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.938535 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8696240992"], ["active", 0]]
D, [2020-04-01T23:15:57.939897 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.941181 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.942522 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.943698 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.944788 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.946244 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.947370 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:57.948411 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.949571 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.950657 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.951791 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.952885 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.958391 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.959543 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:57.960444 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.961783 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.963001 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.964126 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.965208 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.966542 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.967631 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:57.968592 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.969847 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.970961 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.972083 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.973126 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.974545 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.975608 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:57.976590 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.981867 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.983142 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.984319 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.985400 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.986760 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.987934 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:57.988900 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.990127 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:57.991177 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.992274 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:57.993315 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.994714 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:57.996033 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:57.997405 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.003327 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.004568 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:58.005468 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.006143 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.007143 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:58.008017 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.008696 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.009700 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:58.010565 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.011191 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.012027 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.012718 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.013747 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:58.014557 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.015263 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.016261 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:58.017167 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.020292 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.021372 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:58.022350 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.023024 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.024078 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:58.024976 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.025762 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.027277 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.028689 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:58.029605 #15070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:58.031257 #15070]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 23:15:58 +0000
I, [2020-04-01T23:15:58.032173 #15070]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T23:15:58.033379 #15070]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-01T23:15:58.034174 #15070] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:58.035693 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.037253 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.043028 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.044499 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.046065 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.047476 #15070] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.049045 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.050435 #15070] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.052095 #15070] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NOT NULL) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:58.053441 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.058963 #15070] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.060602 #15070] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.061929 #15070] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T23:15:58.063169 #15070]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (29.4ms)
I, [2020-04-01T23:15:58.064419 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:15:58.064983 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:58.065575 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:58.066283 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:58.067221 #15070]  INFO -- : Completed 200 OK in 35ms (Views: 32.8ms | ActiveRecord: 0.8ms)
I, [2020-04-01T23:15:58.086432 #15070]  INFO -- : Started GET "/employees/5" for 127.0.0.1 at 2020-04-01 23:15:58 +0000
I, [2020-04-01T23:15:58.087424 #15070]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T23:15:58.087815 #15070]  INFO -- :   Parameters: {"id"=>"5"}
D, [2020-04-01T23:15:58.088790 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
I, [2020-04-01T23:15:58.091313 #15070]  INFO -- : Completed 500  in 3ms (ActiveRecord: 0.1ms)
F, [2020-04-01T23:15:58.113843 #15070] FATAL -- : 
NoMethodError - undefined method `current_assignment' for #<Class:0x000055bbceaf4ee0>:
  app/controllers/employees_controller.rb:34:in `show'

D, [2020-04-01T23:15:58.131517 #15070] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T23:15:58.138570 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:58.139146 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-01T23:15:58.139621 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-01T23:15:58.141638 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.143219 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "326253619"], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.144789 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "326253619"], ["date_of_birth", "2001-04-01"], ["phone", "5518753922"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:58.146144 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.147406 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.148756 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.150162 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-01"], ["phone", "5919085822"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:58.151604 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.152926 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.158540 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "014528477"], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.159936 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "014528477"], ["date_of_birth", "2004-04-01"], ["phone", "1176429505"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T23:15:58.161155 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.162433 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.163744 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "345173650"], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.165123 #15070] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "345173650"], ["date_of_birth", "1994-04-01"], ["phone", "0460882164"], ["role", "employee"], ["active", 0]]
D, [2020-04-01T23:15:58.166665 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.168040 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.169328 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.170616 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-01"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:58.172084 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.173462 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.174757 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.176015 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-01"], ["phone", "1104587326"], ["role", "manager"], ["active", 1]]
D, [2020-04-01T23:15:58.177293 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.182812 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.184302 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "224939233"], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.185706 #15070] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "224939233"], ["date_of_birth", "2001-04-01"], ["phone", "7363339201"], ["role", "admin"], ["active", 1]]
D, [2020-04-01T23:15:58.187007 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.188059 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.189301 #15070] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.190596 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8844549690"], ["active", 1]]
D, [2020-04-01T23:15:58.191830 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.192865 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.198249 #15070] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.199571 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-01T23:15:58.200811 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.201914 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.203128 #15070] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.204305 #15070] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9796339608"], ["active", 0]]
D, [2020-04-01T23:15:58.205518 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.206913 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.208241 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:58.209469 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:58.214675 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.216174 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.217377 #15070] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"], ["end_date", "2020-03-01"]]
D, [2020-04-01T23:15:58.218507 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.219759 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.220928 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:58.222006 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:58.223195 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.224633 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.225747 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:58.226644 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.227826 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.228915 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:58.234079 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:58.235165 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.236582 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.237682 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-01"]]
D, [2020-04-01T23:15:58.238637 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.239986 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.241143 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:58.242245 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:58.243320 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.244744 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.245829 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-01"], ["end_date", "2019-10-01"]]
D, [2020-04-01T23:15:58.246812 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.248001 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.249101 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:58.252605 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:58.253703 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.255017 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.256115 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-01"]]
D, [2020-04-01T23:15:58.257114 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.258360 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.259479 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:58.260514 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T23:15:58.261579 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.262927 #15070] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.264019 #15070] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-01"]]
D, [2020-04-01T23:15:58.264981 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.269821 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.271047 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-02-14"], ["id", 4]]
D, [2020-04-01T23:15:58.271945 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.272560 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.273551 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2019-08-17"], ["id", 4]]
D, [2020-04-01T23:15:58.274410 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.275011 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.276093 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-08-17"], ["id", 5]]
D, [2020-04-01T23:15:58.276940 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.277591 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.278354 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.279022 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.279998 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-03-14"], ["id", 1]]
D, [2020-04-01T23:15:58.280822 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.281423 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.282430 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-05-21"], ["id", 2]]
D, [2020-04-01T23:15:58.283247 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.283909 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.284876 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2018-11-17"], ["id", 3]]
D, [2020-04-01T23:15:58.289730 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.290456 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.291502 #15070] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "start_date" = ? WHERE "assignments"."id" = ?[0m  [["start_date", "2019-04-30"], ["id", 6]]
D, [2020-04-01T23:15:58.292297 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.292980 #15070] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T23:15:58.294473 #15070] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "091361492"], ["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.295687 #15070] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["date_of_birth", "2001-02-15"], ["id", 5]]
D, [2020-04-01T23:15:58.296556 #15070] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T23:15:58.298115 #15070]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 23:15:58 +0000
I, [2020-04-01T23:15:58.299034 #15070]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T23:15:58.300193 #15070]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-01T23:15:58.300924 #15070] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:58.306495 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.308009 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.309516 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.311051 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.312512 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.313814 #15070] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.315271 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.316589 #15070] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.318158 #15070] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NOT NULL) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-01T23:15:58.319452 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.320746 #15070] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.326297 #15070] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.327644 #15070] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T23:15:58.328823 #15070]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (28.3ms)
I, [2020-04-01T23:15:58.330064 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:15:58.330587 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:58.331133 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-01T23:15:58.331742 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-01T23:15:58.332654 #15070]  INFO -- : Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.8ms)
I, [2020-04-01T23:15:58.345972 #15070]  INFO -- : Started GET "/stores/2" for 127.0.0.1 at 2020-04-01 23:15:58 +0000
I, [2020-04-01T23:15:58.346918 #15070]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T23:15:58.347219 #15070]  INFO -- :   Parameters: {"id"=>"2"}
D, [2020-04-01T23:15:58.348145 #15070] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.349892 #15070] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (store_id = 2) AND (role = 'manager')[0m
D, [2020-04-01T23:15:58.351086 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.352320 #15070] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 2)[0m
D, [2020-04-01T23:15:58.353418 #15070] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-01T23:15:58.358698 #15070] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
I, [2020-04-01T23:15:58.359973 #15070]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T23:15:58.360897 #15070]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.5ms)
I, [2020-04-01T23:15:58.362094 #15070]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-01T23:15:58.362660 #15070]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-01T23:15:58.363222 #15070]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-01T23:15:58.363881 #15070]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-01T23:15:58.364812 #15070]  INFO -- : Completed 200 OK in 17ms (Views: 4.6ms | ActiveRecord: 0.5ms)
D, [2020-04-01T23:15:58.390566 #15070] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
