# Logfile created on 2020-04-07 21:37:36 +0000 by logger.rb/61378
D, [2020-04-07T21:37:36.420507 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-07T21:37:37.062201 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.062594 #32536]  INFO -- : -------------------------------------------
I, [2020-04-07T21:37:37.062640 #32536]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-07T21:37:37.062665 #32536]  INFO -- : -------------------------------------------
I, [2020-04-07T21:37:37.177009 #32536]  INFO -- : Started GET "/home/contact" for 127.0.0.1 at 2020-04-07 21:37:37 +0000
I, [2020-04-07T21:37:37.185512 #32536]  INFO -- : Processing by HomeController#contact as HTML
I, [2020-04-07T21:37:37.198391 #32536]  INFO -- :   Rendering home/contact.html.erb within layouts/application
I, [2020-04-07T21:37:37.202336 #32536]  INFO -- :   Rendered home/contact.html.erb within layouts/application (3.6ms)
I, [2020-04-07T21:37:37.563760 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-07T21:37:37.565829 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.5ms)
I, [2020-04-07T21:37:37.570643 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.6ms)
I, [2020-04-07T21:37:37.572817 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-07T21:37:37.574187 #32536]  INFO -- : Completed 200 OK in 388ms (Views: 377.8ms | ActiveRecord: 0.0ms)
D, [2020-04-07T21:37:37.587019 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.588063 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.588433 #32536]  INFO -- : -----------------------------------------
I, [2020-04-07T21:37:37.588517 #32536]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-07T21:37:37.588626 #32536]  INFO -- : -----------------------------------------
I, [2020-04-07T21:37:37.593657 #32536]  INFO -- : Started GET "/home/about" for 127.0.0.1 at 2020-04-07 21:37:37 +0000
I, [2020-04-07T21:37:37.594894 #32536]  INFO -- : Processing by HomeController#about as HTML
I, [2020-04-07T21:37:37.597037 #32536]  INFO -- :   Rendering home/about.html.erb within layouts/application
I, [2020-04-07T21:37:37.597859 #32536]  INFO -- :   Rendered home/about.html.erb within layouts/application (0.4ms)
I, [2020-04-07T21:37:37.600394 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-07T21:37:37.601058 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:37:37.605893 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:37.606644 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-07T21:37:37.607818 #32536]  INFO -- : Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.0ms)
D, [2020-04-07T21:37:37.611674 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.612494 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.612813 #32536]  INFO -- : -----------------------------------------
I, [2020-04-07T21:37:37.612930 #32536]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-07T21:37:37.612999 #32536]  INFO -- : -----------------------------------------
I, [2020-04-07T21:37:37.613962 #32536]  INFO -- : Started GET "/home" for 127.0.0.1 at 2020-04-07 21:37:37 +0000
I, [2020-04-07T21:37:37.614924 #32536]  INFO -- : Processing by HomeController#index as HTML
I, [2020-04-07T21:37:37.617744 #32536]  INFO -- :   Rendering home/index.html.erb within layouts/application
I, [2020-04-07T21:37:37.618549 #32536]  INFO -- :   Rendered home/index.html.erb within layouts/application (0.4ms)
I, [2020-04-07T21:37:37.620999 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:37:37.622874 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:37:37.623604 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:37.624314 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:37:37.625339 #32536]  INFO -- : Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.0ms)
D, [2020-04-07T21:37:37.628707 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.629483 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.629841 #32536]  INFO -- : -------------------------------------------
I, [2020-04-07T21:37:37.629942 #32536]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-07T21:37:37.630020 #32536]  INFO -- : -------------------------------------------
I, [2020-04-07T21:37:37.630915 #32536]  INFO -- : Started GET "/home/privacy" for 127.0.0.1 at 2020-04-07 21:37:37 +0000
I, [2020-04-07T21:37:37.631991 #32536]  INFO -- : Processing by HomeController#privacy as HTML
I, [2020-04-07T21:37:37.638428 #32536]  INFO -- :   Rendering home/privacy.html.erb within layouts/application
I, [2020-04-07T21:37:37.639142 #32536]  INFO -- :   Rendered home/privacy.html.erb within layouts/application (0.3ms)
I, [2020-04-07T21:37:37.643450 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.7ms)
I, [2020-04-07T21:37:37.644799 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:37:37.646528 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:37.648390 #32536]  INFO -- :   Rendered partials/_footer.html.erb (1.4ms)
I, [2020-04-07T21:37:37.656892 #32536]  INFO -- : Completed 200 OK in 23ms (Views: 10.8ms | ActiveRecord: 0.0ms)
D, [2020-04-07T21:37:37.669137 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.675627 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.675981 #32536]  INFO -- : ------------------------------------------------------
I, [2020-04-07T21:37:37.676061 #32536]  INFO -- : StoreTest: test_: Store should have many assignments. 
I, [2020-04-07T21:37:37.676126 #32536]  INFO -- : ------------------------------------------------------
D, [2020-04-07T21:37:37.727803 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.728829 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.729452 #32536]  INFO -- : --------------------------------------------------------------------
I, [2020-04-07T21:37:37.729531 #32536]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-04-07T21:37:37.729597 #32536]  INFO -- : --------------------------------------------------------------------
D, [2020-04-07T21:37:37.741926 #32536] DEBUG -- :   [1m[36mStore Exists (4.6ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.743232 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.744745 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.745071 #32536]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:37:37.746371 #32536]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-04-07T21:37:37.746453 #32536]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:37:37.753004 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.755986 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.756691 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.758084 #32536]  INFO -- : --------------------------------------------------------------
I, [2020-04-07T21:37:37.758189 #32536]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"NY"â€º. 
I, [2020-04-07T21:37:37.758265 #32536]  INFO -- : --------------------------------------------------------------
D, [2020-04-07T21:37:37.766483 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.768545 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.775482 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.775802 #32536]  INFO -- : ----------------------------------------------------------------
I, [2020-04-07T21:37:37.775877 #32536]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"152134"â€º. 
I, [2020-04-07T21:37:37.779591 #32536]  INFO -- : ----------------------------------------------------------------
D, [2020-04-07T21:37:37.784826 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.789192 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.791029 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.792003 #32536]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:37:37.792079 #32536]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-04-07T21:37:37.792140 #32536]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:37:37.796750 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.797893 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.799473 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.800197 #32536]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:37:37.800282 #32536]  INFO -- : StoreTest: test_: Store should validate that :city cannot be empty/falsy. 
I, [2020-04-07T21:37:37.800346 #32536]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:37:37.806977 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.808328 #32536] DEBUG -- :   [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.818893 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.819209 #32536]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:37:37.819292 #32536]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-04-07T21:37:37.819349 #32536]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:37:37.822088 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.822718 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.826384 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.826675 #32536]  INFO -- : ------------------------------------------------------------------
I, [2020-04-07T21:37:37.826760 #32536]  INFO -- : StoreTest: test_: Given context should have a make_active method. 
I, [2020-04-07T21:37:37.826822 #32536]  INFO -- : ------------------------------------------------------------------
D, [2020-04-07T21:37:37.827964 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.829183 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:37.830688 #32536] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5730456118"], ["active", 1]]
D, [2020-04-07T21:37:37.831868 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.832765 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.837813 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:37.839057 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:37.840237 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.841204 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.842368 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:37.843490 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0668045566"], ["active", 0]]
D, [2020-04-07T21:37:37.844667 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.845288 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.846470 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "Hazelwood"], ["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:37.847758 #32536] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", 1], ["id", 3]]
D, [2020-04-07T21:37:37.848601 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.849594 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:37.854583 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.855455 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:37.856200 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.856799 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.857528 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:37.858243 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.858826 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.859523 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:37.860203 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.860876 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.862053 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.862341 #32536]  INFO -- : --------------------------------------------------------------------
I, [2020-04-07T21:37:37.862414 #32536]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-04-07T21:37:37.862474 #32536]  INFO -- : --------------------------------------------------------------------
D, [2020-04-07T21:37:37.865095 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.865731 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.870422 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.870734 #32536]  INFO -- : ----------------------------------------------------------
I, [2020-04-07T21:37:37.870806 #32536]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"PA"â€º. 
I, [2020-04-07T21:37:37.870867 #32536]  INFO -- : ----------------------------------------------------------
D, [2020-04-07T21:37:37.873423 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.874132 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.875147 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.875424 #32536]  INFO -- : -------------------------------------------------------------
I, [2020-04-07T21:37:37.875504 #32536]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹nilâ€º. 
I, [2020-04-07T21:37:37.875565 #32536]  INFO -- : -------------------------------------------------------------
D, [2020-04-07T21:37:37.878108 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.878724 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.879719 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.880001 #32536]  INFO -- : --------------------------------------------------------------------
I, [2020-04-07T21:37:37.880071 #32536]  INFO -- : StoreTest: test_: Given context should have a make_inactive method. 
I, [2020-04-07T21:37:37.880130 #32536]  INFO -- : --------------------------------------------------------------------
D, [2020-04-07T21:37:37.880863 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.882007 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:37.883323 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3177096383"], ["active", 1]]
D, [2020-04-07T21:37:37.884499 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.885393 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.886406 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:37.887540 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:37.888662 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.889532 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.893502 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:37.894693 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2543966798"], ["active", 0]]
D, [2020-04-07T21:37:37.895858 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.896471 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.897540 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "CMU"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:37.898707 #32536] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", 0], ["id", 1]]
D, [2020-04-07T21:37:37.899501 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.900368 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:37.901231 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.901969 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:37.902646 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.903229 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.903918 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:37.904582 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.905129 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.909913 #32536] DEBUG -- :   [1m[36mStore Destroy (4.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:37.910609 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.911278 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.912426 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.912698 #32536]  INFO -- : -----------------------------------------------------------
I, [2020-04-07T21:37:37.912769 #32536]  INFO -- : StoreTest: test_: Store should allow :zip to be â€¹"15213"â€º. 
I, [2020-04-07T21:37:37.912848 #32536]  INFO -- : -----------------------------------------------------------
D, [2020-04-07T21:37:37.915509 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.916109 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.922454 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.922763 #32536]  INFO -- : ----------------------------------------------------------
I, [2020-04-07T21:37:37.922865 #32536]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"WV"â€º. 
I, [2020-04-07T21:37:37.922925 #32536]  INFO -- : ----------------------------------------------------------
D, [2020-04-07T21:37:37.925542 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.926193 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.927229 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.927535 #32536]  INFO -- : -------------------------------------------------------------
I, [2020-04-07T21:37:37.927608 #32536]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"bad"â€º. 
I, [2020-04-07T21:37:37.927666 #32536]  INFO -- : -------------------------------------------------------------
D, [2020-04-07T21:37:37.930188 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.930818 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.931801 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.932049 #32536]  INFO -- : -------------------------------------------------------------------
I, [2020-04-07T21:37:37.932134 #32536]  INFO -- : StoreTest: test_: Given context should list stores alphabetically. 
I, [2020-04-07T21:37:37.932198 #32536]  INFO -- : -------------------------------------------------------------------
D, [2020-04-07T21:37:37.932910 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.933997 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:37.935318 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6982740399"], ["active", 1]]
D, [2020-04-07T21:37:37.936504 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.937406 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.938656 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:37.939829 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:37.940990 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.941950 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.942977 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:37.944114 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6130613510"], ["active", 0]]
D, [2020-04-07T21:37:37.945320 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.950315 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" ORDER BY name[0m
D, [2020-04-07T21:37:37.951112 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.951944 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:37.952645 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.953211 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.953985 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:37.954668 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.955244 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.955977 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:37.956663 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:37.957328 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.962564 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.962845 #32536]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:37:37.962918 #32536]  INFO -- : StoreTest: test_: Store should have many employees through assignments. 
I, [2020-04-07T21:37:37.962978 #32536]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:37:37.967872 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.969900 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.970205 #32536]  INFO -- : ----------------------------------------------------------
I, [2020-04-07T21:37:37.970285 #32536]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"OH"â€º. 
I, [2020-04-07T21:37:37.970348 #32536]  INFO -- : ----------------------------------------------------------
D, [2020-04-07T21:37:37.973191 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.973874 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.977890 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.978192 #32536]  INFO -- : --------------------------------------------------------------
I, [2020-04-07T21:37:37.978275 #32536]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"CA"â€º. 
I, [2020-04-07T21:37:37.978340 #32536]  INFO -- : --------------------------------------------------------------
D, [2020-04-07T21:37:37.981132 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.981803 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.982759 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.983018 #32536]  INFO -- : -------------------------------------------------------------------
I, [2020-04-07T21:37:37.983090 #32536]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-04-07T21:37:37.983151 #32536]  INFO -- : -------------------------------------------------------------------
D, [2020-04-07T21:37:37.985710 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:37.986328 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:37.987755 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:37.997964 #32536]  INFO -- : -------------------------------------------------------------
I, [2020-04-07T21:37:37.998065 #32536]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹nilâ€º. 
I, [2020-04-07T21:37:37.998127 #32536]  INFO -- : -------------------------------------------------------------
D, [2020-04-07T21:37:38.001172 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.007111 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.008277 #32536] DEBUG -- :   [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.008549 #32536]  INFO -- : ---------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:38.008621 #32536]  INFO -- : StoreTest: test_: Given context should shows that Oakland's phone is stripped of non-digits. 
I, [2020-04-07T21:37:38.008688 #32536]  INFO -- : ---------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:38.009490 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.019026 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.020436 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3442766438"], ["active", 1]]
D, [2020-04-07T21:37:38.035920 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.037304 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.038591 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.039877 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:38.041046 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.046203 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.047413 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.048620 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3952272015"], ["active", 0]]
D, [2020-04-07T21:37:38.049872 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.050504 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.051264 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:38.052006 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.052571 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.053243 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:38.053920 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.054519 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.055251 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:38.055913 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.056559 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.062586 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.062883 #32536]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-07T21:37:38.062955 #32536]  INFO -- : StoreTest: test_: Given context should have all inactive stores accounted for. 
I, [2020-04-07T21:37:38.063016 #32536]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-07T21:37:38.063779 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.065034 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.066380 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0811919764"], ["active", 1]]
D, [2020-04-07T21:37:38.067568 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.068563 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.073658 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.074907 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:38.076113 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.077127 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.078250 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.079391 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0197393006"], ["active", 0]]
D, [2020-04-07T21:37:38.080552 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.081546 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-04-07T21:37:38.086515 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-04-07T21:37:38.087488 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-04-07T21:37:38.088203 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.088999 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:38.089714 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.090292 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.090985 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:38.091704 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.092289 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.092987 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:38.096679 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.097328 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.098557 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.098874 #32536]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-04-07T21:37:38.098948 #32536]  INFO -- : StoreTest: test_: Store should validate that :name is case-insensitively unique. 
I, [2020-04-07T21:37:38.099004 #32536]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-04-07T21:37:38.099728 #32536] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.108337 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.109361 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("phone") VALUES (?)[0m  [["phone", ""]]
D, [2020-04-07T21:37:38.110039 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.110589 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.111410 #32536] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ? WHERE "stores"."id" = ?[0m  [["name", "an arbitrary value"], ["id", 1]]
D, [2020-04-07T21:37:38.112097 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.119777 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.123178 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "AN ARBITRARY VALUE"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.124465 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.130142 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.130444 #32536]  INFO -- : --------------------------------------------------------------------
I, [2020-04-07T21:37:38.130515 #32536]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"15213-0983"â€º. 
I, [2020-04-07T21:37:38.130597 #32536]  INFO -- : --------------------------------------------------------------------
D, [2020-04-07T21:37:38.133415 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.134059 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.134709 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.134963 #32536]  INFO -- : --------------------------------------------------------------
I, [2020-04-07T21:37:38.135063 #32536]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"1512"â€º. 
I, [2020-04-07T21:37:38.135134 #32536]  INFO -- : --------------------------------------------------------------
D, [2020-04-07T21:37:38.137573 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.138204 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.138837 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.139094 #32536]  INFO -- : -----------------------------------------------------------------------
I, [2020-04-07T21:37:38.139170 #32536]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-04-07T21:37:38.139240 #32536]  INFO -- : -----------------------------------------------------------------------
D, [2020-04-07T21:37:38.141781 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.142393 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.142955 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.143259 #32536]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:37:38.143329 #32536]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-04-07T21:37:38.143388 #32536]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:37:38.149816 #32536] DEBUG -- :   [1m[36mStore Exists (4.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.150464 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.151101 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.151381 #32536]  INFO -- : ------------------------------------------------------------
I, [2020-04-07T21:37:38.151451 #32536]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹10â€º. 
I, [2020-04-07T21:37:38.151529 #32536]  INFO -- : ------------------------------------------------------------
D, [2020-04-07T21:37:38.154228 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.154845 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.155459 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.155720 #32536]  INFO -- : -----------------------------------------------------------------------------
I, [2020-04-07T21:37:38.155789 #32536]  INFO -- : StoreTest: test_: Given context should have all active stores accounted for. 
I, [2020-04-07T21:37:38.155860 #32536]  INFO -- : -----------------------------------------------------------------------------
D, [2020-04-07T21:37:38.156575 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.157673 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.159005 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4816054508"], ["active", 1]]
D, [2020-04-07T21:37:38.160201 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.161113 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.162140 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.163318 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:38.164541 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.165446 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.166531 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.167672 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6011463742"], ["active", 0]]
D, [2020-04-07T21:37:38.168890 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.173833 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:38.174770 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:38.175762 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:38.176547 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.177333 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:38.178101 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.178683 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.179400 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:38.180133 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.180719 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.181429 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:38.182170 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.182800 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.185985 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.186276 #32536]  INFO -- : ---------------------------------------------------------------
I, [2020-04-07T21:37:38.186393 #32536]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"bad"â€º. 
I, [2020-04-07T21:37:38.186457 #32536]  INFO -- : ---------------------------------------------------------------
D, [2020-04-07T21:37:38.189244 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.189910 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.190542 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.190800 #32536]  INFO -- : -------------------------------------------------------------------
I, [2020-04-07T21:37:38.190876 #32536]  INFO -- : StoreTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-04-07T21:37:38.190964 #32536]  INFO -- : -------------------------------------------------------------------
D, [2020-04-07T21:37:38.191680 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.192721 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.194915 #32536] DEBUG -- :   [1m[36mStore Create (1.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5741713961"], ["active", 1]]
D, [2020-04-07T21:37:38.196122 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.197025 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.198101 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.199257 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:38.200435 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.201353 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.202379 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.203509 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8335726998"], ["active", 0]]
D, [2020-04-07T21:37:38.204657 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.205277 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.210078 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:38.210840 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.211407 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.212136 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:38.212823 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.213404 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.214160 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:38.214866 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.215524 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.218033 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.218330 #32536]  INFO -- : ------------------------------------------------------------------
I, [2020-04-07T21:37:38.218408 #32536]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-04-07T21:37:38.218470 #32536]  INFO -- : ------------------------------------------------------------------
D, [2020-04-07T21:37:38.221097 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.221771 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.225958 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.226243 #32536]  INFO -- : ----------------------------------------------------------------------
I, [2020-04-07T21:37:38.226323 #32536]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-04-07T21:37:38.226396 #32536]  INFO -- : ----------------------------------------------------------------------
D, [2020-04-07T21:37:38.228895 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.229543 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.230176 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.230455 #32536]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:37:38.230526 #32536]  INFO -- : StoreTest: test_: Store should validate that :name cannot be empty/falsy. 
I, [2020-04-07T21:37:38.230623 #32536]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:37:38.233568 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.234315 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.234937 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.235212 #32536]  INFO -- : ----------------------------------------------------------------------------
I, [2020-04-07T21:37:38.235346 #32536]  INFO -- : StoreTest: test_: Store should validate that :street cannot be empty/falsy. 
I, [2020-04-07T21:37:38.235408 #32536]  INFO -- : ----------------------------------------------------------------------------
D, [2020-04-07T21:37:38.238333 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.238937 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.242510 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.242801 #32536]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:37:38.242873 #32536]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-04-07T21:37:38.242933 #32536]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:37:38.257880 #32536] DEBUG -- :   [1m[36mEmployee Exists (3.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.259012 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.259710 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.260022 #32536]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:37:38.260090 #32536]  INFO -- : EmployeeTest: test_: Given context should shows name as last, first name. 
I, [2020-04-07T21:37:38.260149 #32536]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:37:38.261380 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.262847 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "223621012"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.264316 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "223621012"], ["date_of_birth", "2001-04-07"], ["phone", "0769966105"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.265516 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.266713 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.278681 #32536] DEBUG -- :   [1m[36mEmployee Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.279947 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "5287260643"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.281116 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.282331 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.283529 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "129428156"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.284673 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "129428156"], ["date_of_birth", "2004-04-07"], ["phone", "6004437464"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.287182 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.288366 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.289564 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "251306111"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.290784 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "251306111"], ["date_of_birth", "1994-04-07"], ["phone", "6079929839"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:38.291949 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.293075 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.298369 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.299613 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.300832 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.302129 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.303330 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.304500 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "8370970910"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.305707 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.306809 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.307983 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "045648381"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.309158 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "045648381"], ["date_of_birth", "2001-04-07"], ["phone", "5273324046"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:38.314442 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.315088 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.315920 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:38.316656 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.317264 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.317962 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:38.318629 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.319187 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.330793 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:38.331691 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.332303 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.333096 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:38.333847 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.334415 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.335130 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:38.335816 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.336341 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.337052 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:38.337740 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.338325 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.338997 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:38.339678 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.340336 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.346033 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.346407 #32536]  INFO -- : ----------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:38.346479 #32536]  INFO -- : EmployeeTest: test_: Given context should shows that there are 4 regular employees: Ed, Cindy, Chuck and Ralph. 
I, [2020-04-07T21:37:38.346539 #32536]  INFO -- : ----------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:38.347486 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.348986 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "156528606"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.350368 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "156528606"], ["date_of_birth", "2001-04-07"], ["phone", "1119108440"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.351564 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.352701 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.353915 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.355063 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "1948127607"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.356299 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.357346 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.358561 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "042141430"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.359778 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "042141430"], ["date_of_birth", "2004-04-07"], ["phone", "6825667277"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.360974 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.365202 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.366555 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "350470658"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.367822 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "350470658"], ["date_of_birth", "1994-04-07"], ["phone", "5679848951"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:38.369021 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.370287 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.371445 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.372616 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.373842 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.374936 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.376079 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.377276 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "0556654157"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.378462 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.379525 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.380652 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "191606863"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.385877 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "191606863"], ["date_of_birth", "2001-04-07"], ["phone", "9825733837"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:38.387158 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.388243 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'employee')[0m
D, [2020-04-07T21:37:38.389050 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'employee')[0m
D, [2020-04-07T21:37:38.389866 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.390675 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:38.391373 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.391946 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.392630 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:38.393305 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.393890 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.394617 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:38.395335 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.395852 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.396570 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:38.397273 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.401907 #32536] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.402660 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:38.403356 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.403933 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.404661 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:38.405309 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.405894 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.406628 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:38.407324 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.407938 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.408674 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.408940 #32536]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:38.409010 #32536]  INFO -- : EmployeeTest: test_: Given context should shows that age method returns the correct value. 
I, [2020-04-07T21:37:38.409070 #32536]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:38.414003 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.415437 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "206566665"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.416790 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "206566665"], ["date_of_birth", "2001-04-07"], ["phone", "5495529146"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.417976 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.419185 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.420333 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.421501 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "5368330309"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.422709 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.423733 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.424888 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "324944608"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.426052 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "324944608"], ["date_of_birth", "2004-04-07"], ["phone", "8255083487"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.427274 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.428319 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.429427 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "143391654"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.434742 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "143391654"], ["date_of_birth", "1994-04-07"], ["phone", "3779188641"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:38.435959 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.437150 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.438423 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.439621 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.440787 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.441918 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.443066 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.444185 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "3446651361"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.445348 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.446446 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.447571 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "281169451"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.448716 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "281169451"], ["date_of_birth", "2001-04-07"], ["phone", "9914068131"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:38.453767 #32536] DEBUG -- :   [1m[35m (3.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.454591 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.455392 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:38.456092 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.456633 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.457346 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:38.458037 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.458628 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.459300 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:38.459990 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.460552 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.461267 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:38.461972 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.462504 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.463222 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:38.463899 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.464430 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.465142 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:38.465842 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.466442 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.467102 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:38.467784 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.468424 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.469073 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.469384 #32536]  INFO -- : -----------------------------------------------------------------------
I, [2020-04-07T21:37:38.469458 #32536]  INFO -- : EmployeeTest: test_: Given context should have a make_inactive method. 
I, [2020-04-07T21:37:38.469517 #32536]  INFO -- : -----------------------------------------------------------------------
D, [2020-04-07T21:37:38.470474 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.471795 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "188242230"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.473145 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "188242230"], ["date_of_birth", "2001-04-07"], ["phone", "2840542884"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.478440 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.479731 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.481000 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.482238 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "2735825833"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.483408 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.484485 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.485593 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "277944776"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.486729 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "277944776"], ["date_of_birth", "2004-04-07"], ["phone", "5356471657"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.487891 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.488980 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.494172 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "014359933"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.495349 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "014359933"], ["date_of_birth", "1994-04-07"], ["phone", "7105078072"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:38.496521 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.497683 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.498824 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.500003 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.501166 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.502241 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.503351 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.504522 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "1185256816"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.509707 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.510860 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.512089 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "216551239"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.513311 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "216551239"], ["date_of_birth", "2001-04-07"], ["phone", "4952578548"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:38.514462 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.515085 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.516306 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "277944776"], ["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.517547 #32536] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "active" = ? WHERE "employees"."id" = ?[0m  [["active", 0], ["id", 3]]
D, [2020-04-07T21:37:38.522412 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.523409 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.524320 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.525021 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:38.525775 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.526359 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.527081 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:38.527708 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.528267 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.528976 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:38.533226 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.533796 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.534525 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:38.535198 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.535786 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.536468 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:38.537126 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.537716 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.538440 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:38.539121 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.539646 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.540359 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:38.541028 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.541684 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.545999 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.546277 #32536]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:38.546349 #32536]  INFO -- : EmployeeTest: test_: Given context should shows that Cindy's ssn is stripped of non-digits. 
I, [2020-04-07T21:37:38.546435 #32536]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:38.547405 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.548796 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "353916600"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.550205 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "353916600"], ["date_of_birth", "2001-04-07"], ["phone", "5635961709"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.551457 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.552568 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.557770 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.559054 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "9274291163"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.560269 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.561441 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.562700 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "220192473"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.563882 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "220192473"], ["date_of_birth", "2004-04-07"], ["phone", "5607574126"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.565039 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.570186 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.571485 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "292911751"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.572725 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "292911751"], ["date_of_birth", "1994-04-07"], ["phone", "8714775141"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:38.573921 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.575138 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.576306 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.577440 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.578586 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.579723 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.580878 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.586083 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "4764689862"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.587309 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.588499 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.589737 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "168573795"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.590919 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "168573795"], ["date_of_birth", "2001-04-07"], ["phone", "6228877637"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:38.592155 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.592739 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.593482 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:38.598270 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.598886 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.599602 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:38.600298 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.600887 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.601841 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:38.602483 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.603058 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.603763 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:38.604472 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.605009 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.605755 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:38.606450 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.607032 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.607744 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:38.608415 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.609022 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.613795 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:38.614531 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.615149 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.615858 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.616140 #32536]  INFO -- : --------------------------------------------------------------------
I, [2020-04-07T21:37:38.616232 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"bad"â€º. 
I, [2020-04-07T21:37:38.616296 #32536]  INFO -- : --------------------------------------------------------------------
D, [2020-04-07T21:37:38.623489 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.624450 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.625146 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.625424 #32536]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:37:38.625501 #32536]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-04-07T21:37:38.625573 #32536]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:37:38.628419 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.629338 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.630269 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.630554 #32536]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-07T21:37:38.630626 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-04-07T21:37:38.630736 #32536]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-07T21:37:38.637706 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.638743 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.639428 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.639689 #32536]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:37:38.639762 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"1234567890"â€º. 
I, [2020-04-07T21:37:38.639826 #32536]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:37:38.642858 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "1234567890"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.643919 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.649996 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.650301 #32536]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:38.650374 #32536]  INFO -- : EmployeeTest: test_: Given context should shows that there are 2 managers: Ben and Kathryn. 
I, [2020-04-07T21:37:38.650500 #32536]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:38.651463 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.652901 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "157481291"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.654320 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "157481291"], ["date_of_birth", "2001-04-07"], ["phone", "9523369443"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.655508 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.656615 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.657780 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.658959 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "3537971604"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.660135 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.661208 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.664755 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "149855443"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.666016 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "149855443"], ["date_of_birth", "2004-04-07"], ["phone", "9841405479"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.667212 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.668385 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.669535 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037066006"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.670766 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "037066006"], ["date_of_birth", "1994-04-07"], ["phone", "7105170142"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:38.671934 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.673072 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.682555 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.683918 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.685167 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.686479 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.687699 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.688840 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "1760586311"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.694187 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.695388 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.696656 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "306624673"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.697872 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "306624673"], ["date_of_birth", "2001-04-07"], ["phone", "3053173858"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:38.699080 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.699910 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'manager')[0m
D, [2020-04-07T21:37:38.700693 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'manager')[0m
D, [2020-04-07T21:37:38.701402 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.702171 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:38.702893 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.703439 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.704159 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:38.704849 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.705461 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.710270 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:38.710983 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.711576 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.712314 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:38.712933 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.713534 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.714268 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:38.714965 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.715507 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.716224 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:38.716902 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.717473 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.718246 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:38.718908 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.719568 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.720272 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.720576 #32536]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-07T21:37:38.720651 #32536]  INFO -- : EmployeeTest: test_: Employee should validate that :ssn cannot be empty/falsy. 
I, [2020-04-07T21:37:38.720712 #32536]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-07T21:37:38.728395 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.729391 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.730062 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.730351 #32536]  INFO -- : -----------------------------------------------------------------------
I, [2020-04-07T21:37:38.730448 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"hacker"â€º. 
I, [2020-04-07T21:37:38.730510 #32536]  INFO -- : -----------------------------------------------------------------------
D, [2020-04-07T21:37:38.733206 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.734113 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.734730 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.735037 #32536]  INFO -- : -------------------------------------------------------------------
I, [2020-04-07T21:37:38.735120 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"bad"â€º. 
I, [2020-04-07T21:37:38.735182 #32536]  INFO -- : -------------------------------------------------------------------
D, [2020-04-07T21:37:38.737817 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "bad"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.738809 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.739412 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.739655 #32536]  INFO -- : -----------------------------------------------------------------------------
I, [2020-04-07T21:37:38.739735 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-04-07T21:37:38.739789 #32536]  INFO -- : -----------------------------------------------------------------------------
D, [2020-04-07T21:37:38.742791 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.743691 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.744321 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.744570 #32536]  INFO -- : ------------------------------------------------------------------
I, [2020-04-07T21:37:38.744678 #32536]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"admin"â€º. 
I, [2020-04-07T21:37:38.744735 #32536]  INFO -- : ------------------------------------------------------------------
D, [2020-04-07T21:37:38.747359 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.747960 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.754038 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.754377 #32536]  INFO -- : ------------------------------------------------------------------
I, [2020-04-07T21:37:38.754448 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹nilâ€º. 
I, [2020-04-07T21:37:38.754506 #32536]  INFO -- : ------------------------------------------------------------------
D, [2020-04-07T21:37:38.757791 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.758705 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.759346 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.759621 #32536]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-07T21:37:38.759700 #32536]  INFO -- : EmployeeTest: test_: Employee should have many stores through assignments. 
I, [2020-04-07T21:37:38.759760 #32536]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-07T21:37:38.761287 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.761889 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.762156 #32536]  INFO -- : ----------------------------------------------------------------------
I, [2020-04-07T21:37:38.762260 #32536]  INFO -- : EmployeeTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-04-07T21:37:38.762319 #32536]  INFO -- : ----------------------------------------------------------------------
D, [2020-04-07T21:37:38.763238 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.764532 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "116364645"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.765905 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "116364645"], ["date_of_birth", "2001-04-07"], ["phone", "6455632777"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.767085 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.768249 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.769433 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.774711 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "5306806555"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.775966 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.777163 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.778504 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084501841"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.779651 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "084501841"], ["date_of_birth", "2004-04-07"], ["phone", "6924914704"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.780859 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.781998 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.783186 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "012538635"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.784362 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "012538635"], ["date_of_birth", "1994-04-07"], ["phone", "7366927279"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:38.785600 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.786817 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.788016 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.789314 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.794730 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.795986 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.797318 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.798580 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "2471903060"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.799816 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.800905 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.802093 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "284067241"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.803238 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "284067241"], ["date_of_birth", "2001-04-07"], ["phone", "5172845611"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:38.804495 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.805092 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.809893 #32536] DEBUG -- :   [1m[36mEmployee Destroy (4.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:38.810579 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.811191 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.811902 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:38.812631 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.813239 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.813973 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:38.814709 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.815266 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.816022 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:38.816736 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.817322 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.818100 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:38.818848 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.819467 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.820229 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:38.820988 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.824332 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.825115 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:38.825901 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.826598 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.827328 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.827628 #32536]  INFO -- : ------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:38.827704 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹Sat, 07 Apr 2007 17:37:36 EDT -04:00â€º. 
I, [2020-04-07T21:37:38.827773 #32536]  INFO -- : ------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:38.831668 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.832676 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.833360 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.833715 #32536]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-07T21:37:38.833799 #32536]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"employee"â€º. 
I, [2020-04-07T21:37:38.833868 #32536]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-07T21:37:38.836824 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.837535 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.838211 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.838530 #32536]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-07T21:37:38.838616 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-04-07T21:37:38.838690 #32536]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-07T21:37:38.845922 #32536] DEBUG -- :   [1m[36mEmployee Exists (4.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.847014 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.847741 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.848028 #32536]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-07T21:37:38.848112 #32536]  INFO -- : EmployeeTest: test_: Given context should have a make_active method. 
I, [2020-04-07T21:37:38.848186 #32536]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-07T21:37:38.849211 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.850668 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "323834175"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.852133 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "323834175"], ["date_of_birth", "2001-04-07"], ["phone", "0050038715"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.859037 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.860478 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.861928 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.863238 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "5366540519"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.864521 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.865713 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.866934 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037203294"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.868178 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "037203294"], ["date_of_birth", "2004-04-07"], ["phone", "2930195820"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.869509 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.870777 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.872009 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "137853204"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.873204 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "137853204"], ["date_of_birth", "1994-04-07"], ["phone", "9381055884"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:38.874564 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.875777 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.876987 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.882314 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.883683 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.885048 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.886414 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.887631 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "2977295020"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.888749 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.889827 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.890998 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "021501077"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.892196 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "021501077"], ["date_of_birth", "2001-04-07"], ["phone", "5481584198"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:38.893517 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.894239 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.895588 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "137853204"], ["id", 4], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.896794 #32536] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "active" = ? WHERE "employees"."id" = ?[0m  [["active", 1], ["id", 4]]
D, [2020-04-07T21:37:38.901724 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.902831 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.903861 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.904693 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:38.905485 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.906111 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.906915 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:38.907653 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.908297 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.909088 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:38.909969 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.910631 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.911423 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:38.912167 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.912800 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.913598 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:38.916928 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.917564 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.918398 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:38.919176 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.919786 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.920516 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:38.921307 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.922019 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.922777 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.923079 #32536]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-07T21:37:38.923151 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹nilâ€º. 
I, [2020-04-07T21:37:38.923270 #32536]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-07T21:37:38.926902 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.927836 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.928509 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.928825 #32536]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-07T21:37:38.928911 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-04-07T21:37:38.928975 #32536]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-07T21:37:38.932338 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:38.933341 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:38.938060 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:38.938377 #32536]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-04-07T21:37:38.938465 #32536]  INFO -- : EmployeeTest: test_: Given context should show there are four employees over 18. 
I, [2020-04-07T21:37:38.938532 #32536]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-04-07T21:37:38.939550 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.941073 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "078869652"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.954454 #32536] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "078869652"], ["date_of_birth", "2001-04-07"], ["phone", "5788132899"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.956024 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.957398 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.958859 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.960129 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "9891082692"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.961392 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.962507 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.963676 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "289331889"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.964796 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "289331889"], ["date_of_birth", "2004-04-07"], ["phone", "2199527282"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:38.970112 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.971385 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.972664 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "035865188"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.973908 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "035865188"], ["date_of_birth", "1994-04-07"], ["phone", "8480754593"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:38.975075 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.976232 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.977394 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.978601 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.979865 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.981059 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.986429 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.987729 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "6190644873"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:38.989013 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.990295 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.991530 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "367786516"], ["LIMIT", 1]]
D, [2020-04-07T21:37:38.992679 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "367786516"], ["date_of_birth", "2001-04-07"], ["phone", "3602611161"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:38.993948 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.994988 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth <= '2002-04-07')[0m
D, [2020-04-07T21:37:38.996046 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (date_of_birth <= '2002-04-07') ORDER BY last_name, first_name[0m
D, [2020-04-07T21:37:38.996843 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.997579 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:38.998441 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.999036 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:38.999820 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:39.000536 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.001099 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.002938 #32536] DEBUG -- :   [1m[36mEmployee Destroy (1.2ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:39.003675 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.004228 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.004967 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:39.005681 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.006293 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.007022 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:39.007727 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.008368 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.009077 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:39.011465 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.012055 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.012817 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:39.013474 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.014195 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.016344 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.016647 #32536]  INFO -- : ----------------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.016732 #32536]  INFO -- : EmployeeTest: test_: Given context should shows return employee's current assignment, if it exists. 
I, [2020-04-07T21:37:39.016792 #32536]  INFO -- : ----------------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.017829 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.019206 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "095704956"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.020637 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "095704956"], ["date_of_birth", "2001-04-07"], ["phone", "7811719171"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.025992 #32536] DEBUG -- :   [1m[35m (4.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.027347 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.028692 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.029977 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "1926481609"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.031240 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.032378 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.033564 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "043398871"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.034777 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "043398871"], ["date_of_birth", "2004-04-07"], ["phone", "9836957771"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.036033 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.037171 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.042555 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091134405"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.043814 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "091134405"], ["date_of_birth", "1994-04-07"], ["phone", "9313769577"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:39.045034 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.046292 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.047489 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.048662 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.050005 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.051140 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.052362 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.053552 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "4005874569"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.058914 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.060081 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.061410 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "213639157"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.062680 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "213639157"], ["date_of_birth", "2001-04-07"], ["phone", "7852995841"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:39.063934 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.064872 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.066003 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.067201 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8460076093"], ["active", 1]]
D, [2020-04-07T21:37:39.068515 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.069434 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.070772 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.071923 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:39.073160 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.078148 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.079303 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.080487 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3181946177"], ["active", 0]]
D, [2020-04-07T21:37:39.081708 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.091843 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.093461 #32536] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.094714 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.096133 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.107290 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.108566 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:39.109688 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.111031 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.112294 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.113449 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.114552 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.115967 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.116997 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:39.121977 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.123246 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.124462 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.125607 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.126682 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.128164 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.129239 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:39.130142 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.131459 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.132610 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.137742 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.138938 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.140479 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.141562 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:39.142649 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.143984 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.145120 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.146290 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.147412 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.148805 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.153937 #32536] DEBUG -- :   [1m[36mAssignment Create (4.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:39.154901 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.156182 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.157417 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.158592 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.159702 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.161137 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.162252 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:39.163159 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.164255 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.165315 #32536] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.170846 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 7], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.171673 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.172510 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:39.173165 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.173892 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.174768 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:39.175545 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.176175 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.176975 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:39.177741 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.178335 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.179111 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:39.179854 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.180486 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.181272 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:39.181985 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.182618 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.183383 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:39.184140 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.184804 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.185577 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:39.189410 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.190021 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.190808 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:39.191508 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.192125 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.192854 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:39.193578 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.198264 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.199159 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:39.199895 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.200533 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.201321 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:39.202053 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.202632 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.203398 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:39.204143 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.204795 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.205512 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:39.210320 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.210918 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.211722 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:39.212430 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.213056 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.213865 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:39.214586 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.215153 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.215907 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:39.216671 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.217378 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.222167 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.222502 #32536]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-07T21:37:39.222594 #32536]  INFO -- : EmployeeTest: test_: Given context should list employees alphabetically. 
I, [2020-04-07T21:37:39.222659 #32536]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-07T21:37:39.223781 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.225364 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "368400638"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.226901 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "368400638"], ["date_of_birth", "2001-04-07"], ["phone", "7208813663"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.228213 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.229444 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.230717 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.231965 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "0738134699"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.233228 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.238604 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.239976 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "073938731"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.241287 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "073938731"], ["date_of_birth", "2004-04-07"], ["phone", "0144373918"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.242579 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.243737 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.244946 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "221540958"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.246207 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "221540958"], ["date_of_birth", "1994-04-07"], ["phone", "9471251811"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:39.247477 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.248679 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.249951 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.251168 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.252404 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.253675 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.254887 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.256109 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "5975493179"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.257410 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.258595 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.259800 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "351887870"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.261000 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "351887870"], ["date_of_birth", "2001-04-07"], ["phone", "4544532026"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:39.266230 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.267233 #32536] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" ORDER BY last_name, first_name[0m
D, [2020-04-07T21:37:39.268091 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.268912 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:39.269693 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.270274 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.271017 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:39.271734 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.272341 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.273096 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:39.273805 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.274421 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.275124 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:39.275868 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.276504 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.277231 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:39.277951 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.278550 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.279319 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:39.280022 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.280633 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.281411 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:39.286195 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.286907 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.287692 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.287965 #32536]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.288055 #32536]  INFO -- : EmployeeTest: test_: Given context should shows that there is one admin: Alex. 
I, [2020-04-07T21:37:39.288121 #32536]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.289162 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.290711 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "262079444"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.292117 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "262079444"], ["date_of_birth", "2001-04-07"], ["phone", "1115891916"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.293427 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.294687 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.295959 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.297247 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "5757901055"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.302598 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.303893 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.305253 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "075639151"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.306557 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "075639151"], ["date_of_birth", "2004-04-07"], ["phone", "3254744769"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.307810 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.308987 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.310213 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "152984643"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.311434 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "152984643"], ["date_of_birth", "1994-04-07"], ["phone", "2624265122"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:39.312736 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.317959 #32536] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.319395 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.320630 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.321972 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.323251 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.324522 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.325732 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "6766932318"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.327048 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.328262 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.329482 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "295871252"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.330734 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "295871252"], ["date_of_birth", "2001-04-07"], ["phone", "8056615329"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:39.332021 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.332967 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'admin')[0m
D, [2020-04-07T21:37:39.337814 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'admin')[0m
D, [2020-04-07T21:37:39.338616 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.339415 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:39.340166 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.340773 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.341526 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:39.342251 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.342835 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.343586 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:39.344321 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.344903 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.345663 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:39.346345 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.346965 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.347679 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:39.348426 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.349032 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.349793 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:39.350523 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.351094 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.351842 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:39.352581 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.353261 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.358042 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.358343 #32536]  INFO -- : --------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.358455 #32536]  INFO -- : EmployeeTest: test_: Employee should validate that :role cannot be empty/falsy. 
I, [2020-04-07T21:37:39.358521 #32536]  INFO -- : --------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.362487 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.363464 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.364075 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.364385 #32536]  INFO -- : -------------------------------------------------------------------
I, [2020-04-07T21:37:39.364463 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹nilâ€º. 
I, [2020-04-07T21:37:39.364525 #32536]  INFO -- : -------------------------------------------------------------------
D, [2020-04-07T21:37:39.367701 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.368723 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.369391 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.369719 #32536]  INFO -- : --------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.369798 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-04-07T21:37:39.369911 #32536]  INFO -- : --------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.372971 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.373898 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.374508 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.374793 #32536]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.374868 #32536]  INFO -- : EmployeeTest: test_: Given context should force employees to have unique ssn. 
I, [2020-04-07T21:37:39.374930 #32536]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.375861 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.377151 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "279142888"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.382643 #32536] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "279142888"], ["date_of_birth", "2001-04-07"], ["phone", "8916520426"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.383969 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.385197 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.386543 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.387787 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "9361692844"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.389057 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.390265 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.391543 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "362974268"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.392831 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "362974268"], ["date_of_birth", "2004-04-07"], ["phone", "2235392801"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.394085 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.395175 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.396409 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "371385089"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.397649 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "371385089"], ["date_of_birth", "1994-04-07"], ["phone", "2079992133"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:39.398967 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.400125 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.401342 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.406703 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.408060 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.409292 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.410572 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.411785 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "4911565074"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.413011 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.414089 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.415282 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "028883588"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.416486 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "028883588"], ["date_of_birth", "2001-04-07"], ["phone", "7258040048"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:39.421813 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.423702 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084359822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.425038 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.425841 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:39.426558 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.427171 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.427925 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:39.428700 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.429315 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.430090 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:39.430875 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.431521 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.432290 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:39.433064 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.437733 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.438530 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:39.439294 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.439914 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.440688 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:39.441434 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.442108 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.442863 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:39.443617 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.444296 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.445057 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.445368 #32536]  INFO -- : -----------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.445456 #32536]  INFO -- : EmployeeTest: test_: Given context should have all active employees accounted for. 
I, [2020-04-07T21:37:39.445532 #32536]  INFO -- : -----------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.446592 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.448009 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "184288643"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.449483 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "184288643"], ["date_of_birth", "2001-04-07"], ["phone", "6992677010"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.450901 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.452173 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.453395 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.458841 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "4149010346"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.460202 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.461544 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.462884 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "378767982"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.464090 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "378767982"], ["date_of_birth", "2004-04-07"], ["phone", "0487252819"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.465399 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.466664 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.467896 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "386878641"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.469103 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "386878641"], ["date_of_birth", "1994-04-07"], ["phone", "1034137333"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:39.470497 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.471772 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.472979 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.474159 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.475490 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.476729 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.478047 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.479267 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "9842959077"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.480651 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.481904 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.483122 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "024632580"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.484299 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "024632580"], ["date_of_birth", "2001-04-07"], ["phone", "5095435866"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:39.485552 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.486554 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.487427 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.488501 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.489394 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.495554 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:39.496397 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.497037 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.506296 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:39.507188 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.507812 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.508725 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:39.509478 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.510125 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.510891 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:39.511662 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.512297 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.513072 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:39.521973 #32536] DEBUG -- :   [1m[35m (8.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.522722 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.523581 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:39.524372 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.524985 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.525840 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:39.526635 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.527308 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.534878 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.535192 #32536]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.535328 #32536]  INFO -- : EmployeeTest: test_: Given context should have all inactive employees accounted for. 
I, [2020-04-07T21:37:39.535402 #32536]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.536514 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.546307 #32536] DEBUG -- :   [1m[36mEmployee Exists (8.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "035222037"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.547995 #32536] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "035222037"], ["date_of_birth", "2001-04-07"], ["phone", "6044832860"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.549393 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.550908 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.552285 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.553603 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "0974373598"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.558989 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.560376 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.565896 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "379388331"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.567361 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "379388331"], ["date_of_birth", "2004-04-07"], ["phone", "6179089724"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.568947 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.582543 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.584008 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "148301623"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.585361 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "148301623"], ["date_of_birth", "1994-04-07"], ["phone", "2904714842"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:39.590785 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.592094 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.593490 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.598950 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.600276 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.601556 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.602886 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.604113 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "2728228854"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.605404 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.606541 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.607751 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "042130400"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.608960 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "042130400"], ["date_of_birth", "2001-04-07"], ["phone", "2077518321"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:39.614162 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.615160 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.616136 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.617199 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-04-07T21:37:39.617969 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.618769 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:39.619518 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.620082 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.620844 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:39.621582 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.622208 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.622987 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:39.623666 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.624273 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.624988 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:39.629720 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.630361 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.631168 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:39.631912 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.632554 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.633286 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:39.634034 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.634610 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.635398 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:39.636096 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.636782 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.643625 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.643927 #32536]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.644041 #32536]  INFO -- : EmployeeTest: test_: Given context should shows proper name as first and last name. 
I, [2020-04-07T21:37:39.644103 #32536]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.645113 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.647292 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "271298273"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.648744 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "271298273"], ["date_of_birth", "2001-04-07"], ["phone", "7020803969"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.654172 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.655536 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.656855 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.658153 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "9355951246"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.659446 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.660562 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.661752 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "219225369"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.662939 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "219225369"], ["date_of_birth", "2004-04-07"], ["phone", "6317761480"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.664158 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.665327 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.670707 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "053775354"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.671979 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "053775354"], ["date_of_birth", "1994-04-07"], ["phone", "8095031943"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:39.673272 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.674557 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.675725 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.676905 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.681920 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.683268 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.684591 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.685807 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "7959066235"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.687107 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.688289 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.689485 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "379593841"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.690655 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "379593841"], ["date_of_birth", "2001-04-07"], ["phone", "7286007022"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:39.691902 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.692570 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.693320 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:39.694047 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.694667 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.695362 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:39.696054 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.696651 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.697416 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:39.698105 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.698721 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.699436 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:39.700128 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.700683 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.701419 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:39.706202 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.706812 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.707592 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:39.708319 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.708894 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.709615 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:39.710349 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.711030 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.715230 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.715566 #32536]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.715636 #32536]  INFO -- : EmployeeTest: test_: Given context should shows that Ben's phone is stripped of non-digits. 
I, [2020-04-07T21:37:39.715709 #32536]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.716741 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.718158 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "260551801"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.719544 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "260551801"], ["date_of_birth", "2001-04-07"], ["phone", "6098138177"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.720823 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.722078 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.723364 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.724525 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "8874382687"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.729926 #32536] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.731286 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.732722 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "354964049"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.734143 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "354964049"], ["date_of_birth", "2004-04-07"], ["phone", "6816793247"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.735551 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.736879 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.738120 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "365679177"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.739354 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "365679177"], ["date_of_birth", "1994-04-07"], ["phone", "5562849693"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:39.740637 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.741947 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.743313 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.744578 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.749898 #32536] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.751263 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.752618 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.753916 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "4046669312"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.755165 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.756311 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.757518 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "138133673"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.758782 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "138133673"], ["date_of_birth", "2001-04-07"], ["phone", "1525728421"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:39.760051 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.760682 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.761450 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:39.766327 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.766922 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.767692 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:39.768397 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.768991 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.769741 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:39.770449 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.771022 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.771761 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:39.772462 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.773021 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.773811 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:39.774490 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.775100 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.775795 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:39.776533 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.777165 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.777912 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:39.778625 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.779277 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.783878 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.784203 #32536]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.784290 #32536]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Thu, 07 Apr 2005â€º. 
I, [2020-04-07T21:37:39.784354 #32536]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.787711 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.788687 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.790853 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.791129 #32536]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-07T21:37:39.791266 #32536]  INFO -- : EmployeeTest: test_: Employee should allow :ssn to be â€¹"123456789"â€º. 
I, [2020-04-07T21:37:39.791329 #32536]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-07T21:37:39.793992 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "123456789"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.795014 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.797369 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.797705 #32536]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.797780 #32536]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Mon, 07 Apr 2003â€º. 
I, [2020-04-07T21:37:39.797840 #32536]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.800940 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.805992 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.808282 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.808606 #32536]  INFO -- : --------------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.808679 #32536]  INFO -- : EmployeeTest: test_: Employee should validate that :first_name cannot be empty/falsy. 
I, [2020-04-07T21:37:39.808739 #32536]  INFO -- : --------------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.812645 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.813644 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.819159 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.819513 #32536]  INFO -- : ----------------------------------------------------------------------------
I, [2020-04-07T21:37:39.819587 #32536]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-04-07T21:37:39.819648 #32536]  INFO -- : ----------------------------------------------------------------------------
D, [2020-04-07T21:37:39.822945 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.823936 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.825954 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.826273 #32536]  INFO -- : -----------------------------------------------------------------------------
I, [2020-04-07T21:37:39.826344 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹"bad"â€º. 
I, [2020-04-07T21:37:39.826405 #32536]  INFO -- : -----------------------------------------------------------------------------
D, [2020-04-07T21:37:39.829700 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.830657 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.835056 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.835388 #32536]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.835474 #32536]  INFO -- : EmployeeTest: test_: Given context should shows that over_18? boolean method works. 
I, [2020-04-07T21:37:39.835543 #32536]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.836605 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.838089 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "272232833"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.839591 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "272232833"], ["date_of_birth", "2001-04-07"], ["phone", "4625431981"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.840937 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.842296 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.843539 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.845355 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "4664881228"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.847170 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.848363 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.849606 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "308052857"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.852802 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "308052857"], ["date_of_birth", "2004-04-07"], ["phone", "0913742824"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.854176 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.855889 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.857235 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "264988735"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.858531 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "264988735"], ["date_of_birth", "1994-04-07"], ["phone", "1533524601"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:39.859855 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.861114 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.866684 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.868026 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.869356 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.870722 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.871960 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.873244 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "9236919886"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:39.874568 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.875733 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.876971 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "326893707"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.878293 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "326893707"], ["date_of_birth", "2001-04-07"], ["phone", "7395428901"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:39.879589 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.880453 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.881288 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:39.886156 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.886798 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.887615 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:39.888394 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.888995 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.889771 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:39.890496 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.891146 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.891931 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:39.892733 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.893383 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.894157 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:39.894975 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.895574 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.896331 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:39.897065 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.898846 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.899641 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:39.900371 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.901064 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.903311 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.903637 #32536]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.903731 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-04-07T21:37:39.903787 #32536]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.907257 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.908261 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.915695 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.916028 #32536]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.916149 #32536]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Fri, 07 Apr 2006â€º. 
I, [2020-04-07T21:37:39.916211 #32536]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.919609 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.920642 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.922784 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.923051 #32536]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.923185 #32536]  INFO -- : EmployeeTest: test_: Employee should validate that :last_name cannot be empty/falsy. 
I, [2020-04-07T21:37:39.923256 #32536]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.927009 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.928054 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.935227 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.935586 #32536]  INFO -- : -------------------------------------------------------------------
I, [2020-04-07T21:37:39.935662 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"vp"â€º. 
I, [2020-04-07T21:37:39.935722 #32536]  INFO -- : -------------------------------------------------------------------
D, [2020-04-07T21:37:39.938950 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.939938 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.942058 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.942386 #32536]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:37:39.942484 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"12345678"â€º. 
I, [2020-04-07T21:37:39.942554 #32536]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:37:39.945401 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "12345678"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.946554 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.948344 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.948976 #32536]  INFO -- : -----------------------------------------------------------------
I, [2020-04-07T21:37:39.949085 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹nilâ€º. 
I, [2020-04-07T21:37:39.949145 #32536]  INFO -- : -----------------------------------------------------------------
D, [2020-04-07T21:37:39.952450 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.953405 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.959358 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.959655 #32536]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:37:39.959736 #32536]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-04-07T21:37:39.959847 #32536]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:37:39.963046 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.964027 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.966172 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.966491 #32536]  INFO -- : --------------------------------------------------------------------
I, [2020-04-07T21:37:39.966576 #32536]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"manager"â€º. 
I, [2020-04-07T21:37:39.966632 #32536]  INFO -- : --------------------------------------------------------------------
D, [2020-04-07T21:37:39.969549 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.974297 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.976532 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.976839 #32536]  INFO -- : ------------------------------------------------------------
I, [2020-04-07T21:37:39.976916 #32536]  INFO -- : EmployeeTest: test_: Employee should have many assignments. 
I, [2020-04-07T21:37:39.976993 #32536]  INFO -- : ------------------------------------------------------------
D, [2020-04-07T21:37:39.977437 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.979737 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.980012 #32536]  INFO -- : -----------------------------------------------------------------
I, [2020-04-07T21:37:39.980085 #32536]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹10â€º. 
I, [2020-04-07T21:37:39.980186 #32536]  INFO -- : -----------------------------------------------------------------
D, [2020-04-07T21:37:39.983465 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:39.984432 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:39.986516 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:39.986820 #32536]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-04-07T21:37:39.986893 #32536]  INFO -- : EmployeeTest: test_: Given context should show there are two employees under 18. 
I, [2020-04-07T21:37:39.987005 #32536]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-04-07T21:37:39.987986 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.989296 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "103704712"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.990850 #32536] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "103704712"], ["date_of_birth", "2001-04-07"], ["phone", "0249474966"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.992255 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.993447 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:39.994630 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:39.995924 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "1761614930"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:39.997248 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.001585 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.004087 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "189504966"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.005492 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "189504966"], ["date_of_birth", "2004-04-07"], ["phone", "2408697776"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.006928 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.008204 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.009433 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "028525893"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.010752 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "028525893"], ["date_of_birth", "1994-04-07"], ["phone", "2691635073"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:40.012047 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.013319 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.018820 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.020175 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:40.021576 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.022952 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.024186 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.025451 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "1672844326"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:40.026820 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.027981 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.029253 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "109769580"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.034643 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "109769580"], ["date_of_birth", "2001-04-07"], ["phone", "5078499873"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:40.035994 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.037160 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth > '2002-04-07')[0m
D, [2020-04-07T21:37:40.038240 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (date_of_birth > '2002-04-07')[0m
D, [2020-04-07T21:37:40.039031 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.039903 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:40.040679 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.041275 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.042025 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:40.042769 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.043391 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.044170 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:40.044887 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.045593 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.050446 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:40.051243 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.051936 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.052675 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:40.053441 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.054031 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.054799 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:40.055561 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.056180 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.056935 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:40.057728 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.058446 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:40.061387 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:40.061709 #32536]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:37:40.061836 #32536]  INFO -- : ApplicationControllerTest: test_should_redirect_to_home_path_on_404_errors
I, [2020-04-07T21:37:40.061899 #32536]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:37:40.062871 #32536]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-07 21:37:40 +0000
I, [2020-04-07T21:37:40.065550 #32536]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-07T21:37:40.065916 #32536]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-07T21:37:40.067372 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-07T21:37:40.068907 #32536]  INFO -- : Redirected to http://www.example.com/home
I, [2020-04-07T21:37:40.069764 #32536]  INFO -- : Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
D, [2020-04-07T21:37:40.073262 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:40.080360 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:40.080701 #32536]  INFO -- : ------------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:40.080778 #32536]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all current assignments for a store or employee. 
I, [2020-04-07T21:37:40.080841 #32536]  INFO -- : ------------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:40.081703 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.083059 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.084566 #32536] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1144834606"], ["active", 1]]
D, [2020-04-07T21:37:40.085974 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.087047 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.088163 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.089491 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:40.094995 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.096138 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.097353 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.098665 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9940251487"], ["active", 0]]
D, [2020-04-07T21:37:40.100110 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.101328 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.102738 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "016615564"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.104064 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "016615564"], ["date_of_birth", "2001-04-07"], ["phone", "0279766931"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.105487 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.107708 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.108988 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.110272 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "8204801172"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.111627 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.112810 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.114133 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "038171305"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.115484 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "038171305"], ["date_of_birth", "2004-04-07"], ["phone", "1293529384"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.117006 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.118909 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.120269 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "280450400"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.125649 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "280450400"], ["date_of_birth", "1994-04-07"], ["phone", "8405636764"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:40.127279 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.128752 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.130301 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.131754 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:40.133321 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.134743 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.136055 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.137351 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "5138912820"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:40.139103 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.140508 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.141867 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "096766476"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.143237 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "096766476"], ["date_of_birth", "2001-04-07"], ["phone", "6222843677"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:40.144767 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.150233 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.151706 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.153022 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.154360 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.156098 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.157393 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:40.162617 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.164121 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.165527 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.166802 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.167993 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.169536 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.170806 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:40.171908 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.173324 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.178780 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.180052 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.181308 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.183011 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.184259 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:40.185255 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.190821 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.192200 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.193518 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.194752 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.196562 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.197905 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:40.199085 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.200513 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.205815 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.207228 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.208462 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.210276 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.211550 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:40.212658 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.214080 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.215350 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.216631 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.218445 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.220085 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.221289 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:40.222322 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.223427 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 1)[0m
D, [2020-04-07T21:37:40.224414 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 2)[0m
D, [2020-04-07T21:37:40.225423 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (employee_id = 5)[0m
D, [2020-04-07T21:37:40.230513 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (employee_id = 1)[0m
D, [2020-04-07T21:37:40.231252 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.232162 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:40.232966 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.233777 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.234640 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:40.235518 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.236232 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.237057 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:40.237925 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.238621 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.239498 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:40.253564 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.254654 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.255899 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:40.256892 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.261760 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.262735 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:40.263574 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.264248 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.265328 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:40.266111 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.266894 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.267712 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:40.268573 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.269354 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.270177 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:40.270928 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.271743 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.272550 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:40.273447 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.274159 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.275080 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:40.275851 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.276592 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.277382 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:40.282377 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.283065 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.283993 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:40.284785 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.285439 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.286420 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:40.287248 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.287949 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.288796 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:40.289719 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.290446 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.291383 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:40.292274 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.293033 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:40.293957 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:40.294278 #32536]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-04-07T21:37:40.294351 #32536]  INFO -- : AssignmentTest: test_: Assignment should allow :start_date to be â€¹Sat, 07 Apr 2018â€º. 
I, [2020-04-07T21:37:40.294476 #32536]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-04-07T21:37:40.298071 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.299232 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.300113 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:40.302099 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:40.302431 #32536]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-07T21:37:40.302507 #32536]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹Tue, 14 Apr 2020â€º. 
I, [2020-04-07T21:37:40.302575 #32536]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-07T21:37:40.305742 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.306947 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.307772 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:40.313155 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:40.313539 #32536]  INFO -- : ----------------------------------------------------------------------------------
I, [2020-04-07T21:37:40.313613 #32536]  INFO -- : AssignmentTest: test_: Given context should not terminate a completed assignment. 
I, [2020-04-07T21:37:40.313694 #32536]  INFO -- : ----------------------------------------------------------------------------------
D, [2020-04-07T21:37:40.314719 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.316249 #32536] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.317869 #32536] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8521896608"], ["active", 1]]
D, [2020-04-07T21:37:40.319417 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.320451 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.321715 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.322997 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:40.324444 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.325529 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.326687 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.327923 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2374810697"], ["active", 0]]
D, [2020-04-07T21:37:40.329369 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.330669 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.332164 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "036512648"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.333546 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "036512648"], ["date_of_birth", "2001-04-07"], ["phone", "8318084945"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.339136 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.340777 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.342356 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.343812 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "7461172895"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.345307 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.346695 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.347966 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "125759368"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.349341 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "125759368"], ["date_of_birth", "2004-04-07"], ["phone", "4667173010"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.350849 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.352114 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.353361 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "107124188"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.354631 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "107124188"], ["date_of_birth", "1994-04-07"], ["phone", "6213165324"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:40.355906 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.357099 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.358303 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.359471 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:40.360794 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.363614 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.364905 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.366253 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "7656456532"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:40.367533 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.368740 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.374068 #32536] DEBUG -- :   [1m[36mEmployee Exists (4.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "067154428"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.375394 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "067154428"], ["date_of_birth", "2001-04-07"], ["phone", "1442951522"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:40.376719 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.378136 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.379476 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.380685 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.381795 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.383270 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.384427 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:40.385473 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.390921 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.392182 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.393346 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.394485 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.395982 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.397089 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:40.398104 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.399302 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.400407 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.401573 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.402736 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.404151 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.405250 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:40.406195 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.407516 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.408710 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.413925 #32536] DEBUG -- :   [1m[36mStore Load (4.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.415117 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.416594 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.417729 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:40.418832 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.420101 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.421229 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.422381 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.423480 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.424961 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.430072 #32536] DEBUG -- :   [1m[36mAssignment Create (4.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:40.431002 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.432448 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.433732 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.434924 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.436094 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.437588 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.438705 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:40.439638 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.440546 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.441362 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:40.446068 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.446707 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.447546 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:40.448278 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.448874 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.449672 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:40.450402 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.450991 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.451751 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:40.452466 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.453059 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.453809 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:40.454519 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.455149 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.455893 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:40.456622 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.457242 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.458103 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:40.458831 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.459484 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.460203 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:40.460912 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.461518 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.462308 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:40.463018 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.463621 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.464367 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:40.465095 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.469714 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.470514 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:40.471243 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.471832 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.472570 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:40.473268 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.473854 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.474597 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:40.475319 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.475940 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.476702 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:40.477425 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.478059 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.478764 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:40.479501 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.480111 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.480835 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:40.481567 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.486287 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:40.487014 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:40.487332 #32536]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:40.487405 #32536]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed alphabetically by employee name. 
I, [2020-04-07T21:37:40.487465 #32536]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:40.488250 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.489552 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.490999 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0714580491"], ["active", 1]]
D, [2020-04-07T21:37:40.492324 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.493260 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.494287 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.495476 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:40.496775 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.501783 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.502927 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.504160 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3630737879"], ["active", 0]]
D, [2020-04-07T21:37:40.505509 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.510817 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.512243 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "147974690"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.513642 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "147974690"], ["date_of_birth", "2001-04-07"], ["phone", "5522956638"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.515045 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.516299 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.517471 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.518766 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "7050881455"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.520125 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.521269 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.526573 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "192570646"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.527903 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "192570646"], ["date_of_birth", "2004-04-07"], ["phone", "1114416889"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.529281 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.530614 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.531755 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "287302053"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.532983 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "287302053"], ["date_of_birth", "1994-04-07"], ["phone", "4439358703"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:40.534365 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.535622 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.536845 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.538101 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:40.539458 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.540670 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.541934 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.543171 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "1106323186"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:40.544496 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.545777 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.546993 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "003975981"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.548224 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "003975981"], ["date_of_birth", "2001-04-07"], ["phone", "4895542070"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:40.549548 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.554977 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.556335 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.557592 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.558756 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.560266 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.561471 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:40.562581 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.563818 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.564933 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.570178 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.571397 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.572882 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.573983 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:40.575023 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.576283 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.577461 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.578631 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.579788 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.581225 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.586402 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:40.587415 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.588829 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.590152 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.591327 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.592511 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.594006 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.595148 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:40.596207 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.597431 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.598650 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.599851 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.600879 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.602367 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.603470 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:40.604450 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.609654 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.610898 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.612114 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.613267 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.614802 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.615882 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:40.616836 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.624173 #32536] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" ORDER BY last_name, first_name[0m
D, [2020-04-07T21:37:40.625803 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.626916 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.628073 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.629205 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.631966 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.633082 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.634002 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.634887 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:40.635665 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.636315 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.637041 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:40.637858 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.638499 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.639245 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:40.639929 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.640571 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.641300 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:40.642075 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.642697 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.643434 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:40.644143 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.644743 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.645450 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:40.650452 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.651097 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.651904 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:40.652711 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.653318 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.654120 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:40.654850 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.655436 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.656207 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:40.656945 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.657524 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.658312 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:40.659063 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.659701 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.660478 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:40.661230 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.665872 #32536] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.666677 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:40.667426 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.668011 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.668768 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:40.669505 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.670120 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.670956 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:40.671748 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.672351 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.673103 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:40.673895 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.674530 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.675248 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:40.676039 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.676773 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:40.682100 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:40.682421 #32536]  INFO -- : -------------------------------------------------------------
I, [2020-04-07T21:37:40.682495 #32536]  INFO -- : AssignmentTest: test_: Assignment should belong to employee. 
I, [2020-04-07T21:37:40.682566 #32536]  INFO -- : -------------------------------------------------------------
D, [2020-04-07T21:37:40.683067 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:40.683691 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:40.683950 #32536]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:40.684035 #32536]  INFO -- : AssignmentTest: test_: Given context should not allow for a end date in the future or before the start date. 
I, [2020-04-07T21:37:40.684110 #32536]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:40.684868 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.686255 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.687714 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6456636088"], ["active", 1]]
D, [2020-04-07T21:37:40.689075 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.690092 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.691154 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.692294 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:40.693597 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.694565 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.695664 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.696758 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7216828157"], ["active", 0]]
D, [2020-04-07T21:37:40.702295 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.703549 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.705005 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "121406092"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.706297 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "121406092"], ["date_of_birth", "2001-04-07"], ["phone", "2200816255"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.707663 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.708917 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.710226 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.711451 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "2172468121"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.712815 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.714163 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.715496 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "313679970"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.716756 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "313679970"], ["date_of_birth", "2004-04-07"], ["phone", "5563106660"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.722310 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.723823 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.725309 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "117506064"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.726733 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "117506064"], ["date_of_birth", "1994-04-07"], ["phone", "9058418006"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:40.729947 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.731465 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.734893 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.736587 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:40.738337 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.740125 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.741460 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.742892 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "0593240454"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:40.744421 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.749801 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.751365 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "138401612"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.752818 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "138401612"], ["date_of_birth", "2001-04-07"], ["phone", "1558012219"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:40.754347 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.755842 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.757183 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.758604 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.759826 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.761478 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.762760 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:40.763928 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.765298 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.770690 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.771992 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.773291 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.774959 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.776131 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:40.777163 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.778641 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.779886 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.781173 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.784474 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.786201 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.787473 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:40.788612 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.790211 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.791580 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.792826 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.798116 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.799767 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.800984 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:40.802207 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.803587 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.804900 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.806211 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.807448 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.809074 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.814338 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:40.815437 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.816801 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.818201 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.819485 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.820761 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.822412 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.823582 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:40.824610 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.831529 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.832809 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.835523 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.836737 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.837762 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.838729 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:40.839611 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.840336 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.841199 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:40.846106 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.846850 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.847754 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:40.856811 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.861727 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.862754 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:40.863624 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.864314 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.865095 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:40.865924 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.866585 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.867427 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:40.868236 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.868945 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.869825 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:40.870677 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.871347 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.872147 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:40.872980 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.874542 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.875346 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:40.876125 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.876804 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.877582 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:40.878424 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.879067 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.879853 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:40.880666 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.881318 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.882139 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:40.882921 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.883547 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.884341 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:40.885131 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.889838 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.890757 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:40.891564 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.892192 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.892987 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:40.893810 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.894465 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.895233 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:40.895999 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.896724 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:40.902009 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:40.902438 #32536]  INFO -- : ----------------------------------------------------------
I, [2020-04-07T21:37:40.902516 #32536]  INFO -- : AssignmentTest: test_: Assignment should belong to store. 
I, [2020-04-07T21:37:40.902595 #32536]  INFO -- : ----------------------------------------------------------
D, [2020-04-07T21:37:40.903096 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:40.903827 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:40.904142 #32536]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:40.904227 #32536]  INFO -- : AssignmentTest: test_: Assignment should validate that :employee_id cannot be empty/falsy. 
I, [2020-04-07T21:37:40.904295 #32536]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:40.908509 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.909596 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.910477 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:40.911146 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:40.911498 #32536]  INFO -- : ----------------------------------------------------------------------------
I, [2020-04-07T21:37:40.911575 #32536]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹nilâ€º. 
I, [2020-04-07T21:37:40.911642 #32536]  INFO -- : ----------------------------------------------------------------------------
D, [2020-04-07T21:37:40.914993 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.916016 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.916801 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:40.918497 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:40.918784 #32536]  INFO -- : --------------------------------------------------------------------------------
I, [2020-04-07T21:37:40.918856 #32536]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_role' that works. 
I, [2020-04-07T21:37:40.918979 #32536]  INFO -- : --------------------------------------------------------------------------------
D, [2020-04-07T21:37:40.919800 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.921156 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.922678 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0148913405"], ["active", 1]]
D, [2020-04-07T21:37:40.924023 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.925059 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.930425 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.931740 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:40.933090 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.934233 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.935380 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.936593 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9024330839"], ["active", 0]]
D, [2020-04-07T21:37:40.942029 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.943342 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.944811 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "286803049"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.946249 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "286803049"], ["date_of_birth", "2001-04-07"], ["phone", "7294670336"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.947568 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.948793 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.950124 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.951362 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "8933125220"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.952639 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.953934 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.955119 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "278482689"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.956341 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "278482689"], ["date_of_birth", "2004-04-07"], ["phone", "1785666631"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:40.957662 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.958917 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.960091 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "372362990"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.961359 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "372362990"], ["date_of_birth", "1994-04-07"], ["phone", "7277847206"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:40.962682 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.963908 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.965123 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.966374 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:40.967678 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.968937 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.974266 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.975488 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "1479342919"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:40.976836 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.978202 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.979537 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "334079166"], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.980861 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "334079166"], ["date_of_birth", "2001-04-07"], ["phone", "1728467123"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:40.982304 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.983618 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.984963 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.990277 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.991514 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.993113 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:40.994394 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:40.995490 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.996818 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:40.998062 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:40.999310 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.000509 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.003030 #32536] DEBUG -- :   [1m[36mAssignment Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.004182 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:41.005162 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.006466 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.007731 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.008974 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.010187 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.011702 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.012828 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:41.017870 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.019364 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.020694 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.021896 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.023108 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.024624 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.025773 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:41.026867 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.028148 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.029328 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.031381 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.032610 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.034083 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.035222 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:41.036197 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.037545 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.038790 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.039984 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.041155 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.046861 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.048027 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:41.049064 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.050312 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'employee')[0m
D, [2020-04-07T21:37:41.051398 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'manager')[0m
D, [2020-04-07T21:37:41.052049 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.052914 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.053709 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.054365 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.055151 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.055898 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.056580 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.057358 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.062173 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.062851 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.063631 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:41.064418 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.065035 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.065913 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:41.066666 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.067313 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.068088 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:41.068824 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.069468 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.070331 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.071063 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.071736 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.072495 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.073241 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.077919 #32536] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.078772 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.079536 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.080165 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.080945 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:41.081746 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.082379 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.083199 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:41.083957 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.084624 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.085433 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:41.086462 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.087108 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.087872 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:41.088666 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.089294 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.090109 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.090933 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.091629 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.092429 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.093154 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.097862 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.098643 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.099356 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.100084 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:41.101277 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:41.101561 #32536]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:41.101658 #32536]  INFO -- : AssignmentTest: test_: Given context should identify a non-active employee as part of an invalid assignment. 
I, [2020-04-07T21:37:41.101779 #32536]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:41.102620 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.104001 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.105453 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4188756297"], ["active", 1]]
D, [2020-04-07T21:37:41.106787 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.107814 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.108915 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.110161 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:41.111510 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.112518 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.113612 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.118929 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4258705481"], ["active", 0]]
D, [2020-04-07T21:37:41.120244 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.121484 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.122978 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "143671274"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.124341 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "143671274"], ["date_of_birth", "2001-04-07"], ["phone", "5783380470"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.125670 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.126954 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.128201 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.129456 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "2371857589"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.130759 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.131938 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.133237 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "291501033"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.134587 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "291501033"], ["date_of_birth", "2004-04-07"], ["phone", "5575328188"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.135901 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.137153 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.139178 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "302449926"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.140461 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "302449926"], ["date_of_birth", "1994-04-07"], ["phone", "1824757658"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:41.141812 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.143076 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.144371 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.149645 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:41.151000 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.152349 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.153775 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.155102 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "6891432596"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:41.156400 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.157557 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.158811 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "213358851"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.160087 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "213358851"], ["date_of_birth", "2001-04-07"], ["phone", "5552190420"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:41.161416 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.166922 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.168340 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.169658 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.170839 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.172480 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.177753 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:41.178916 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.180257 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.181532 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.182790 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.183998 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.185524 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.186635 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:41.187763 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.188950 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.190256 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.191450 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.192615 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.198265 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.199470 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:41.200480 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.201937 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.203226 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.204465 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.205711 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.207305 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.208463 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:41.209571 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.210824 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.212012 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.213183 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.218436 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.220047 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.221228 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:41.222267 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.223568 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.224761 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.226079 #32536] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.227248 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.228674 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.229885 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:41.230920 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.233573 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.234731 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.235605 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.236444 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.237187 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.237838 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.238614 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.239368 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.239989 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.240737 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.241492 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.242819 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.243558 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:41.244385 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.244989 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.249784 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:41.250563 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.251159 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.251949 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:41.252737 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.253376 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.254177 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.254946 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.255594 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.256396 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.257082 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.257740 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.258524 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.259254 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.259840 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.260612 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:41.261350 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.266012 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.266835 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:41.267580 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.268206 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.268998 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:41.269750 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.270358 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.271141 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:41.271884 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.272524 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.273326 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.274078 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.274728 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.275502 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.276195 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.276765 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.277550 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.282403 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.283123 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:41.284257 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:41.284540 #32536]  INFO -- : ----------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:41.284612 #32536]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed alphabetically by store name. 
I, [2020-04-07T21:37:41.284675 #32536]  INFO -- : ----------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:41.285507 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.286883 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.288248 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5603986034"], ["active", 1]]
D, [2020-04-07T21:37:41.289676 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.290697 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.291787 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.292960 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:41.294383 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.295374 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.296429 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.297606 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8909657223"], ["active", 0]]
D, [2020-04-07T21:37:41.303161 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.304469 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.306037 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "384726302"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.307377 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "384726302"], ["date_of_birth", "2001-04-07"], ["phone", "9582448867"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.308808 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.310087 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.311316 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.312557 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "8892557849"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.314030 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.315276 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.316511 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "079149152"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.321549 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "079149152"], ["date_of_birth", "2004-04-07"], ["phone", "5020386762"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.323259 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.324687 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.326087 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "241041840"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.327454 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "241041840"], ["date_of_birth", "1994-04-07"], ["phone", "8903094400"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:41.328976 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.330306 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.331505 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.332802 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:41.334281 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.335589 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.336763 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.338114 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "7202546493"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:41.339531 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.340757 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.341984 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "042462930"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.343306 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "042462930"], ["date_of_birth", "2001-04-07"], ["phone", "4709818480"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:41.344684 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.350133 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.351614 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.352936 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.354186 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.355773 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.356998 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:41.362279 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.363712 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.365045 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.366396 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.367566 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.369716 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.370897 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:41.371934 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.373210 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.374442 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.375644 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.376806 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.382999 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.384199 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:41.385305 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.386959 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.388363 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.389649 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.390825 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.392471 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.393674 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:41.394844 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.396206 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.397441 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.402798 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.404055 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.405707 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.406921 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:41.407994 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.409346 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.410598 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.411883 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.413066 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.418829 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.420129 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:41.421281 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.422563 #32536] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" ORDER BY name[0m
D, [2020-04-07T21:37:41.424113 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.438585 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.439880 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.441087 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.442282 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.443499 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.444488 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.445417 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.446246 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.446915 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.447755 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.448537 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.449175 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.450004 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.450782 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.451409 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.452265 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:41.453062 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.457777 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.458635 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:41.459419 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.460092 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.460891 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:41.461710 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.462385 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.463240 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.464011 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.464645 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.465455 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.466254 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.466928 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.467732 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.468507 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.469115 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.469919 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:41.470740 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.471415 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.472172 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:41.472954 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.473593 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.478793 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.4ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:41.479575 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.480602 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.481403 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:41.482196 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.482872 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.483726 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.484511 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.485125 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.485985 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.486737 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.487375 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.488189 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.488943 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.489676 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:41.490422 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:41.490734 #32536]  INFO -- : ---------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:41.490814 #32536]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all past assignments for a store or employee. 
I, [2020-04-07T21:37:41.490881 #32536]  INFO -- : ---------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:41.491729 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.493059 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.494499 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5569363048"], ["active", 1]]
D, [2020-04-07T21:37:41.495978 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.496973 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.498453 #32536] DEBUG -- :   [1m[36mStore Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.499912 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:41.501297 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.506578 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.507871 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.509155 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9803491738"], ["active", 0]]
D, [2020-04-07T21:37:41.510589 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.511804 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.513126 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "099975766"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.517665 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "099975766"], ["date_of_birth", "2001-04-07"], ["phone", "3908952264"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.519171 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.520556 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.526027 #32536] DEBUG -- :   [1m[36mEmployee Exists (4.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.527459 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "0146982847"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.528872 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.530249 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.531534 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "248630211"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.532806 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "248630211"], ["date_of_birth", "2004-04-07"], ["phone", "2308317720"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.534304 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.535500 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.536684 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "190254438"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.538078 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "190254438"], ["date_of_birth", "1994-04-07"], ["phone", "7659250706"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:41.539480 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.540695 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.541939 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.543240 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:41.544612 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.549855 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.551287 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.552628 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "1249848987"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:41.554130 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.555414 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.556608 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "076728021"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.557903 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "076728021"], ["date_of_birth", "2001-04-07"], ["phone", "7400821632"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:41.559301 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.560640 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.561949 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.563234 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.564356 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.570014 #32536] DEBUG -- :   [1m[36mAssignment Exists (4.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.571333 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:41.572487 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.573865 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.575163 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.576416 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.577524 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.581436 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.582618 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:41.583639 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.585014 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.586279 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.587475 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.588649 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.590162 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.591312 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:41.592337 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.597785 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.599199 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.600440 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.601614 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.603272 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.604524 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:41.605691 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.607040 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.608366 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.609557 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.614803 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.616428 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.617576 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:41.618634 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.619937 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.621154 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.626471 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.627632 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.629140 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.630367 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:41.631421 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.632451 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (store_id = 1)[0m
D, [2020-04-07T21:37:41.633355 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (store_id = 2)[0m
D, [2020-04-07T21:37:41.638427 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (employee_id = 5)[0m
D, [2020-04-07T21:37:41.639406 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (employee_id = 2)[0m
D, [2020-04-07T21:37:41.640086 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.640985 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.641858 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.642587 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.643384 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.644128 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.644789 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.645611 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.646400 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.647008 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.647855 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:41.648627 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.649355 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.654232 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:41.655007 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.655676 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.656467 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:41.657197 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.658343 #32536] DEBUG -- :   [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.659150 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.659938 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.660607 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.661411 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.662265 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.662932 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.663740 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.664499 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.665180 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.670041 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:41.670860 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.671524 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.672366 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:41.673173 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.673908 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.674708 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:41.675483 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.676102 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.676881 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:41.677725 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.678420 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.679240 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.680008 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.680670 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.681500 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.686334 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.686932 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.687776 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.688529 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.689277 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:41.690050 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:41.690427 #32536]  INFO -- : ----------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:41.690502 #32536]  INFO -- : AssignmentTest: test_: Given context should identify a non-active store as part of an invalid assignment. 
I, [2020-04-07T21:37:41.690570 #32536]  INFO -- : ----------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:41.691382 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.692808 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.698327 #32536] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5290960095"], ["active", 1]]
D, [2020-04-07T21:37:41.699793 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.700937 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.702290 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.703523 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:41.704882 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.705931 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.707072 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.708285 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7463845190"], ["active", 0]]
D, [2020-04-07T21:37:41.714725 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.716004 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.717572 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "377615865"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.719007 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "377615865"], ["date_of_birth", "2001-04-07"], ["phone", "1925586247"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.720444 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.721739 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.723055 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.724236 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "7536704086"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.728977 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.730393 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.731789 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "231589891"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.733065 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "231589891"], ["date_of_birth", "2004-04-07"], ["phone", "5831844035"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.738614 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.739949 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.741385 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "029865208"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.742719 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "029865208"], ["date_of_birth", "1994-04-07"], ["phone", "2683610990"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:41.744079 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.745303 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.750847 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.752130 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:41.753510 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.754943 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.756187 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.757432 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "4593211019"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:41.763011 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.764440 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.765953 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "079056091"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.767269 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "079056091"], ["date_of_birth", "2001-04-07"], ["phone", "1431299556"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:41.768548 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.770067 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.771433 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.772641 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.777884 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.779483 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.780717 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:41.781895 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.783244 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.784506 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.789742 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.790976 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.792587 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.793850 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:41.794899 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.796296 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.797533 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.803007 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.804256 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.805893 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.807092 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:41.808113 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.809647 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.815126 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.816383 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.817587 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.819283 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.820459 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:41.821655 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.823040 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.824239 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.825519 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.830784 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.832432 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.833559 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:41.838769 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.840199 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.841668 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.842996 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.844233 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.845905 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.847143 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:41.848241 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.854395 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.855602 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:41.856587 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.857466 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.859635 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.860335 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.861176 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.866063 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.866783 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.867659 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.868542 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.869190 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.870032 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:41.870845 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.871483 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.872280 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:41.873023 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.877861 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.878864 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:41.879703 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.880420 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.881265 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.882093 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.882782 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.883557 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.884348 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.884994 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.889855 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.890679 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.891328 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.892241 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:41.893166 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.893845 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.894760 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:41.895544 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.896228 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.897022 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:41.897819 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.898468 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.899260 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:41.900045 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.900728 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.901611 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:41.906484 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.907120 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.907975 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:41.908769 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.909494 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.914378 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:41.915247 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.915978 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:41.917987 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:41.918313 #32536]  INFO -- : -----------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:41.918414 #32536]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed chronologically by start date. 
I, [2020-04-07T21:37:41.918482 #32536]  INFO -- : -----------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:41.919392 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.920892 #32536] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.922462 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5486379782"], ["active", 1]]
D, [2020-04-07T21:37:41.923882 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.924949 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.927147 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.928443 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:41.933084 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.934374 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.935755 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.937083 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5425781356"], ["active", 0]]
D, [2020-04-07T21:37:41.942663 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.943988 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.945658 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "293259046"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.947271 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "293259046"], ["date_of_birth", "2001-04-07"], ["phone", "7623740597"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.948793 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.951068 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.952610 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.958228 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "5551167864"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.959794 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.961248 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.962857 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "122803023"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.964321 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "122803023"], ["date_of_birth", "2004-04-07"], ["phone", "4258845116"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:41.965799 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.967134 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.968493 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "072840738"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.970420 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "072840738"], ["date_of_birth", "1994-04-07"], ["phone", "8593639879"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:41.971922 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.973381 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.979228 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.980707 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:41.982151 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.983643 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.985008 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.986497 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "3482667005"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:41.987969 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.989284 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.990641 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "036612394"], ["LIMIT", 1]]
D, [2020-04-07T21:37:41.991987 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "036612394"], ["date_of_birth", "2001-04-07"], ["phone", "0380640904"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:41.994201 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.995634 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:41.996966 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.001976 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.003366 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.005122 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.006564 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:42.007798 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.009200 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.010556 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.011944 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.013132 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.014831 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.016037 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:42.017135 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.022654 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.024070 #32536] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.025379 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.026576 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.028319 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.029500 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:42.030580 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.032045 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.033380 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.035681 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.036866 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.039597 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.040841 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:42.042127 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.043580 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.044914 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.050364 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.051668 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.053479 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.067354 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:42.068475 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.070175 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.071589 #32536] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.072891 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.074136 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.075735 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.077030 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:42.078183 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.079120 #32536] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" ORDER BY start_date DESC, end_date DESC[0m
D, [2020-04-07T21:37:42.080302 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.081536 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.086855 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.088082 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.089310 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.090533 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.091521 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.092511 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:42.093353 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.094036 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.094870 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:42.095696 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.096352 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.097145 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:42.102014 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.102757 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.103612 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:42.104415 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.105090 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.105890 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:42.106763 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.107441 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.108267 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:42.109056 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.109781 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.110670 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:42.111495 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.112116 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.112918 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:42.113763 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.114429 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.115248 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:42.116043 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.116663 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.117522 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:42.122390 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.123060 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.123878 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:42.124684 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.125373 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.126282 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:42.127026 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.127746 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.128565 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:42.129411 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.130092 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.130946 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:42.131731 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.132373 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.133127 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:42.133939 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.134587 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.135391 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:42.136115 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.136825 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:42.138111 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:42.138452 #32536]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:37:42.138544 #32536]  INFO -- : AssignmentTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-04-07T21:37:42.138613 #32536]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:37:42.139411 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.141475 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.142977 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0989667183"], ["active", 1]]
D, [2020-04-07T21:37:42.144387 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.145410 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.146652 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.147947 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:42.149297 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.154508 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.155815 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.157123 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2970423253"], ["active", 0]]
D, [2020-04-07T21:37:42.158541 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.159745 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.161087 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "098499521"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.166696 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "098499521"], ["date_of_birth", "2001-04-07"], ["phone", "6640216692"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:42.168118 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.169565 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.170922 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.172287 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "9245393294"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:42.173715 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.174926 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.176185 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "098175921"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.177494 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "098175921"], ["date_of_birth", "2004-04-07"], ["phone", "7337948008"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:42.178962 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.180237 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.181513 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "044189641"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.182814 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "044189641"], ["date_of_birth", "1994-04-07"], ["phone", "0832937977"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:42.184157 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.185381 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.186705 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.188033 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:42.189400 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.194875 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.196306 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.197675 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "6784728163"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:42.199119 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.200367 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.201659 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "201705348"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.202944 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "201705348"], ["date_of_birth", "2001-04-07"], ["phone", "1827649575"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:42.204354 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.209716 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.211197 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.212560 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.213834 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.215500 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.216800 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:42.217981 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.219374 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.220621 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.225914 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.227173 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.228797 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.229967 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:42.231021 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.232421 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.233666 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.234906 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.236085 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.237610 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.238772 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:42.239764 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.241153 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.243401 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.244634 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.245844 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.247415 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.248574 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:42.249710 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.250998 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.252253 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.253510 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.258858 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.260546 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.261750 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:42.262828 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.264241 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.265494 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.270872 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.272113 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.273792 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.274962 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:42.276082 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.277084 #32536] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:42.277927 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.278835 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:42.279609 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.280250 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.281054 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:42.281914 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.282563 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.283393 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:42.284168 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.284811 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.285670 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:42.286431 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.287133 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.287916 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:42.288709 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.289415 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.290308 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:42.291079 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.291827 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.292687 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:42.293557 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.298353 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.299254 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:42.300074 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.300707 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.301567 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:42.302487 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.303157 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.303943 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:42.304825 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.305469 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.306278 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:42.307058 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.307688 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.308441 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:42.309268 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.314027 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.314844 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:42.315654 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.316367 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.317235 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:42.317973 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.318647 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.319466 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:42.320247 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.320887 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.321707 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:42.322467 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.323200 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:42.326013 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:42.326343 #32536]  INFO -- : ---------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:42.326424 #32536]  INFO -- : AssignmentTest: test_: Given context should terminate an assignment effectively as of today. 
I, [2020-04-07T21:37:42.326491 #32536]  INFO -- : ---------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:42.327362 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.328764 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.330313 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2753964646"], ["active", 1]]
D, [2020-04-07T21:37:42.331672 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.332723 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.333942 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.335292 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:42.336613 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.337615 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.341699 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.343012 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0188565398"], ["active", 0]]
D, [2020-04-07T21:37:42.344439 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.345817 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.347195 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "376888591"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.348647 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "376888591"], ["date_of_birth", "2001-04-07"], ["phone", "1012664660"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:42.350073 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.351264 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.352573 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.353930 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "6226956050"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:42.355248 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.356369 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.357777 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "193600494"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.359158 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "193600494"], ["date_of_birth", "2004-04-07"], ["phone", "6782409631"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:42.360481 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.365789 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.367271 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "034093165"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.368567 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "034093165"], ["date_of_birth", "1994-04-07"], ["phone", "3467937602"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:42.369924 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.374744 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.376159 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.377456 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:42.378869 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.380214 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.381781 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.383080 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "6403687645"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:42.384443 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.389394 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.390891 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "030469460"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.392182 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "030469460"], ["date_of_birth", "2001-04-07"], ["phone", "9164751663"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:42.393504 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.394903 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.396164 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.397402 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.402627 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.404199 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.405404 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:42.406503 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.407792 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.408968 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.414267 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.415445 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.421794 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.423550 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:42.424551 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.425970 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.427277 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.428454 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.429564 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.435187 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.436305 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:42.437263 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.438702 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.439970 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.441153 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.446378 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.447933 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.449050 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:42.450155 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.451432 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.452600 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.457033 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.458275 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.459858 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.461045 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:42.462058 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.463394 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.464583 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.469879 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.471098 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.472709 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.473883 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:42.474849 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.475678 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.476975 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.478093 #32536] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.479078 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.480125 #32536] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2020-04-07"], ["id", 6]]
D, [2020-04-07T21:37:42.481010 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.486072 #32536] DEBUG -- :   [1m[36mAssignment Load (4.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.487125 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.487951 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:42.488803 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.489407 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.494260 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:42.495026 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.495648 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.496434 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:42.497169 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.497778 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.498571 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:42.499395 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.499971 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.500772 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:42.501522 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.504158 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.509169 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:42.510013 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.510645 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.511882 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:42.512625 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.513302 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.518260 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:42.519035 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.519670 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.520453 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:42.521189 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.525857 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.526704 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:42.527420 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.527979 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.528744 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:42.529468 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.558535 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.559499 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:42.560249 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.560879 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.561594 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:42.586740 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.587468 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.588455 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:42.589245 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.606113 #32536] DEBUG -- :   [1m[35m (16.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.607156 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:42.607965 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.608591 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.609410 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:42.614245 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.615017 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:42.622613 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:42.622975 #32536]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-04-07T21:37:42.623061 #32536]  INFO -- : AssignmentTest: test_: Assignment should allow :start_date to be â€¹Tue, 18 Feb 2020â€º. 
I, [2020-04-07T21:37:42.623149 #32536]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-04-07T21:37:42.630572 #32536] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.631609 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.632441 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:42.638450 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:42.638791 #32536]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-07T21:37:42.638880 #32536]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_employee' that works. 
I, [2020-04-07T21:37:42.638951 #32536]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-07T21:37:42.639823 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.641226 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.647230 #32536] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5225373150"], ["active", 1]]
D, [2020-04-07T21:37:42.648648 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.657925 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.660178 #32536] DEBUG -- :   [1m[36mStore Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.661545 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:42.666648 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.667847 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.669161 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.671795 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7372815126"], ["active", 0]]
D, [2020-04-07T21:37:42.673095 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.678198 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.679795 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "056065399"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.681198 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "056065399"], ["date_of_birth", "2001-04-07"], ["phone", "0013596173"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:42.686714 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.690703 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.692176 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.693497 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "9131061191"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:42.699084 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.700449 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.705914 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "073355241"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.707355 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "073355241"], ["date_of_birth", "2004-04-07"], ["phone", "8909846208"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:42.708749 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.714187 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.715664 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "196733181"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.716977 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "196733181"], ["date_of_birth", "1994-04-07"], ["phone", "2693898723"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:42.725739 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.727276 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.728765 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.734299 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:42.735814 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.742544 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.744187 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.745541 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "4912046358"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:42.751123 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.752576 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.754047 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "032108477"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.755390 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "032108477"], ["date_of_birth", "2001-04-07"], ["phone", "2404991305"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:42.757878 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.759340 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.764975 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.766389 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.767640 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.769284 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.778998 #32536] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:42.780294 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.793117 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.798683 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.799941 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.805781 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.807665 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.808806 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:42.813835 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.815332 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.816641 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.817927 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.819088 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.820562 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.829783 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:42.831021 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.832483 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.833877 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.835108 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.836284 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.842322 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.843624 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:42.844765 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.850136 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.851650 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.852913 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.858228 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.859937 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.861122 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:42.866254 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.867675 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.871503 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.872843 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:42.878235 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.880055 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.881252 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:42.886410 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.887482 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 5)[0m
D, [2020-04-07T21:37:42.888371 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 6)[0m
D, [2020-04-07T21:37:42.891064 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.891992 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:42.892786 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.893472 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.898480 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:42.899313 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.899930 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.900720 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:42.901498 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.902184 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.902969 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:42.903704 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.904356 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.905129 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:42.914038 #32536] DEBUG -- :   [1m[35m (8.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.914791 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.915694 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:42.916479 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.917068 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.921549 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:42.922405 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.923052 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.923822 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:42.924563 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.925178 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.926003 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:42.926687 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.927298 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.928053 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:42.928790 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.929388 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.934458 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:42.935284 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.935879 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.936606 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:42.937379 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.938037 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.938821 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:42.939537 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.940175 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.940973 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:42.941700 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.942319 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.943081 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:42.943836 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.944429 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.945181 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:42.950043 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.950772 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:42.951908 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:42.952202 #32536]  INFO -- : ---------------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:42.952300 #32536]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all assignments for a given date. 
I, [2020-04-07T21:37:42.952364 #32536]  INFO -- : ---------------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:42.953208 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.954626 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.956066 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2372043329"], ["active", 1]]
D, [2020-04-07T21:37:42.957371 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.958350 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.959467 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.960691 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:42.966091 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.967158 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.968397 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.970068 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7892014856"], ["active", 0]]
D, [2020-04-07T21:37:42.971409 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.972678 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.974122 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "124832565"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.975484 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "124832565"], ["date_of_birth", "2001-04-07"], ["phone", "5522538930"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:42.976855 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.978098 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.979413 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.980683 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "6972200194"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:42.986115 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.987424 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.988866 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "046323746"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.990223 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "046323746"], ["date_of_birth", "2004-04-07"], ["phone", "2273308985"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:42.991554 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.992776 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:42.994030 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "004799892"], ["LIMIT", 1]]
D, [2020-04-07T21:37:42.995272 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "004799892"], ["date_of_birth", "1994-04-07"], ["phone", "0722840760"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:42.996565 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.002900 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.004460 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.005798 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:43.007183 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.008539 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.009846 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.011155 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "2273983560"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:43.012503 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.013886 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.015181 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "206592278"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.016451 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "206592278"], ["date_of_birth", "2001-04-07"], ["phone", "9784887805"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:43.017824 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.019152 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.020436 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.024690 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.025980 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.027583 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.028787 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:43.029993 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.031290 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.032517 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.033698 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.034825 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.036299 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.037417 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:43.038406 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.039635 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.040810 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.046027 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.047294 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.048897 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.050108 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:43.051143 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.052585 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.058004 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.059548 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.060741 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.062399 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.063612 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:43.064745 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.066119 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.067383 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.068598 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.069737 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.071284 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.072458 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:43.073467 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.079106 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.080555 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.081864 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.083023 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.084626 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.085847 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:43.086899 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.088088 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (start_date <= '2019-05-07' AND (end_date > '2019-05-07' OR end_date IS NULL))[0m
D, [2020-04-07T21:37:43.089086 #32536] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE (start_date <= '2019-05-07' AND (end_date > '2019-05-07' OR end_date IS NULL))[0m
D, [2020-04-07T21:37:43.090211 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.091432 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.092591 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.093574 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.098737 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:43.099582 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.100200 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.101016 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:43.101975 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.102643 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.103404 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:43.104104 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.104728 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.105507 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:43.106290 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.106945 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.107684 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:43.108466 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.109043 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.109841 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:43.110588 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.111199 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.112029 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:43.112795 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.113453 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.114436 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:43.115184 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.115883 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.116645 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:43.117469 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.118090 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.118903 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:43.119653 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.120263 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.121058 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:43.121847 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.122544 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.123360 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:43.124089 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.124712 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.125495 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:43.129504 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.130298 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.131148 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:43.131951 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.132626 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.133404 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:43.134260 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.134932 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.135679 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:43.136460 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.137240 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:43.138054 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:43.138351 #32536]  INFO -- : ----------------------------------------------------------------------------------------
I, [2020-04-07T21:37:43.138500 #32536]  INFO -- : AssignmentTest: test_: Assignment should validate that :store_id cannot be empty/falsy. 
I, [2020-04-07T21:37:43.138568 #32536]  INFO -- : ----------------------------------------------------------------------------------------
D, [2020-04-07T21:37:43.146599 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.147677 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.148505 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:43.149240 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:43.149585 #32536]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-04-07T21:37:43.149683 #32536]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_store' that works. 
I, [2020-04-07T21:37:43.149773 #32536]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-04-07T21:37:43.150600 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.151917 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.153402 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2684933610"], ["active", 1]]
D, [2020-04-07T21:37:43.158848 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.160005 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.161308 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.162654 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:43.163889 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.164919 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.166043 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.167289 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2835164944"], ["active", 0]]
D, [2020-04-07T21:37:43.168593 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.169812 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.171191 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "166224456"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.172608 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "166224456"], ["date_of_birth", "2001-04-07"], ["phone", "5370924606"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:43.178097 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.179615 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.181042 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.182532 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "0539282440"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:43.183897 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.185128 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.186412 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "331980100"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.187657 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "331980100"], ["date_of_birth", "2004-04-07"], ["phone", "8770649951"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:43.188983 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.190276 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.191491 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "364029602"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.192781 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "364029602"], ["date_of_birth", "1994-04-07"], ["phone", "1990531643"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:43.194086 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.195330 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.196627 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.198006 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:43.199384 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.200721 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.206190 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.207573 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "5749990259"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:43.209001 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.210442 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.211818 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "253900625"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.213044 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "253900625"], ["date_of_birth", "2001-04-07"], ["phone", "8500619991"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:43.214409 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.215742 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.217038 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.222635 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.223918 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.225537 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.226787 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:43.227876 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.229257 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.230518 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.231729 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.232926 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.234769 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.235949 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:43.237044 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.238448 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.239752 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.241038 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.246380 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.248183 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.249363 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:43.250522 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.251963 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.253332 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.254599 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.255763 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.257363 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.262739 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:43.263949 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.265359 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.266755 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.268008 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.269229 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.270925 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.272081 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:43.273134 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.274508 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.275915 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.277239 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.278520 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.280163 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.281434 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:43.286674 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.287819 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 1)[0m
D, [2020-04-07T21:37:43.288761 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 2)[0m
D, [2020-04-07T21:37:43.289462 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.290407 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:43.291244 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.291924 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.292758 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:43.293580 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.294283 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.295063 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:43.295896 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.296526 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.297315 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:43.302203 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.302927 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.303795 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:43.304589 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.305278 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.306150 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:43.306918 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.307615 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.308502 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:43.309330 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.309999 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.310807 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:43.311592 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.312197 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.312995 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:43.313831 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.314480 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.315316 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:43.316089 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.316748 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.317518 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:43.322295 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.322978 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.323839 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:43.324659 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.325308 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.326116 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:43.326904 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.327544 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.328399 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:43.329179 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.329880 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.330702 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:43.331474 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.332134 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.332899 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:43.333650 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.334379 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:43.335166 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:43.335512 #32536]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-07T21:37:43.335594 #32536]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹"bad"â€º. 
I, [2020-04-07T21:37:43.335664 #32536]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-07T21:37:43.343580 #32536] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.344673 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.345485 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:43.346276 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:43.346617 #32536]  INFO -- : ------------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:43.346719 #32536]  INFO -- : AssignmentTest: test_: Given context should allow for a end date in the past (or today) but after the start date. 
I, [2020-04-07T21:37:43.346786 #32536]  INFO -- : ------------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:43.347618 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.349020 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.354560 #32536] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6475144637"], ["active", 1]]
D, [2020-04-07T21:37:43.355999 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.357251 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.358590 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.359868 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:43.361196 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.362285 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.363445 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.364704 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5711929311"], ["active", 0]]
D, [2020-04-07T21:37:43.366035 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.367256 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.368668 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "313610780"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.374188 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "313610780"], ["date_of_birth", "2001-04-07"], ["phone", "2386081426"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:43.375798 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.377291 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.378795 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.380280 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "1870338721"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:43.393921 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.395539 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.397160 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "223862286"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.398510 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "223862286"], ["date_of_birth", "2004-04-07"], ["phone", "4434020942"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:43.399918 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.401322 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.402905 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "333411063"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.404290 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "333411063"], ["date_of_birth", "1994-04-07"], ["phone", "6646464322"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:43.409776 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.411345 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.412795 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.414261 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:43.415686 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.416983 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.418315 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.419599 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "1227774995"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:43.420968 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.422258 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.423527 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "133908248"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.424814 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "133908248"], ["date_of_birth", "2001-04-07"], ["phone", "4122668164"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:43.426596 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.427957 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.429267 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.430548 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.431720 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.433330 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.438725 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:43.439872 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.441277 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.442679 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.443996 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.445235 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.451034 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.452280 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:43.453342 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.454771 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.456028 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.457304 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.458582 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.460232 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.461380 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:43.462511 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.463941 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.465229 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.466523 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.467703 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.469253 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.474610 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:43.475849 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.477306 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.478654 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.479955 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.481186 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.482861 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.484015 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:43.485149 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.490684 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.492075 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.493367 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.494608 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.496156 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.497327 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:43.498291 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.500270 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.501445 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.507622 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.508762 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.510007 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.511089 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:43.511887 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.512505 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.513301 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:43.514044 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.514670 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.515442 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:43.516176 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.516814 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.517590 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:43.518363 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.518966 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.519704 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:43.520466 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.521121 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.526017 #32536] DEBUG -- :   [1m[36mAssignment Destroy (4.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:43.526804 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.527471 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.528313 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:43.529096 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.529720 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.530505 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:43.531236 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.531918 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.532649 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:43.533384 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.534942 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.535688 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:43.536391 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.537039 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.541889 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:43.542723 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.543400 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.544186 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:43.544936 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.545510 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.550373 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:43.551149 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.551823 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.552647 #32536] DEBUG -- :   [1m[36mStore Destroy (0.2ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:43.553408 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.554052 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.554847 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:43.555558 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.556149 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.556932 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:43.561762 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.562533 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:43.563683 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:43.564005 #32536]  INFO -- : ------------------------------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:37:43.564082 #32536]  INFO -- : AssignmentTest: test_: Given context should end the current assignment if it exists before adding a new assignment for an employee. 
I, [2020-04-07T21:37:43.564147 #32536]  INFO -- : ------------------------------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:37:43.564996 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.566404 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.567765 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8117102337"], ["active", 1]]
D, [2020-04-07T21:37:43.569164 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.574316 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.575570 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.576759 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:37:43.578149 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.579210 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.580271 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.581493 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2262635453"], ["active", 0]]
D, [2020-04-07T21:37:43.586560 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.587779 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.589274 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "062652426"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.590703 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "062652426"], ["date_of_birth", "2001-04-07"], ["phone", "0820935096"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:43.592082 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.593283 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.598813 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.600122 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "1257020228"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:43.601530 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.602853 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.604113 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "105525156"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.605344 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "105525156"], ["date_of_birth", "2004-04-07"], ["phone", "7999163077"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:43.611000 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.612424 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.613828 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "177402038"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.615196 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "177402038"], ["date_of_birth", "1994-04-07"], ["phone", "0123998128"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:37:43.616551 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.621898 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.623297 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.624681 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:43.626162 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.627554 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.628832 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.634191 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "1404624295"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:37:43.635597 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.636944 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.638350 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "081942670"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.639683 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "081942670"], ["date_of_birth", "2001-04-07"], ["phone", "1869077457"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:37:43.641058 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.646404 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.647857 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.649193 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.650426 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.651938 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.653182 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:37:43.658437 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.659877 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.661214 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.662528 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.663662 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.665293 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.670529 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:43.671660 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.673072 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.674438 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.675687 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.676864 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.682617 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.683771 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:37:43.684898 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.686378 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.687747 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.688982 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.694302 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.695939 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.697138 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:37:43.698349 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.699685 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.700984 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.706191 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.707436 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.709086 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.710298 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:37:43.711373 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.712761 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.713985 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.715248 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.716414 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.717975 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.719126 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:37:43.720095 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.721285 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.726692 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.727950 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.729153 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.730711 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.731849 #32536] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.733316 #32536] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2020-04-06"], ["id", 6]]
D, [2020-04-07T21:37:43.734569 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2020-04-06"]]
D, [2020-04-07T21:37:43.735589 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.736876 #32536] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.741903 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.742852 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:43.743690 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.744320 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.745089 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:43.745931 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.746531 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.747364 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:43.748117 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.748776 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.749596 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:43.750376 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.751030 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.751806 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:43.752492 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.753144 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.753907 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:43.754696 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.755329 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.756079 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:43.756845 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.757469 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.762371 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:43.763224 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.763847 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.764654 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:43.765407 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.766034 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.766822 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:43.767517 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.768086 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.768860 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:37:43.769598 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.770269 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.771040 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:37:43.771749 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.772389 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.773126 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:37:43.777890 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.778529 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.779333 #32536] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:37:43.780135 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.780767 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.781563 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:43.782353 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.782948 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.783667 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:37:43.784408 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.785034 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.785848 #32536] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:37:43.786584 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.787263 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:43.788848 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:43.789174 #32536]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:37:43.789260 #32536]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-07T21:37:43.789327 #32536]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:37:43.790209 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.791518 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.793006 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8551828944"], ["active", 1]]
D, [2020-04-07T21:37:43.798494 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.799806 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.801287 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "054421438"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.802689 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "054421438"], ["date_of_birth", "2001-04-07"], ["phone", "5274603213"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:43.804072 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.805365 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.806627 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.807789 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.808948 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.810499 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.811765 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:37:43.812795 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.813952 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-07T21:37:43.815163 #32536]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-07 21:37:43 +0000
I, [2020-04-07T21:37:43.825803 #32536]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-07T21:37:43.826100 #32536]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-07T21:37:43.827551 #32536] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.828628 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.829676 #32536] DEBUG -- :   [1m[36mAssignment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:37:43.830620 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:43.831518 #32536]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-07T21:37:43.832436 #32536]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
D, [2020-04-07T21:37:43.841138 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-07T21:37:43.843116 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:43.844356 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:43.844714 #32536]  INFO -- : ----------------------------------------------
I, [2020-04-07T21:37:43.844791 #32536]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-07T21:37:43.844852 #32536]  INFO -- : ----------------------------------------------
D, [2020-04-07T21:37:43.845817 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.847597 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.849731 #32536] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1747848022"], ["active", 1]]
D, [2020-04-07T21:37:43.851206 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.852753 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.858771 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "320212820"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.860413 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "320212820"], ["date_of_birth", "2001-04-07"], ["phone", "7071746281"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:43.862033 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.863565 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.864924 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.866206 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.867465 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.869170 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.874646 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:37:43.875847 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:43.877188 #32536]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-07 21:37:43 +0000
I, [2020-04-07T21:37:43.878401 #32536]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-07T21:37:43.882404 #32536]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-07T21:37:43.914174 #32536] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
D, [2020-04-07T21:37:43.924970 #32536] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
I, [2020-04-07T21:37:43.932234 #32536]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (49.4ms)
I, [2020-04-07T21:37:43.938916 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-07T21:37:43.939619 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-07T21:37:43.940369 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:43.941175 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:37:43.942376 #32536]  INFO -- : Completed 200 OK in 64ms (Views: 60.1ms | ActiveRecord: 0.5ms)
D, [2020-04-07T21:37:43.947101 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:43.947947 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:43.948314 #32536]  INFO -- : -----------------------------------------------------------
I, [2020-04-07T21:37:43.948408 #32536]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-07T21:37:43.948479 #32536]  INFO -- : -----------------------------------------------------------
D, [2020-04-07T21:37:43.949496 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.951244 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.952782 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4941721000"], ["active", 1]]
D, [2020-04-07T21:37:43.954436 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.955835 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.957386 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "143407373"], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.962945 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "143407373"], ["date_of_birth", "2001-04-07"], ["phone", "9224660848"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:43.964591 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.966100 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:43.967504 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.968662 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:43.969974 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.971721 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:43.973080 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:37:43.978266 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:43.979629 #32536]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-07 21:37:43 +0000
F, [2020-04-07T21:37:44.009423 #32536] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:40:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-07T21:37:44.018114 #32536] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.021177 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.022278 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.022630 #32536]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-07T21:37:44.022743 #32536]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-07T21:37:44.022814 #32536]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-07T21:37:44.023800 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.025338 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.030977 #32536] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9605039230"], ["active", 1]]
D, [2020-04-07T21:37:44.032467 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.033958 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.035541 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "188401696"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.037062 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "188401696"], ["date_of_birth", "2001-04-07"], ["phone", "8648512055"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.038572 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.039919 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.041268 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.042519 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.043710 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.045348 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.050774 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:37:44.051952 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.053485 #32536]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.054612 #32536]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-07T21:37:44.054950 #32536]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-06", "end_date"=>nil}}
D, [2020-04-07T21:37:44.056173 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.057591 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.060333 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.061722 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.063287 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.064348 #32536]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-07T21:37:44.070529 #32536] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
D, [2020-04-07T21:37:44.073269 #32536] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
I, [2020-04-07T21:37:44.077052 #32536]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (12.4ms)
I, [2020-04-07T21:37:44.079237 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:37:44.079884 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-07T21:37:44.080528 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:44.081284 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:37:44.086502 #32536]  INFO -- : Completed 200 OK in 31ms (Views: 17.4ms | ActiveRecord: 0.7ms)
D, [2020-04-07T21:37:44.092712 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.093519 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.093941 #32536]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-07T21:37:44.094027 #32536]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-07T21:37:44.094095 #32536]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-07T21:37:44.095121 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.096670 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.098227 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9518268074"], ["active", 1]]
D, [2020-04-07T21:37:44.099617 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.100836 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.104878 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "217686350"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.106344 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "217686350"], ["date_of_birth", "2001-04-07"], ["phone", "2256786081"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.107765 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.109100 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.114515 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.115705 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.116934 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.122723 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.124064 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:37:44.125199 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.126238 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-07T21:37:44.127591 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.129052 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "256512922"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.134665 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "256512922"], ["date_of_birth", "2001-04-07"], ["phone", "8175361022"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.136166 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.137553 #32536]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.138619 #32536]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-07T21:37:44.138928 #32536]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-06", "end_date"=>nil}}
D, [2020-04-07T21:37:44.140063 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.141490 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.143089 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.144713 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.150080 #32536] DEBUG -- :   [1m[36mStore Load (4.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.151362 #32536] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.153173 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.158717 #32536] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-04-06"]]
D, [2020-04-07T21:37:44.159920 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.160887 #32536]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-07T21:37:44.161976 #32536]  INFO -- : Completed 302 Found in 23ms (ActiveRecord: 4.7ms)
D, [2020-04-07T21:37:44.173036 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-07T21:37:44.174034 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.174834 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.175124 #32536]  INFO -- : ------------------------------------------------
I, [2020-04-07T21:37:44.175207 #32536]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-07T21:37:44.175315 #32536]  INFO -- : ------------------------------------------------
D, [2020-04-07T21:37:44.176186 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.177632 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.183097 #32536] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8235818186"], ["active", 1]]
D, [2020-04-07T21:37:44.184589 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.185917 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.187440 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "109468966"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.188778 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "109468966"], ["date_of_birth", "2001-04-07"], ["phone", "6296397280"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.194329 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.195783 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.197172 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.202401 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.203661 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.205292 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.206641 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:37:44.207664 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.208885 #32536]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.209889 #32536]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-07T21:37:44.213182 #32536]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-07T21:37:44.214890 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL)[0m
D, [2020-04-07T21:37:44.216067 #32536] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-07T21:37:44.217552 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.219273 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.221111 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL)[0m
I, [2020-04-07T21:37:44.225920 #32536]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (8.3ms)
I, [2020-04-07T21:37:44.228038 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:37:44.228641 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-07T21:37:44.229346 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:44.230096 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-07T21:37:44.231179 #32536]  INFO -- : Completed 200 OK in 21ms (Views: 17.3ms | ActiveRecord: 0.5ms)
D, [2020-04-07T21:37:44.236420 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.238079 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.238409 #32536]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-07T21:37:44.238484 #32536]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-07T21:37:44.238547 #32536]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-07T21:37:44.239487 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.240923 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.246506 #32536] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5247474963"], ["active", 1]]
D, [2020-04-07T21:37:44.247960 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.249313 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.250938 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "219944912"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.252425 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "219944912"], ["date_of_birth", "2001-04-07"], ["phone", "3744706675"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.253874 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.255143 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.256422 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.257581 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.258771 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.260379 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.261599 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:37:44.266799 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.268096 #32536]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
F, [2020-04-07T21:37:44.291188 #32536] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:56:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-07T21:37:44.295375 #32536]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
F, [2020-04-07T21:37:44.304029 #32536] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:58:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-07T21:37:44.310947 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.312247 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.312555 #32536]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-07T21:37:44.312633 #32536]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-07T21:37:44.312698 #32536]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-07T21:37:44.313945 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.315668 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "009638893"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.317266 #32536] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "009638893"], ["date_of_birth", "2001-04-07"], ["phone", "4525977029"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.318763 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.319924 #32536]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
F, [2020-04-07T21:37:44.350825 #32536] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-07T21:37:44.354557 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.358132 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.358494 #32536]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-07T21:37:44.358573 #32536]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-07T21:37:44.358638 #32536]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-07T21:37:44.359836 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.361437 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "069807111"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.363079 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "069807111"], ["date_of_birth", "2001-04-07"], ["phone", "2799866861"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.364538 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.369991 #32536]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.371386 #32536]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-07T21:37:44.371727 #32536]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-07", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-07T21:37:44.372737 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.374233 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.376829 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.378882 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.382032 #32536]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-07T21:37:44.403814 #32536]  INFO -- :   Rendered employees/_form.html.erb (17.7ms)
I, [2020-04-07T21:37:44.404248 #32536]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (21.9ms)
I, [2020-04-07T21:37:44.410389 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:37:44.411056 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-07T21:37:44.411678 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:44.412393 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:37:44.413724 #32536]  INFO -- : Completed 200 OK in 42ms (Views: 33.3ms | ActiveRecord: 0.5ms)
D, [2020-04-07T21:37:44.419430 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.420186 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.420487 #32536]  INFO -- : ---------------------------------------------
I, [2020-04-07T21:37:44.420560 #32536]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-07T21:37:44.420622 #32536]  INFO -- : ---------------------------------------------
D, [2020-04-07T21:37:44.421822 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.423446 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "378808832"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.424945 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "378808832"], ["date_of_birth", "2001-04-07"], ["phone", "9301090542"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.430593 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.431905 #32536]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.432975 #32536]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-07T21:37:44.433303 #32536]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-07T21:37:44.434243 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-07T21:37:44.435711 #32536]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-07T21:37:44.442619 #32536]  INFO -- :   Rendered employees/_form.html.erb (6.5ms)
I, [2020-04-07T21:37:44.443054 #32536]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.0ms)
I, [2020-04-07T21:37:44.445143 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:37:44.449817 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:37:44.450459 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:44.451137 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:37:44.452215 #32536]  INFO -- : Completed 200 OK in 19ms (Views: 16.2ms | ActiveRecord: 0.1ms)
D, [2020-04-07T21:37:44.456658 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.457404 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.457727 #32536]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-07T21:37:44.457827 #32536]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-07T21:37:44.457897 #32536]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-07T21:37:44.458995 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.460587 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "260436316"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.462188 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "260436316"], ["date_of_birth", "2001-04-07"], ["phone", "4136858835"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.463766 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.465080 #32536]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.470378 #32536]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-07T21:37:44.470729 #32536]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-07", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-07T21:37:44.471716 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.473151 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.475266 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.477077 #32536] DEBUG -- :   [1m[36mEmployee Update (0.2ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-07"], ["id", 1]]
D, [2020-04-07T21:37:44.478798 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.479840 #32536]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-07T21:37:44.481087 #32536]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-07T21:37:44.489946 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.490721 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.491025 #32536]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-07T21:37:44.491099 #32536]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-07T21:37:44.491196 #32536]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-07T21:37:44.492321 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.493932 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "306812166"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.495450 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "306812166"], ["date_of_birth", "2001-04-07"], ["phone", "9761485966"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.496846 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.497801 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-07T21:37:44.499266 #32536]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.500369 #32536]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-07T21:37:44.500675 #32536]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-07", "role"=>"employee", "active"=>"true"}}
D, [2020-04-07T21:37:44.505964 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.507647 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.509121 #32536] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-07"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.510551 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.511537 #32536]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-07T21:37:44.512781 #32536]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
D, [2020-04-07T21:37:44.522328 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-07T21:37:44.523428 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:44.524516 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.525266 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.525545 #32536]  INFO -- : ----------------------------------------------
I, [2020-04-07T21:37:44.525635 #32536]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-07T21:37:44.525722 #32536]  INFO -- : ----------------------------------------------
D, [2020-04-07T21:37:44.526788 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.528249 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "140043031"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.533848 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "140043031"], ["date_of_birth", "2001-04-07"], ["phone", "8840013742"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.535431 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.536613 #32536]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.537676 #32536]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-07T21:37:44.542384 #32536]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-07T21:37:44.544528 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'manager') AND "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.545917 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'employee') AND "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.547278 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'employee') AND "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-07T21:37:44.565094 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.566910 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
I, [2020-04-07T21:37:44.567888 #32536]  INFO -- :   Rendered employees/index.html.erb within layouts/application (25.1ms)
I, [2020-04-07T21:37:44.570079 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:37:44.570712 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:37:44.571508 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.3ms)
I, [2020-04-07T21:37:44.572261 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:37:44.573278 #32536]  INFO -- : Completed 200 OK in 35ms (Views: 29.8ms | ActiveRecord: 0.9ms)
D, [2020-04-07T21:37:44.582954 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.586683 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.587041 #32536]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-07T21:37:44.587124 #32536]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-07T21:37:44.587192 #32536]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-07T21:37:44.588404 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.594769 #32536] DEBUG -- :   [1m[36mEmployee Exists (4.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "167036242"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.596567 #32536] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "167036242"], ["date_of_birth", "2001-04-07"], ["phone", "7258483202"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.598105 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.599701 #32536]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.600764 #32536]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-07T21:37:44.601106 #32536]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-07", "role"=>"employee", "active"=>"true"}}
D, [2020-04-07T21:37:44.602433 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.604602 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.606176 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.608369 #32536]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-07T21:37:44.616749 #32536]  INFO -- :   Rendered employees/_form.html.erb (7.5ms)
I, [2020-04-07T21:37:44.617230 #32536]  INFO -- :   Rendered employees/new.html.erb within layouts/application (8.5ms)
I, [2020-04-07T21:37:44.623821 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.5ms)
I, [2020-04-07T21:37:44.624491 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:37:44.625155 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:44.625867 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-07T21:37:44.627187 #32536]  INFO -- : Completed 200 OK in 26ms (Views: 19.5ms | ActiveRecord: 0.3ms)
D, [2020-04-07T21:37:44.636151 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.636999 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.637353 #32536]  INFO -- : --------------------------------------------
I, [2020-04-07T21:37:44.637433 #32536]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-07T21:37:44.637499 #32536]  INFO -- : --------------------------------------------
D, [2020-04-07T21:37:44.639128 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.640748 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091868772"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.642214 #32536] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "091868772"], ["date_of_birth", "2001-04-07"], ["phone", "9645946841"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.643589 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.644693 #32536]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.645730 #32536]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-07T21:37:44.646839 #32536]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-07T21:37:44.655806 #32536]  INFO -- :   Rendered employees/_form.html.erb (8.4ms)
I, [2020-04-07T21:37:44.656296 #32536]  INFO -- :   Rendered employees/new.html.erb within layouts/application (9.2ms)
I, [2020-04-07T21:37:44.658387 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:37:44.659056 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-07T21:37:44.659693 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:44.660438 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:37:44.661494 #32536]  INFO -- : Completed 200 OK in 15ms (Views: 14.3ms | ActiveRecord: 0.0ms)
D, [2020-04-07T21:37:44.665412 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.670267 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.670644 #32536]  INFO -- : --------------------------------------------------
I, [2020-04-07T21:37:44.670724 #32536]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-07T21:37:44.670788 #32536]  INFO -- : --------------------------------------------------
D, [2020-04-07T21:37:44.671948 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.673530 #32536] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "277474575"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.675620 #32536] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "277474575"], ["date_of_birth", "2001-04-07"], ["phone", "2650405836"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:37:44.677128 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.678337 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.679781 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.681242 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6500201175"], ["active", 1]]
D, [2020-04-07T21:37:44.687021 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.688613 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.690110 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.691353 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.692630 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.694300 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.695529 #32536] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:37:44.696656 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.701979 #32536]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.702963 #32536]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-07T21:37:44.703306 #32536]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-07T21:37:44.704190 #32536] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.706121 #32536] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.707492 #32536] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.709235 #32536] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
I, [2020-04-07T21:37:44.711779 #32536]  INFO -- :   Rendering employees/show.html.erb within layouts/application
D, [2020-04-07T21:37:44.713529 #32536] DEBUG -- :   [1m[36mCACHE Assignment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.714736 #32536] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.716027 #32536] DEBUG -- :   [1m[36mCACHE Assignment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.717184 #32536] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.718719 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.720091 #32536] DEBUG -- :   [1m[36mCACHE Assignment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.721229 #32536] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.726882 #32536] DEBUG -- :   [1m[36mCACHE Assignment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.728241 #32536] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
I, [2020-04-07T21:37:44.729581 #32536]  INFO -- :   Rendered employees/show.html.erb within layouts/application (17.4ms)
I, [2020-04-07T21:37:44.731846 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:37:44.732410 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:37:44.733060 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:44.733776 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-07T21:37:44.734876 #32536]  INFO -- : Completed 200 OK in 31ms (Views: 22.6ms | ActiveRecord: 0.7ms)
D, [2020-04-07T21:37:44.748633 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.750465 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.750825 #32536]  INFO -- : ---------------------------------------------------------------
I, [2020-04-07T21:37:44.750906 #32536]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-07T21:37:44.750974 #32536]  INFO -- : ---------------------------------------------------------------
D, [2020-04-07T21:37:44.752002 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.753467 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.755061 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4459432380"], ["active", 1]]
D, [2020-04-07T21:37:44.756566 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.757878 #32536]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.759133 #32536]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-07T21:37:44.759482 #32536]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-07T21:37:44.760459 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.761900 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.763666 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.765294 #32536] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-07T21:37:44.770706 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.771770 #32536]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-07T21:37:44.772791 #32536]  INFO -- : Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
D, [2020-04-07T21:37:44.778491 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.782544 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.782922 #32536]  INFO -- : ---------------------------------------------------------------
I, [2020-04-07T21:37:44.783009 #32536]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-07T21:37:44.783078 #32536]  INFO -- : ---------------------------------------------------------------
D, [2020-04-07T21:37:44.784080 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.785488 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.787061 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1726532912"], ["active", 1]]
D, [2020-04-07T21:37:44.788551 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.789541 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-07T21:37:44.790896 #32536]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.791995 #32536]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-07T21:37:44.792325 #32536]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-07T21:37:44.793567 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.799027 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.800609 #32536] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-07T21:37:44.802190 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.803192 #32536]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-07T21:37:44.804409 #32536]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
D, [2020-04-07T21:37:44.813672 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-07T21:37:44.814757 #32536] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:44.815877 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.816626 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.816949 #32536]  INFO -- : -------------------------------------------
I, [2020-04-07T21:37:44.817029 #32536]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-07T21:37:44.817097 #32536]  INFO -- : -------------------------------------------
D, [2020-04-07T21:37:44.818439 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.819763 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.821281 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8154597777"], ["active", 1]]
D, [2020-04-07T21:37:44.822856 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.824073 #32536]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.825115 #32536]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-07T21:37:44.829028 #32536]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-07T21:37:44.830849 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:37:44.832150 #32536] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-07T21:37:44.833968 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
I, [2020-04-07T21:37:44.834888 #32536]  INFO -- :   Rendered stores/index.html.erb within layouts/application (5.5ms)
I, [2020-04-07T21:37:44.836978 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:37:44.837609 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-07T21:37:44.842367 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:44.843124 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:37:44.844285 #32536]  INFO -- : Completed 200 OK in 19ms (Views: 15.2ms | ActiveRecord: 0.4ms)
D, [2020-04-07T21:37:44.849050 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.850407 #32536] DEBUG -- :   [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.850772 #32536]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:37:44.850852 #32536]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-07T21:37:44.850983 #32536]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:37:44.851901 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.853468 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.855273 #32536] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7214971391"], ["active", 1]]
D, [2020-04-07T21:37:44.856756 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.857896 #32536]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
F, [2020-04-07T21:37:44.876931 #32536] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-07T21:37:44.884557 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.885815 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.886176 #32536]  INFO -- : ------------------------------------------
I, [2020-04-07T21:37:44.886259 #32536]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-07T21:37:44.886336 #32536]  INFO -- : ------------------------------------------
D, [2020-04-07T21:37:44.887268 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.888678 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.890184 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2523398853"], ["active", 1]]
D, [2020-04-07T21:37:44.891756 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.892919 #32536]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.893933 #32536]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-07T21:37:44.894211 #32536]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-07T21:37:44.895114 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-07T21:37:44.897800 #32536]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-07T21:37:44.911308 #32536]  INFO -- :   Rendered stores/_form.html.erb (11.6ms)
I, [2020-04-07T21:37:44.911760 #32536]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (13.6ms)
I, [2020-04-07T21:37:44.913918 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:37:44.914582 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:37:44.915332 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:44.915969 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:37:44.917134 #32536]  INFO -- : Completed 200 OK in 23ms (Views: 19.1ms | ActiveRecord: 0.1ms)
D, [2020-04-07T21:37:44.921390 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.922623 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.922901 #32536]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-07T21:37:44.923025 #32536]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-07T21:37:44.923089 #32536]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-07T21:37:44.923923 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.925294 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.926696 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8157830758"], ["active", 1]]
D, [2020-04-07T21:37:44.927938 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.929135 #32536]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.934119 #32536]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-07T21:37:44.934421 #32536]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-07T21:37:44.935599 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.937441 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:37:44.938983 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.946132 #32536]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-07T21:37:44.954614 #32536]  INFO -- :   Rendered stores/_form.html.erb (7.6ms)
I, [2020-04-07T21:37:44.955003 #32536]  INFO -- :   Rendered stores/new.html.erb within layouts/application (8.6ms)
I, [2020-04-07T21:37:44.957049 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:37:44.957714 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:37:44.958378 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:44.959014 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:37:44.960321 #32536]  INFO -- : Completed 200 OK in 26ms (Views: 19.8ms | ActiveRecord: 0.2ms)
D, [2020-04-07T21:37:44.965087 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:44.966187 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:44.966500 #32536]  INFO -- : --------------------------------------------
I, [2020-04-07T21:37:44.966577 #32536]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-07T21:37:44.966637 #32536]  INFO -- : --------------------------------------------
D, [2020-04-07T21:37:44.967460 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:44.968747 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.970149 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3593193732"], ["active", 1]]
D, [2020-04-07T21:37:44.971674 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:44.972914 #32536]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-07 21:37:44 +0000
I, [2020-04-07T21:37:44.977916 #32536]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-07T21:37:44.978254 #32536]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-07T21:37:44.979180 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:44.981199 #32536] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (store_id = 1) AND (role = 'manager')[0m
D, [2020-04-07T21:37:44.982326 #32536] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 1)[0m
I, [2020-04-07T21:37:44.984680 #32536]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-07T21:37:44.986329 #32536]  INFO -- :   Rendered stores/show.html.erb within layouts/application (1.3ms)
I, [2020-04-07T21:37:44.988653 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:37:44.989308 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-07T21:37:44.990030 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:44.990757 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:37:44.991827 #32536]  INFO -- : Completed 200 OK in 13ms (Views: 6.9ms | ActiveRecord: 0.4ms)
D, [2020-04-07T21:37:44.996515 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:45.003360 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:45.003717 #32536]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-07T21:37:45.003798 #32536]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-07T21:37:45.003867 #32536]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-07T21:37:45.004768 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:45.006202 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:45.007630 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3126267729"], ["active", 1]]
D, [2020-04-07T21:37:45.009103 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:45.010424 #32536]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-07 21:37:45 +0000
I, [2020-04-07T21:37:45.011624 #32536]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-07T21:37:45.011959 #32536]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-07T21:37:45.012808 #32536] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:45.015698 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:45.017842 #32536] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:37:45.019929 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:45.020982 #32536]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-07T21:37:45.029042 #32536]  INFO -- :   Rendered stores/_form.html.erb (7.5ms)
I, [2020-04-07T21:37:45.029433 #32536]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (8.1ms)
I, [2020-04-07T21:37:45.035588 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:37:45.036224 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:37:45.036877 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:45.037561 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:37:45.038910 #32536]  INFO -- : Completed 200 OK in 27ms (Views: 17.5ms | ActiveRecord: 0.3ms)
D, [2020-04-07T21:37:45.044494 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:37:45.045543 #32536] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:37:45.045851 #32536]  INFO -- : -----------------------------------------
I, [2020-04-07T21:37:45.045948 #32536]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-07T21:37:45.046012 #32536]  INFO -- : -----------------------------------------
D, [2020-04-07T21:37:45.046967 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:37:45.048412 #32536] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:37:45.053953 #32536] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9175537694"], ["active", 1]]
D, [2020-04-07T21:37:45.055667 #32536] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:37:45.056971 #32536]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-07 21:37:45 +0000
I, [2020-04-07T21:37:45.058099 #32536]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-07T21:37:45.059383 #32536]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-07T21:37:45.077971 #32536]  INFO -- :   Rendered stores/_form.html.erb (18.1ms)
I, [2020-04-07T21:37:45.078515 #32536]  INFO -- :   Rendered stores/new.html.erb within layouts/application (18.8ms)
I, [2020-04-07T21:37:45.080676 #32536]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:37:45.081351 #32536]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-07T21:37:45.081990 #32536]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:37:45.082655 #32536]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:37:45.083658 #32536]  INFO -- : Completed 200 OK in 25ms (Views: 24.1ms | ActiveRecord: 0.0ms)
D, [2020-04-07T21:37:45.091015 #32536] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:00.143672 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-07T21:40:00.469569 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:00.469947 #32761]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:40:00.469986 #32761]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-07T21:40:00.470009 #32761]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:40:00.772438 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:00.778052 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:00.779477 #32761] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7117877805"], ["active", 1]]
D, [2020-04-07T21:40:00.780515 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:00.794607 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:00.802633 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "202403464"], ["LIMIT", 1]]
D, [2020-04-07T21:40:00.803924 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "202403464"], ["date_of_birth", "2001-04-07"], ["phone", "7351097906"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:00.805018 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:00.824573 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:00.826088 #32761] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:00.830566 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:00.831824 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:00.843044 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:00.844072 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:40:00.844845 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:00.845550 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-07T21:40:00.848942 #32761]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-07 21:40:00 +0000
I, [2020-04-07T21:40:00.865020 #32761]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-07T21:40:00.865332 #32761]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-07T21:40:00.874202 #32761] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:00.875274 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:00.876211 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:00.877049 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:00.877911 #32761]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-07T21:40:00.878746 #32761]  INFO -- : Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
D, [2020-04-07T21:40:00.891684 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-07T21:40:00.894539 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:00.897950 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:00.898257 #32761]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-07T21:40:00.898335 #32761]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-07T21:40:00.898394 #32761]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-07T21:40:00.899250 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:00.900606 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:00.906012 #32761] DEBUG -- :   [1m[36mStore Create (4.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6699993757"], ["active", 1]]
D, [2020-04-07T21:40:00.907220 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:00.908436 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:00.913909 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "010023295"], ["LIMIT", 1]]
D, [2020-04-07T21:40:00.915279 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "010023295"], ["date_of_birth", "2001-04-07"], ["phone", "6109090357"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:00.916489 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:00.917813 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:00.919037 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:00.920086 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:00.921120 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:00.922580 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:00.923652 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:40:00.924566 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:00.929859 #32761]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-07 21:40:00 +0000
I, [2020-04-07T21:40:00.930870 #32761]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-07T21:40:00.931139 #32761]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-06", "end_date"=>nil}}
D, [2020-04-07T21:40:00.932234 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:00.933816 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:00.936308 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:00.937427 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:00.942693 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:00.949825 #32761]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-07T21:40:00.982493 #32761] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
D, [2020-04-07T21:40:00.987823 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
I, [2020-04-07T21:40:00.992623 #32761]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (42.4ms)
I, [2020-04-07T21:40:01.395164 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (1.0ms)
I, [2020-04-07T21:40:01.397755 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.4ms)
I, [2020-04-07T21:40:01.403521 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (1.0ms)
I, [2020-04-07T21:40:01.405366 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.7ms)
I, [2020-04-07T21:40:01.407536 #32761]  INFO -- : Completed 200 OK in 476ms (Views: 462.5ms | ActiveRecord: 0.7ms)
D, [2020-04-07T21:40:01.423191 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:01.425083 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:01.425388 #32761]  INFO -- : -----------------------------------------------------------
I, [2020-04-07T21:40:01.425477 #32761]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-07T21:40:01.426645 #32761]  INFO -- : -----------------------------------------------------------
D, [2020-04-07T21:40:01.428562 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.432166 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.438221 #32761] DEBUG -- :   [1m[36mStore Create (4.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9498014132"], ["active", 1]]
D, [2020-04-07T21:40:01.442626 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.446075 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.448725 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "117374621"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.452270 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "117374621"], ["date_of_birth", "2001-04-07"], ["phone", "0565733763"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:01.461888 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.469710 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.472658 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:01.477823 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:01.479672 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.483388 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.486250 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:40:01.488227 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:01.494168 #32761]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-07 21:40:01 +0000
F, [2020-04-07T21:40:01.530833 #32761] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:40:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-07T21:40:01.535456 #32761] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.536943 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:01.538026 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:01.538372 #32761]  INFO -- : ------------------------------------------------
I, [2020-04-07T21:40:01.538450 #32761]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-07T21:40:01.538508 #32761]  INFO -- : ------------------------------------------------
D, [2020-04-07T21:40:01.539463 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.540927 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.546653 #32761] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5234962655"], ["active", 1]]
D, [2020-04-07T21:40:01.548348 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.549865 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.551484 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "303743823"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.552976 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "303743823"], ["date_of_birth", "2001-04-07"], ["phone", "5185465985"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:01.554540 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.555879 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.557199 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:01.562754 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:01.564021 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.565771 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.567183 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:40:01.568403 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:01.569780 #32761]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-07 21:40:01 +0000
I, [2020-04-07T21:40:01.570878 #32761]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-07T21:40:01.573008 #32761]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-07T21:40:01.574761 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL)[0m
D, [2020-04-07T21:40:01.575888 #32761] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) LIMIT ? OFFSET ?[0m  [["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-07T21:40:01.577960 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.579710 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.581609 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL)[0m
I, [2020-04-07T21:40:01.582425 #32761]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (9.0ms)
I, [2020-04-07T21:40:01.584551 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:40:01.585202 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-07T21:40:01.589955 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:40:01.590743 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-07T21:40:01.593311 #32761]  INFO -- : Completed 200 OK in 22ms (Views: 18.1ms | ActiveRecord: 0.4ms)
D, [2020-04-07T21:40:01.620585 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:01.626114 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:01.626455 #32761]  INFO -- : ----------------------------------------------
I, [2020-04-07T21:40:01.626534 #32761]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-07T21:40:01.626613 #32761]  INFO -- : ----------------------------------------------
D, [2020-04-07T21:40:01.628611 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.630618 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.635889 #32761] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3098998333"], ["active", 1]]
D, [2020-04-07T21:40:01.646203 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.648764 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.650942 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "325769710"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.653029 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "325769710"], ["date_of_birth", "2001-04-07"], ["phone", "5432404178"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:01.659722 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.661749 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.663781 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:01.665570 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:01.667075 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.669567 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.678215 #32761] DEBUG -- :   [1m[36mAssignment Create (5.6ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:40:01.683198 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:01.689804 #32761]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-07 21:40:01 +0000
I, [2020-04-07T21:40:01.693428 #32761]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-07T21:40:01.695530 #32761]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-07T21:40:01.703150 #32761] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
D, [2020-04-07T21:40:01.714854 #32761] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
I, [2020-04-07T21:40:01.725274 #32761]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (29.3ms)
I, [2020-04-07T21:40:01.734841 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (1.7ms)
I, [2020-04-07T21:40:01.737092 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:40:01.738625 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:40:01.740045 #32761]  INFO -- :   Rendered partials/_footer.html.erb (1.0ms)
I, [2020-04-07T21:40:01.742213 #32761]  INFO -- : Completed 200 OK in 48ms (Views: 46.5ms | ActiveRecord: 0.4ms)
D, [2020-04-07T21:40:01.750704 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:01.756370 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:01.756835 #32761]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-07T21:40:01.756915 #32761]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-07T21:40:01.756978 #32761]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-07T21:40:01.758016 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.759679 #32761] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.761484 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1610211606"], ["active", 1]]
D, [2020-04-07T21:40:01.763250 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.764773 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.766502 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "014937467"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.768127 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "014937467"], ["date_of_birth", "2001-04-07"], ["phone", "1240411964"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:01.769934 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.771399 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.772860 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:01.774601 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:01.775997 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.777900 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.779325 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:40:01.780601 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:01.781953 #32761]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-07 21:40:01 +0000
F, [2020-04-07T21:40:01.803682 #32761] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:56:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-07T21:40:01.811369 #32761]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-07 21:40:01 +0000
F, [2020-04-07T21:40:01.824374 #32761] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:58:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-07T21:40:01.828637 #32761] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:01.829404 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:01.833713 #32761]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-07T21:40:01.833835 #32761]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-07T21:40:01.833942 #32761]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-07T21:40:01.835212 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.837315 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.839421 #32761] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4974208421"], ["active", 1]]
D, [2020-04-07T21:40:01.840687 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.841897 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.843232 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "356131964"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.844543 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "356131964"], ["date_of_birth", "2001-04-07"], ["phone", "7479552386"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:01.846057 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.847259 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.848449 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:01.849491 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:01.850606 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.852008 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.853147 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:40:01.854218 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.855110 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-07T21:40:01.856207 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.857528 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "032621030"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.862795 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "032621030"], ["date_of_birth", "2001-04-07"], ["phone", "6870455076"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:01.864006 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:01.865268 #32761]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-07 21:40:01 +0000
I, [2020-04-07T21:40:01.866203 #32761]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-07T21:40:01.866467 #32761]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-06", "end_date"=>nil}}
D, [2020-04-07T21:40:01.867484 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.868627 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.873993 #32761] DEBUG -- :   [1m[36mEmployee Load (4.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.875442 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:01.876580 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:01.877730 #32761] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.879196 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.880442 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-04-06"]]
D, [2020-04-07T21:40:01.883790 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:01.884643 #32761]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-07T21:40:01.885573 #32761]  INFO -- : Completed 302 Found in 19ms (ActiveRecord: 4.6ms)
D, [2020-04-07T21:40:01.890753 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-07T21:40:01.891599 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:01.892753 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:01.893040 #32761]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-07T21:40:01.893108 #32761]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"employee"â€º. 
I, [2020-04-07T21:40:01.893163 #32761]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-07T21:40:01.896676 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:01.897323 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:01.902001 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:01.902273 #32761]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:01.902345 #32761]  INFO -- : EmployeeTest: test_: Given context should shows that there are 2 managers: Ben and Kathryn. 
I, [2020-04-07T21:40:01.902430 #32761]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:01.903365 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.904702 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "064898637"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.906127 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "064898637"], ["date_of_birth", "2001-04-07"], ["phone", "7486597927"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:01.907330 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.908449 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.909606 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.910848 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "7118530262"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:01.912035 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.913101 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.914274 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "290996745"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.915419 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "290996745"], ["date_of_birth", "2004-04-07"], ["phone", "3462572489"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:01.916584 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.917688 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.918817 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "362639144"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.919958 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "362639144"], ["date_of_birth", "1994-04-07"], ["phone", "8844654031"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:01.921111 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.922195 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.923315 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.924448 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:01.925597 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.926734 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.927851 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.928982 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "7605098321"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:01.933920 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.935039 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.936275 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "218071030"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.937485 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "218071030"], ["date_of_birth", "2001-04-07"], ["phone", "5321193127"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:01.938676 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.939603 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'manager')[0m
D, [2020-04-07T21:40:01.940372 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'manager')[0m
D, [2020-04-07T21:40:01.941105 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.941903 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:01.942593 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.943176 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.943892 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:01.944538 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.945084 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.945862 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:01.946520 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.947070 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.947792 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:01.948446 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.949003 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.949813 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:01.950467 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.951020 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.951752 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:01.952407 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.952958 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.953737 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:01.954394 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.955022 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:01.955712 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:01.955970 #32761]  INFO -- : ----------------------------------------------------------------------
I, [2020-04-07T21:40:01.956039 #32761]  INFO -- : EmployeeTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-04-07T21:40:01.956116 #32761]  INFO -- : ----------------------------------------------------------------------
D, [2020-04-07T21:40:01.957031 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.958404 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "303472528"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.959713 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "303472528"], ["date_of_birth", "2001-04-07"], ["phone", "1891753187"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:01.960876 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.962186 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.963358 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.964517 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "4325559804"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:01.969682 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.970806 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.972038 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "320777641"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.973285 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "320777641"], ["date_of_birth", "2004-04-07"], ["phone", "7017667376"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:01.974468 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.975551 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.976671 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "087057239"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.977879 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "087057239"], ["date_of_birth", "1994-04-07"], ["phone", "8585013254"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:01.979063 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.980118 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.981313 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.986543 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:01.987698 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.988856 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.990133 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.991316 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "7194588881"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:01.992515 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.993538 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.994735 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "248533549"], ["LIMIT", 1]]
D, [2020-04-07T21:40:01.995905 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "248533549"], ["date_of_birth", "2001-04-07"], ["phone", "0188051425"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:01.997066 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.997732 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.998507 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:01.999226 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:01.999799 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.000538 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:02.001229 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.001823 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.002564 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:02.003220 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.003794 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.004504 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:02.005170 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.009777 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.010522 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:02.011167 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.011721 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.012418 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:02.013130 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.013723 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.014447 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:02.015110 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.015728 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.016466 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.016730 #32761]  INFO -- : --------------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.016811 #32761]  INFO -- : EmployeeTest: test_: Employee should validate that :first_name cannot be empty/falsy. 
I, [2020-04-07T21:40:02.016891 #32761]  INFO -- : --------------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.020783 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.025793 #32761] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.026460 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.026760 #32761]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.026835 #32761]  INFO -- : EmployeeTest: test_: Given context should shows that Ben's phone is stripped of non-digits. 
I, [2020-04-07T21:40:02.026889 #32761]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.027819 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.029085 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "086223748"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.030499 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "086223748"], ["date_of_birth", "2001-04-07"], ["phone", "3723045078"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.031707 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.032784 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.034014 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.035199 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "4050729533"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.036410 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.037510 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.038732 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "160850173"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.039939 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "160850173"], ["date_of_birth", "2004-04-07"], ["phone", "7172552248"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.041156 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.046303 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.047596 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "282162137"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.048827 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "282162137"], ["date_of_birth", "1994-04-07"], ["phone", "2454516052"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:02.050089 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.051206 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.052415 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.053642 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.054836 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.055907 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.057072 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.058955 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "6444240024"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.060147 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.061271 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.062505 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "268999208"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.063724 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "268999208"], ["date_of_birth", "2001-04-07"], ["phone", "7085144694"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:02.064912 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.065558 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.066365 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:02.067071 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.067635 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.068387 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:02.069033 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.073642 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.074404 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:02.075102 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.075683 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.076426 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:02.077119 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.077729 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.078450 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:02.079166 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.079726 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.080457 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:02.081190 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.085803 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.086538 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:02.087255 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.087900 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.088584 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.088898 #32761]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-07T21:40:02.088967 #32761]  INFO -- : EmployeeTest: test_: Employee should have many stores through assignments. 
I, [2020-04-07T21:40:02.089022 #32761]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-07T21:40:02.090129 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.090743 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.091008 #32761]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.091075 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-04-07T21:40:02.091131 #32761]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.098559 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.099559 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.100157 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.100457 #32761]  INFO -- : -------------------------------------------------------------------
I, [2020-04-07T21:40:02.100547 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"bad"â€º. 
I, [2020-04-07T21:40:02.100603 #32761]  INFO -- : -------------------------------------------------------------------
D, [2020-04-07T21:40:02.103347 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "bad"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.104326 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.104919 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.105175 #32761]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.105262 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-04-07T21:40:02.105328 #32761]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.110051 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.110970 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.111604 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.111860 #32761]  INFO -- : --------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.111926 #32761]  INFO -- : EmployeeTest: test_: Employee should validate that :role cannot be empty/falsy. 
I, [2020-04-07T21:40:02.111994 #32761]  INFO -- : --------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.119501 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.120430 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.121076 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.121344 #32761]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:40:02.121417 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"1234567890"â€º. 
I, [2020-04-07T21:40:02.121473 #32761]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:40:02.124218 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "1234567890"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.125189 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.128662 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.128956 #32761]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.129041 #32761]  INFO -- : EmployeeTest: test_: Employee should validate that :last_name cannot be empty/falsy. 
I, [2020-04-07T21:40:02.129105 #32761]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.132667 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.133584 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.134298 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.134547 #32761]  INFO -- : -----------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.134616 #32761]  INFO -- : EmployeeTest: test_: Given context should have all active employees accounted for. 
I, [2020-04-07T21:40:02.134671 #32761]  INFO -- : -----------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.135595 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.136788 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "138774671"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.142161 #32761] DEBUG -- :   [1m[36mEmployee Create (4.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "138774671"], ["date_of_birth", "2001-04-07"], ["phone", "6849934913"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.143400 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.144540 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.149784 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.151055 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "1117068198"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.152295 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.153448 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.154684 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "301534202"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.155846 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "301534202"], ["date_of_birth", "2004-04-07"], ["phone", "6615460614"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.157056 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.158133 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.159245 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "306897343"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.160406 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "306897343"], ["date_of_birth", "1994-04-07"], ["phone", "5126605594"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:02.165638 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.166782 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.167963 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.169154 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.170367 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.171464 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.172572 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.177797 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "1951739254"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.184925 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.190086 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.191452 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "255548743"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.192688 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "255548743"], ["date_of_birth", "2001-04-07"], ["phone", "5424035782"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:02.193931 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.194839 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:02.195693 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:02.196768 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:02.197678 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.198441 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:02.199128 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.199708 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.200433 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:02.201139 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.205759 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.206514 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:02.207206 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.207811 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.208545 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:02.209253 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.209879 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.210599 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:02.211307 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.211875 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.212594 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:02.213276 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.217911 #32761] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.218645 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:02.219326 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.219971 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.224135 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.224436 #32761]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.224513 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-04-07T21:40:02.224578 #32761]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.227967 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.228907 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.229552 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.229865 #32761]  INFO -- : ------------------------------------------------------------------
I, [2020-04-07T21:40:02.229950 #32761]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"admin"â€º. 
I, [2020-04-07T21:40:02.230014 #32761]  INFO -- : ------------------------------------------------------------------
D, [2020-04-07T21:40:02.232767 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.239493 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.241978 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.242260 #32761]  INFO -- : -----------------------------------------------------------------
I, [2020-04-07T21:40:02.242332 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹10â€º. 
I, [2020-04-07T21:40:02.242437 #32761]  INFO -- : -----------------------------------------------------------------
D, [2020-04-07T21:40:02.245465 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.246391 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.249976 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.250286 #32761]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.250360 #32761]  INFO -- : EmployeeTest: test_: Given context should shows proper name as first and last name. 
I, [2020-04-07T21:40:02.250416 #32761]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.251306 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.252610 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "089713391"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.254026 #32761] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "089713391"], ["date_of_birth", "2001-04-07"], ["phone", "2784472703"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.255265 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.256372 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.257515 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.258723 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "9588847915"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.259934 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.261003 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.262187 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "312919740"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.263360 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "312919740"], ["date_of_birth", "2004-04-07"], ["phone", "0670710252"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.264557 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.269357 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.270570 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "220506108"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.271719 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "220506108"], ["date_of_birth", "1994-04-07"], ["phone", "3917852940"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:02.272866 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.274018 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.275143 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.276355 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.277531 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.278611 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.279738 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.280917 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "8873538978"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.282096 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.283114 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.284202 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "035494081"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.285359 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "035494081"], ["date_of_birth", "2001-04-07"], ["phone", "6713990213"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:02.286533 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.287171 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.287868 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:02.288562 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.289150 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.289913 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:02.290598 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.291130 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.291839 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:02.292541 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.293065 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.293810 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:02.294504 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.295071 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.295744 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:02.296409 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.296994 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.301724 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:02.302445 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.302950 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.303690 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:02.304360 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.304967 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.305714 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.306011 #32761]  INFO -- : ----------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.306080 #32761]  INFO -- : EmployeeTest: test_: Given context should shows that there are 4 regular employees: Ed, Cindy, Chuck and Ralph. 
I, [2020-04-07T21:40:02.306136 #32761]  INFO -- : ----------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.307070 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.308400 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "321741506"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.309751 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "321741506"], ["date_of_birth", "2001-04-07"], ["phone", "4621520709"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.310956 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.311991 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.313101 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.314321 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "3379032975"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.315478 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.316488 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.317583 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "385372686"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.322829 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "385372686"], ["date_of_birth", "2004-04-07"], ["phone", "1341492156"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.323963 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.325046 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.326267 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "315999412"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.327457 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "315999412"], ["date_of_birth", "1994-04-07"], ["phone", "1460137327"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:02.328610 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.329728 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.330856 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.332008 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.333215 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.338413 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.339588 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.340761 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "0416645294"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.342015 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.343031 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.344131 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "154512337"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.345287 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "154512337"], ["date_of_birth", "2001-04-07"], ["phone", "6446562976"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:02.346523 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.347411 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'employee')[0m
D, [2020-04-07T21:40:02.348147 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'employee')[0m
D, [2020-04-07T21:40:02.348915 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.349688 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:02.350397 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.350915 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.351620 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:02.352296 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.352864 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.353535 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:02.358229 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.358809 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.359552 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:02.360229 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.360755 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.361496 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:02.362183 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.362769 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.363429 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:02.364090 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.364661 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.365373 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:02.366003 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.366657 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.367311 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.367616 #32761]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.367687 #32761]  INFO -- : EmployeeTest: test_: Given context should force employees to have unique ssn. 
I, [2020-04-07T21:40:02.367742 #32761]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.368662 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.370095 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "358077241"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.371451 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "358077241"], ["date_of_birth", "2001-04-07"], ["phone", "3422294660"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.372692 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.373831 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.375046 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.376220 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "6367936818"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.377473 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.382688 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.383909 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "378472351"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.385136 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "378472351"], ["date_of_birth", "2004-04-07"], ["phone", "0658155924"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.386438 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.387525 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.388645 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "040158393"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.389856 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "040158393"], ["date_of_birth", "1994-04-07"], ["phone", "4694539503"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:02.391086 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.392156 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.393333 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.394938 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.396200 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.397255 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.398447 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.399616 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "4767373024"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.400788 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.405842 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.407068 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "278161020"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.408330 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "278161020"], ["date_of_birth", "2001-04-07"], ["phone", "2329465881"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:02.409476 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.411075 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084359822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.412374 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.413122 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:02.413849 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.414425 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.415098 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:02.415805 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.416371 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.417090 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:02.421762 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.422367 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.423106 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:02.423816 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.424383 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.425116 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:02.425822 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.426437 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.427112 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:02.427802 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.428415 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.429140 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:02.429883 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.430530 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.431255 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.431513 #32761]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-07T21:40:02.431585 #32761]  INFO -- : EmployeeTest: test_: Employee should allow :ssn to be â€¹"123456789"â€º. 
I, [2020-04-07T21:40:02.431642 #32761]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-07T21:40:02.438408 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "123456789"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.439392 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.440049 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.440321 #32761]  INFO -- : -------------------------------------------------------------------
I, [2020-04-07T21:40:02.440402 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹nilâ€º. 
I, [2020-04-07T21:40:02.440473 #32761]  INFO -- : -------------------------------------------------------------------
D, [2020-04-07T21:40:02.443523 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.444419 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.445001 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.445318 #32761]  INFO -- : -----------------------------------------------------------------------------
I, [2020-04-07T21:40:02.445386 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹"bad"â€º. 
I, [2020-04-07T21:40:02.445444 #32761]  INFO -- : -----------------------------------------------------------------------------
D, [2020-04-07T21:40:02.448427 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.449254 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.449958 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.450198 #32761]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:40:02.450278 #32761]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-04-07T21:40:02.450337 #32761]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:40:02.453035 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.457901 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.458518 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.458831 #32761]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.458898 #32761]  INFO -- : EmployeeTest: test_: Given context should show there are two employees under 18. 
I, [2020-04-07T21:40:02.458950 #32761]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.459826 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.461079 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "152872952"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.462523 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "152872952"], ["date_of_birth", "2001-04-07"], ["phone", "6616641829"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.463702 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.464815 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.465940 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.467041 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "6518002403"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.468176 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.469218 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.470375 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "067267518"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.471503 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "067267518"], ["date_of_birth", "2004-04-07"], ["phone", "2992809659"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.472655 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.477757 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.479021 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "273464341"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.480195 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "273464341"], ["date_of_birth", "1994-04-07"], ["phone", "2617470986"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:02.481368 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.482571 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.483697 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.484835 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.486044 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.487058 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.488177 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.489357 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "9626467978"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.490684 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.491682 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.492773 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "327954215"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.493973 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "327954215"], ["date_of_birth", "2001-04-07"], ["phone", "8504128808"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:02.495132 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.496135 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth > '2002-04-07')[0m
D, [2020-04-07T21:40:02.497021 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (date_of_birth > '2002-04-07')[0m
D, [2020-04-07T21:40:02.501722 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.502497 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:02.503174 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.503732 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.504402 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:02.505051 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.505639 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.506347 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:02.507008 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.507531 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.508232 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:02.508899 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.509429 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.510338 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:02.511025 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.511593 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.512265 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:02.512914 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.513471 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.514200 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:02.514853 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.515471 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.516168 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.516424 #32761]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-07T21:40:02.516497 #32761]  INFO -- : EmployeeTest: test_: Given context should have a make_active method. 
I, [2020-04-07T21:40:02.516553 #32761]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-07T21:40:02.517470 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.518814 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "361516453"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.520108 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "361516453"], ["date_of_birth", "2001-04-07"], ["phone", "5956365293"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.521279 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.525595 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.526874 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.528088 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "7848123115"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.529234 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.534507 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.535767 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "315990442"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.536959 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "315990442"], ["date_of_birth", "2004-04-07"], ["phone", "3926772371"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.538223 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.539317 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.540494 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "157999330"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.542488 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "157999330"], ["date_of_birth", "1994-04-07"], ["phone", "4517262181"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:02.543707 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.544795 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.550013 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.551284 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.552459 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.553677 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.554851 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.556063 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "9845450297"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.557314 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.558420 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.559597 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "222702982"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.560718 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "222702982"], ["date_of_birth", "2001-04-07"], ["phone", "8620523506"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:02.565913 #32761] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.566573 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.567918 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "157999330"], ["id", 4], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.569232 #32761] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "active" = ? WHERE "employees"."id" = ?[0m  [["active", 1], ["id", 4]]
D, [2020-04-07T21:40:02.570038 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.570935 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.571836 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.572556 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:02.573271 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.573829 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.574562 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:02.575208 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.575783 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.576511 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:02.577187 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.581817 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.582543 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:02.583234 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.583785 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.584476 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:02.585166 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.585766 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.586463 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:02.587111 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.587663 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.588389 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:02.589022 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.589664 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.590326 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.590608 #32761]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.590678 #32761]  INFO -- : EmployeeTest: test_: Given context should shows that over_18? boolean method works. 
I, [2020-04-07T21:40:02.590734 #32761]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.591687 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.592968 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "320181415"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.598526 #32761] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "320181415"], ["date_of_birth", "2001-04-07"], ["phone", "9993019312"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.599776 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.600970 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.602195 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.603416 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "7587554955"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.604639 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.605809 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.606972 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "018428133"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.608150 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "018428133"], ["date_of_birth", "2004-04-07"], ["phone", "0858245674"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.609441 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.614155 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.615417 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "208185045"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.616633 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "208185045"], ["date_of_birth", "1994-04-07"], ["phone", "8064817962"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:02.617868 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.619000 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.620187 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.621430 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.622684 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.623840 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.625033 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.626207 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "4047829216"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.627404 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.628494 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.629683 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "236261925"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.630866 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "236261925"], ["date_of_birth", "2001-04-07"], ["phone", "5672211047"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:02.632066 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.632862 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.633611 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:02.634351 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.634894 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.635616 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:02.636321 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.636884 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.637568 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:02.642257 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.642836 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.643588 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:02.644275 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.644896 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.645646 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:02.646381 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.646995 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.647785 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:02.648479 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.649034 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.649808 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:02.650482 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.651119 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.651797 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.652085 #32761]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.652153 #32761]  INFO -- : EmployeeTest: test_: Given context should shows that there is one admin: Alex. 
I, [2020-04-07T21:40:02.652206 #32761]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.653192 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.658714 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "276151216"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.660209 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "276151216"], ["date_of_birth", "2001-04-07"], ["phone", "4846125267"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.661494 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.662800 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.664106 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.665385 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "7873013999"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.666697 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.667859 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.669094 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "132097067"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.674472 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "132097067"], ["date_of_birth", "2004-04-07"], ["phone", "2750021288"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.675768 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.677002 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.678371 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "016274944"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.679587 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "016274944"], ["date_of_birth", "1994-04-07"], ["phone", "7988585135"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:02.680918 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.682112 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.683365 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.684553 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.685898 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.687032 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.688164 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.689293 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "9622603077"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.694503 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.695719 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.697039 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "243628871"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.698356 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "243628871"], ["date_of_birth", "2001-04-07"], ["phone", "9408445577"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:02.699712 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.700661 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'admin')[0m
D, [2020-04-07T21:40:02.701529 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'admin')[0m
D, [2020-04-07T21:40:02.702316 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.703080 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:02.703833 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.704433 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.705148 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:02.705866 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.706495 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.707171 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:02.707882 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.708470 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.709177 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:02.713870 #32761] DEBUG -- :   [1m[35m (4.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.714467 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.715245 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:02.715980 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.716543 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.717277 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:02.717997 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.718576 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.719300 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:02.720019 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.720674 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.721384 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.721691 #32761]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:40:02.721763 #32761]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-04-07T21:40:02.721840 #32761]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:40:02.725018 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.725999 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.726630 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.726903 #32761]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.726972 #32761]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Mon, 07 Apr 2003â€º. 
I, [2020-04-07T21:40:02.727026 #32761]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.730056 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.730984 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.731637 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.731921 #32761]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.732001 #32761]  INFO -- : EmployeeTest: test_: Given context should show there are four employees over 18. 
I, [2020-04-07T21:40:02.732062 #32761]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.732988 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.737361 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "386738906"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.738898 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "386738906"], ["date_of_birth", "2001-04-07"], ["phone", "5014979268"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.740348 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.741696 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.742988 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.744276 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "8468390206"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.745604 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.746821 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.748036 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "330882079"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.749291 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "330882079"], ["date_of_birth", "2004-04-07"], ["phone", "2036161506"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.754712 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.756033 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.757417 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "007868694"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.758637 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "007868694"], ["date_of_birth", "1994-04-07"], ["phone", "3435127229"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:02.759775 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.760928 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.762224 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.763479 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.764802 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.766113 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.767332 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.768583 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "2733261451"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.770023 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.771316 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.772599 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "169183023"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.778022 #32761] DEBUG -- :   [1m[36mEmployee Create (4.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "169183023"], ["date_of_birth", "2001-04-07"], ["phone", "2603104178"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:02.779524 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.780778 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth <= '2002-04-07')[0m
D, [2020-04-07T21:40:02.781985 #32761] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (date_of_birth <= '2002-04-07') ORDER BY last_name, first_name[0m
D, [2020-04-07T21:40:02.782881 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.783728 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:02.784539 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.785210 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.785996 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:02.786779 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.787415 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.788157 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:02.788916 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.789545 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.790314 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:02.791043 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.791678 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.792445 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:02.793128 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.793755 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.794563 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:02.795293 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.795916 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.796704 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:02.797471 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.798277 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.799020 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.799320 #32761]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.799399 #32761]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Fri, 07 Apr 2006â€º. 
I, [2020-04-07T21:40:02.799462 #32761]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.810096 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.811104 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.811795 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.812047 #32761]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:40:02.812112 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"12345678"â€º. 
I, [2020-04-07T21:40:02.812209 #32761]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:40:02.815077 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "12345678"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.816059 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.816679 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.816927 #32761]  INFO -- : -----------------------------------------------------------------------
I, [2020-04-07T21:40:02.816996 #32761]  INFO -- : EmployeeTest: test_: Given context should have a make_inactive method. 
I, [2020-04-07T21:40:02.817066 #32761]  INFO -- : -----------------------------------------------------------------------
D, [2020-04-07T21:40:02.821998 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.823378 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "041093549"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.824747 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "041093549"], ["date_of_birth", "2001-04-07"], ["phone", "2391569713"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.825990 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.827194 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.828405 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.829656 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "7491697133"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.830910 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.832033 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.833214 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "236332935"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.834446 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "236332935"], ["date_of_birth", "2004-04-07"], ["phone", "1252053193"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.835656 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.836756 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.837953 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "145462774"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.839123 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "145462774"], ["date_of_birth", "1994-04-07"], ["phone", "7898314922"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:02.840385 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.841523 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.842715 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.843868 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.845085 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.846214 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.847404 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.848528 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "3813969975"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.849773 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.850867 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.852021 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "297085505"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.853157 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "297085505"], ["date_of_birth", "2001-04-07"], ["phone", "9947537761"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:02.854399 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.854982 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.856257 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "236332935"], ["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.857452 #32761] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "active" = ? WHERE "employees"."id" = ?[0m  [["active", 0], ["id", 3]]
D, [2020-04-07T21:40:02.862323 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.863258 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.864143 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.864921 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:02.865580 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.866181 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.866873 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:02.867555 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.868111 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.868832 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:02.869505 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.870079 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.870753 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:02.871429 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.871987 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.872677 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:02.873379 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.876212 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.876944 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:02.877605 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.878274 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.878952 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:02.879642 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.880308 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.880977 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.881284 #32761]  INFO -- : -----------------------------------------------------------------------
I, [2020-04-07T21:40:02.881353 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"hacker"â€º. 
I, [2020-04-07T21:40:02.881410 #32761]  INFO -- : -----------------------------------------------------------------------
D, [2020-04-07T21:40:02.884483 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.885450 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.886104 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.886371 #32761]  INFO -- : ----------------------------------------------------------------------------
I, [2020-04-07T21:40:02.886437 #32761]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-04-07T21:40:02.886496 #32761]  INFO -- : ----------------------------------------------------------------------------
D, [2020-04-07T21:40:02.889451 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.894418 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.895057 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.895352 #32761]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:40:02.895421 #32761]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-04-07T21:40:02.895477 #32761]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:40:02.898526 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.899428 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.900031 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.900330 #32761]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-07T21:40:02.900399 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹nilâ€º. 
I, [2020-04-07T21:40:02.900458 #32761]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-07T21:40:02.903600 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.904498 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.905110 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.905411 #32761]  INFO -- : -----------------------------------------------------------------
I, [2020-04-07T21:40:02.905479 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹nilâ€º. 
I, [2020-04-07T21:40:02.905531 #32761]  INFO -- : -----------------------------------------------------------------
D, [2020-04-07T21:40:02.912772 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.913759 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.914398 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.914647 #32761]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.914716 #32761]  INFO -- : EmployeeTest: test_: Given context should shows that Cindy's ssn is stripped of non-digits. 
I, [2020-04-07T21:40:02.914811 #32761]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.915724 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.917014 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "103298805"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.918395 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "103298805"], ["date_of_birth", "2001-04-07"], ["phone", "6893945429"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.919636 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.920740 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.921950 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.923164 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "5759866886"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.924400 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.925446 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.926665 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "287310050"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.927810 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "287310050"], ["date_of_birth", "2004-04-07"], ["phone", "7328360266"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:02.929049 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.934284 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.935587 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "198829073"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.936845 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "198829073"], ["date_of_birth", "1994-04-07"], ["phone", "4816868289"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:02.938128 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.939339 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.940519 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.941792 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.942996 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.944157 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.945337 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.946524 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "8147951304"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:02.947782 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.948903 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.954114 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "092456206"], ["LIMIT", 1]]
D, [2020-04-07T21:40:02.955293 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "092456206"], ["date_of_birth", "2001-04-07"], ["phone", "8839725809"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:02.956537 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.957135 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.957972 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:02.958672 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.959196 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.959902 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:02.960593 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.961135 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.961856 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:02.962556 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.963110 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.963864 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:02.964511 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.965104 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.965824 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:02.966542 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.967082 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.967803 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:02.968484 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.969052 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.973555 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:02.974212 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:02.974928 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.975639 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.975896 #32761]  INFO -- : -------------------------------------------------------------------
I, [2020-04-07T21:40:02.975974 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"vp"â€º. 
I, [2020-04-07T21:40:02.976036 #32761]  INFO -- : -------------------------------------------------------------------
D, [2020-04-07T21:40:02.979058 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.980000 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.980610 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.980891 #32761]  INFO -- : ------------------------------------------------------------------
I, [2020-04-07T21:40:02.980961 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹nilâ€º. 
I, [2020-04-07T21:40:02.981016 #32761]  INFO -- : ------------------------------------------------------------------
D, [2020-04-07T21:40:02.984282 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.985175 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.985818 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.986077 #32761]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.986147 #32761]  INFO -- : EmployeeTest: test_: Employee should validate that :ssn cannot be empty/falsy. 
I, [2020-04-07T21:40:02.986204 #32761]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.993835 #32761] DEBUG -- :   [1m[36mEmployee Exists (4.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.994839 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:02.995471 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:02.995731 #32761]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-07T21:40:02.995848 #32761]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Thu, 07 Apr 2005â€º. 
I, [2020-04-07T21:40:02.995905 #32761]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-07T21:40:02.998955 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:02.999891 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.000518 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.000783 #32761]  INFO -- : ------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:03.000854 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹Sat, 07 Apr 2007 17:40:00 EDT -04:00â€º. 
I, [2020-04-07T21:40:03.000909 #32761]  INFO -- : ------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:03.004222 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:03.005156 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.005890 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.006214 #32761]  INFO -- : -----------------------------------------------------------------------------
I, [2020-04-07T21:40:03.006294 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-04-07T21:40:03.006366 #32761]  INFO -- : -----------------------------------------------------------------------------
D, [2020-04-07T21:40:03.009586 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:03.010518 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.013964 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.014226 #32761]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-07T21:40:03.014309 #32761]  INFO -- : EmployeeTest: test_: Given context should list employees alphabetically. 
I, [2020-04-07T21:40:03.014376 #32761]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-07T21:40:03.015314 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.016581 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "311731247"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.017962 #32761] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "311731247"], ["date_of_birth", "2001-04-07"], ["phone", "7683935105"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.019225 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.020311 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.021443 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.026770 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "3845540891"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.028045 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.029205 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.034537 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "374294077"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.035757 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "374294077"], ["date_of_birth", "2004-04-07"], ["phone", "8289327984"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.036968 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.038153 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.039352 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "248505074"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.040488 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "248505074"], ["date_of_birth", "1994-04-07"], ["phone", "9090869378"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:03.041784 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.042945 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.044071 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.045274 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:03.046652 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.047813 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.048923 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.050084 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "2988456414"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:03.051324 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.052410 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.053496 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "291776098"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.058758 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "291776098"], ["date_of_birth", "2001-04-07"], ["phone", "9008381330"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:03.059962 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.060779 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" ORDER BY last_name, first_name[0m
D, [2020-04-07T21:40:03.061589 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.062319 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:03.063003 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.063598 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.064304 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:03.064956 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.065517 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.066256 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:03.066960 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.067520 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.068261 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:03.068895 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.069501 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.074234 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:03.074941 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.075532 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.076219 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:03.076917 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.077473 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.078226 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:03.078919 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.079567 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.080260 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.080520 #32761]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:40:03.080632 #32761]  INFO -- : EmployeeTest: test_: Given context should shows name as last, first name. 
I, [2020-04-07T21:40:03.080690 #32761]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:40:03.081612 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.082997 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "077382982"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.084372 #32761] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "077382982"], ["date_of_birth", "2001-04-07"], ["phone", "8634930786"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.085604 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.086737 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.087869 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.089047 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "3784129231"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.090275 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.091349 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.092466 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "173127112"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.093597 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "173127112"], ["date_of_birth", "2004-04-07"], ["phone", "3095908086"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.094823 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.095894 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.096998 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091395188"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.102336 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "091395188"], ["date_of_birth", "1994-04-07"], ["phone", "1351631727"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:03.103562 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.104710 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.105986 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.107178 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:03.108411 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.109549 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.110694 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.111867 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "1525432610"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:03.113120 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.114179 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.115323 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "085184010"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.116434 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "085184010"], ["date_of_birth", "2001-04-07"], ["phone", "6021351585"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:03.121681 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.122305 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.123042 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:03.123761 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.124310 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.124997 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:03.125723 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.126286 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.127003 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:03.127682 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.128224 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.128936 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:03.129651 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.130246 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.130909 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:03.131572 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.132131 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.132854 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:03.133547 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.137985 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.138708 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:03.139383 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.139999 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.140660 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.140933 #32761]  INFO -- : --------------------------------------------------------------------------------
I, [2020-04-07T21:40:03.141000 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-04-07T21:40:03.141064 #32761]  INFO -- : --------------------------------------------------------------------------------
D, [2020-04-07T21:40:03.144495 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:03.145404 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.146038 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.146340 #32761]  INFO -- : ----------------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:03.146417 #32761]  INFO -- : EmployeeTest: test_: Given context should shows return employee's current assignment, if it exists. 
I, [2020-04-07T21:40:03.146478 #32761]  INFO -- : ----------------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:03.147352 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.148548 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "289006664"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.149883 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "289006664"], ["date_of_birth", "2001-04-07"], ["phone", "1990699881"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.151141 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.152257 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.153383 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.154635 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "4713586510"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.155868 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.156931 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.162121 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "323585675"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.163360 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "323585675"], ["date_of_birth", "2004-04-07"], ["phone", "6582461478"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.164628 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.165860 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.167043 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "169132896"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.168195 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "169132896"], ["date_of_birth", "1994-04-07"], ["phone", "1658582177"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:03.169363 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.170532 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.171649 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.172788 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:03.178068 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.179337 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.180530 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.181760 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "5481775565"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:03.182961 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.184023 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.185140 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "027186226"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.190387 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "027186226"], ["date_of_birth", "2001-04-07"], ["phone", "1228809242"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:03.191633 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.192588 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.193746 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.194934 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8053568679"], ["active", 1]]
D, [2020-04-07T21:40:03.196104 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.196979 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.197987 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.199124 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:03.200299 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.201174 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.202188 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.203353 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2339396932"], ["active", 0]]
D, [2020-04-07T21:40:03.204521 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.209820 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.211128 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.212341 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.213412 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.214900 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.216042 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:03.217060 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.218317 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.219393 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.220482 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.221550 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.222979 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.224008 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:03.224946 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.226085 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.227146 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.228265 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.229235 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.234317 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.235428 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:03.236377 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.237695 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.238857 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.239978 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.241115 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.242516 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.243558 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:03.244569 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.245753 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.246845 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.247950 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.248998 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.254529 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.255630 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:03.256621 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.257908 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.259022 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.260197 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.261296 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.262690 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.263747 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:03.264606 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.269650 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.270773 #32761] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.272234 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 7], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.273077 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.273921 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:03.274647 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.275305 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.276095 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:03.276873 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.277520 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.278311 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:03.279036 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.279633 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.280368 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:03.281071 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.285734 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.286516 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:03.287255 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.287862 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.288595 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:03.289320 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.289995 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.290764 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:03.291508 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.292081 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.292817 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:03.293545 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.294252 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.294969 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:03.295695 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.296320 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.297090 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:03.297847 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.298442 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.299189 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:03.299927 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.300512 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.301250 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:03.306001 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.306625 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.307371 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:03.308108 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.308714 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.309436 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:03.310163 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.310785 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.311514 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:03.312174 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.312790 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.313538 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:03.314309 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.314990 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.315732 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.316026 #32761]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-04-07T21:40:03.316104 #32761]  INFO -- : EmployeeTest: test_: Given context should have all inactive employees accounted for. 
I, [2020-04-07T21:40:03.316161 #32761]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-04-07T21:40:03.317156 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.322496 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "150169362"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.323933 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "150169362"], ["date_of_birth", "2001-04-07"], ["phone", "9616852528"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.325355 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.326682 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.327871 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.329143 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "7584764796"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.330529 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.331634 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.332781 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "126734239"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.333957 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "126734239"], ["date_of_birth", "2004-04-07"], ["phone", "2368627221"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.335262 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.336417 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.337534 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "180628104"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.338746 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "180628104"], ["date_of_birth", "1994-04-07"], ["phone", "3916647976"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:03.340072 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.341264 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.342444 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.343673 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:03.345045 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.350375 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.351613 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.352920 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "2968674066"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:03.354483 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.355737 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.357018 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "014948872"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.358315 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "014948872"], ["date_of_birth", "2001-04-07"], ["phone", "4141699009"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:03.359727 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.360743 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.365769 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.366862 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.367678 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.368470 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:03.369255 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.369906 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.370708 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:03.371481 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.372102 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.372908 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:03.373730 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.387590 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.388583 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:03.389363 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.390013 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.390780 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:03.391476 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.392035 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.392770 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:03.393463 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.398087 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.398873 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:03.399588 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.400202 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.400934 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.401206 #32761]  INFO -- : --------------------------------------------------------------------
I, [2020-04-07T21:40:03.401291 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"bad"â€º. 
I, [2020-04-07T21:40:03.401349 #32761]  INFO -- : --------------------------------------------------------------------
D, [2020-04-07T21:40:03.404326 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:03.405272 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.405935 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.406235 #32761]  INFO -- : --------------------------------------------------------------------
I, [2020-04-07T21:40:03.406315 #32761]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"manager"â€º. 
I, [2020-04-07T21:40:03.406371 #32761]  INFO -- : --------------------------------------------------------------------
D, [2020-04-07T21:40:03.408989 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:03.409585 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.410190 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.410449 #32761]  INFO -- : ------------------------------------------------------------
I, [2020-04-07T21:40:03.410516 #32761]  INFO -- : EmployeeTest: test_: Employee should have many assignments. 
I, [2020-04-07T21:40:03.410577 #32761]  INFO -- : ------------------------------------------------------------
D, [2020-04-07T21:40:03.410991 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.411594 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.411841 #32761]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:03.411949 #32761]  INFO -- : EmployeeTest: test_: Given context should shows that age method returns the correct value. 
I, [2020-04-07T21:40:03.412006 #32761]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:03.412889 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.417874 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "283666492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.419307 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "283666492"], ["date_of_birth", "2001-04-07"], ["phone", "3310088370"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.420531 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.421763 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.423002 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.424183 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "9670736275"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.425387 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.426441 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.427633 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "142611417"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.428774 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "142611417"], ["date_of_birth", "2004-04-07"], ["phone", "7045841643"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.430014 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.431089 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.432235 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "066180956"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.433403 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "066180956"], ["date_of_birth", "1994-04-07"], ["phone", "9231284824"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:03.434593 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.435691 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.436814 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.442013 #32761] DEBUG -- :   [1m[36mEmployee Create (4.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:03.443265 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.444492 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.445718 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.446930 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "3365992398"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:03.448171 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.449264 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.450413 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "022998690"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.451580 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "022998690"], ["date_of_birth", "2001-04-07"], ["phone", "2185183301"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:03.452779 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.453594 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.458382 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:03.459120 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.459732 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.460433 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:03.461140 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.461748 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.462449 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:03.463137 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.463698 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.464413 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:03.465114 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.465702 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.466415 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:03.467062 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.467647 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.468339 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:03.469063 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.469742 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.470544 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:03.471249 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.471903 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.472570 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.472824 #32761]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-07T21:40:03.472935 #32761]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-04-07T21:40:03.472993 #32761]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-07T21:40:03.476298 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:03.477199 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.478316 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.478584 #32761]  INFO -- : --------------------------------------------
I, [2020-04-07T21:40:03.478654 #32761]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-07T21:40:03.478709 #32761]  INFO -- : --------------------------------------------
D, [2020-04-07T21:40:03.479722 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.480980 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "278605782"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.486496 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "278605782"], ["date_of_birth", "2001-04-07"], ["phone", "9149939808"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.487841 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:03.488956 #32761]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-07 21:40:03 +0000
I, [2020-04-07T21:40:03.491548 #32761]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-07T21:40:03.493921 #32761]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-07T21:40:03.516233 #32761]  INFO -- :   Rendered employees/_form.html.erb (21.1ms)
I, [2020-04-07T21:40:03.516655 #32761]  INFO -- :   Rendered employees/new.html.erb within layouts/application (22.4ms)
I, [2020-04-07T21:40:03.518697 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:40:03.519264 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-07T21:40:03.519889 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:40:03.520518 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:40:03.521481 #32761]  INFO -- : Completed 200 OK in 30ms (Views: 28.0ms | ActiveRecord: 0.0ms)
D, [2020-04-07T21:40:03.524990 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.529750 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.530051 #32761]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-07T21:40:03.530127 #32761]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-07T21:40:03.530189 #32761]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-07T21:40:03.531333 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.532873 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "291742009"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.534376 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "291742009"], ["date_of_birth", "2001-04-07"], ["phone", "5229524652"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.535626 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.536528 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-07T21:40:03.537994 #32761]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-07 21:40:03 +0000
I, [2020-04-07T21:40:03.539016 #32761]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-07T21:40:03.539335 #32761]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-07", "role"=>"employee", "active"=>"true"}}
D, [2020-04-07T21:40:03.540519 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.541988 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.543421 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-07"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.544802 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:03.549817 #32761]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-07T21:40:03.550884 #32761]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.3ms)
D, [2020-04-07T21:40:03.555701 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-07T21:40:03.556662 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:03.557759 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.558437 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.558727 #32761]  INFO -- : --------------------------------------------------
I, [2020-04-07T21:40:03.558801 #32761]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-07T21:40:03.558861 #32761]  INFO -- : --------------------------------------------------
D, [2020-04-07T21:40:03.559860 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.561185 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "004394305"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.566773 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "004394305"], ["date_of_birth", "2001-04-07"], ["phone", "3740665936"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.568089 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.569105 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.570355 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.571621 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0313024474"], ["active", 1]]
D, [2020-04-07T21:40:03.572808 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.574125 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.575360 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.576433 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.577494 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.579002 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.580145 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"]]
D, [2020-04-07T21:40:03.581092 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:03.583533 #32761]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-07 21:40:03 +0000
I, [2020-04-07T21:40:03.584433 #32761]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-07T21:40:03.584723 #32761]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-07T21:40:03.585553 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.587187 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.588370 #32761] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.589874 #32761] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
I, [2020-04-07T21:40:03.591704 #32761]  INFO -- :   Rendering employees/show.html.erb within layouts/application
D, [2020-04-07T21:40:03.593322 #32761] DEBUG -- :   [1m[36mCACHE Assignment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.598569 #32761] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.599889 #32761] DEBUG -- :   [1m[36mCACHE Assignment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.601059 #32761] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.602735 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.604020 #32761] DEBUG -- :   [1m[36mCACHE Assignment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.605105 #32761] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.610502 #32761] DEBUG -- :   [1m[36mCACHE Assignment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.611646 #32761] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
I, [2020-04-07T21:40:03.612844 #32761]  INFO -- :   Rendered employees/show.html.erb within layouts/application (20.8ms)
I, [2020-04-07T21:40:03.614816 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:40:03.615438 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:40:03.616037 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-07T21:40:03.616681 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-07T21:40:03.617665 #32761]  INFO -- : Completed 200 OK in 33ms (Views: 25.6ms | ActiveRecord: 0.6ms)
D, [2020-04-07T21:40:03.625793 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.626505 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.626814 #32761]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-07T21:40:03.626883 #32761]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-07T21:40:03.626940 #32761]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-07T21:40:03.628044 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.629578 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "299642301"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.631079 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "299642301"], ["date_of_birth", "2001-04-07"], ["phone", "2437582032"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.632469 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:03.638100 #32761]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-07 21:40:03 +0000
I, [2020-04-07T21:40:03.639087 #32761]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-07T21:40:03.639401 #32761]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-07", "role"=>"employee", "active"=>"true"}}
D, [2020-04-07T21:40:03.640650 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.642674 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.644128 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:03.645110 #32761]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-07T21:40:03.656425 #32761]  INFO -- :   Rendered employees/_form.html.erb (10.8ms)
I, [2020-04-07T21:40:03.656803 #32761]  INFO -- :   Rendered employees/new.html.erb within layouts/application (11.4ms)
I, [2020-04-07T21:40:03.658795 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:40:03.659368 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:40:03.659943 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-07T21:40:03.660643 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:40:03.661889 #32761]  INFO -- : Completed 200 OK in 22ms (Views: 16.3ms | ActiveRecord: 0.3ms)
D, [2020-04-07T21:40:03.670013 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.670735 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.671022 #32761]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-07T21:40:03.671097 #32761]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-07T21:40:03.671156 #32761]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-07T21:40:03.672211 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.673713 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "286442115"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.675166 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "286442115"], ["date_of_birth", "2001-04-07"], ["phone", "6440660474"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.676510 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:03.677502 #32761]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-07 21:40:03 +0000
F, [2020-04-07T21:40:03.699364 #32761] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-07T21:40:03.702861 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.703580 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.703837 #32761]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-07T21:40:03.703955 #32761]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-07T21:40:03.704017 #32761]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-07T21:40:03.705035 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.706599 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "301475451"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.708075 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "301475451"], ["date_of_birth", "2001-04-07"], ["phone", "5589181937"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.709432 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:03.714792 #32761]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-07 21:40:03 +0000
I, [2020-04-07T21:40:03.715974 #32761]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-07T21:40:03.716304 #32761]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-07", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-07T21:40:03.717158 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.718476 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.720764 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.722652 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:03.724122 #32761]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-07T21:40:03.735679 #32761]  INFO -- :   Rendered employees/_form.html.erb (10.7ms)
I, [2020-04-07T21:40:03.736040 #32761]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (11.6ms)
I, [2020-04-07T21:40:03.738036 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:40:03.738635 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:40:03.739190 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-07T21:40:03.739791 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:40:03.741036 #32761]  INFO -- : Completed 200 OK in 24ms (Views: 17.0ms | ActiveRecord: 0.4ms)
D, [2020-04-07T21:40:03.749879 #32761] DEBUG -- :   [1m[35m (4.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.750596 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.750894 #32761]  INFO -- : ---------------------------------------------
I, [2020-04-07T21:40:03.750980 #32761]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-07T21:40:03.751069 #32761]  INFO -- : ---------------------------------------------
D, [2020-04-07T21:40:03.752169 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.753702 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "132131827"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.755156 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "132131827"], ["date_of_birth", "2001-04-07"], ["phone", "5770529217"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.756454 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:03.757613 #32761]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-07 21:40:03 +0000
I, [2020-04-07T21:40:03.767742 #32761]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-07T21:40:03.768062 #32761]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-07T21:40:03.769030 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-07T21:40:03.770420 #32761]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-07T21:40:03.777452 #32761]  INFO -- :   Rendered employees/_form.html.erb (6.5ms)
I, [2020-04-07T21:40:03.777893 #32761]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.1ms)
I, [2020-04-07T21:40:03.779772 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:40:03.780354 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:40:03.780937 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:40:03.781587 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:40:03.785592 #32761]  INFO -- : Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.1ms)
D, [2020-04-07T21:40:03.789511 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.794298 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.794604 #32761]  INFO -- : ----------------------------------------------
I, [2020-04-07T21:40:03.794676 #32761]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-07T21:40:03.794736 #32761]  INFO -- : ----------------------------------------------
D, [2020-04-07T21:40:03.795811 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.797282 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "363535210"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.802666 #32761] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "363535210"], ["date_of_birth", "2001-04-07"], ["phone", "8414663256"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.803958 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:03.805049 #32761]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-07 21:40:03 +0000
I, [2020-04-07T21:40:03.806053 #32761]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-07T21:40:03.808347 #32761]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-07T21:40:03.814220 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'manager') AND "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.815440 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'employee') AND "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:03.816598 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'employee') AND "employees"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-07T21:40:03.818560 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.819948 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
I, [2020-04-07T21:40:03.820747 #32761]  INFO -- :   Rendered employees/index.html.erb within layouts/application (12.1ms)
I, [2020-04-07T21:40:03.826834 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:40:03.827428 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-07T21:40:03.828064 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-07T21:40:03.828697 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:40:03.829771 #32761]  INFO -- : Completed 200 OK in 23ms (Views: 20.5ms | ActiveRecord: 0.6ms)
D, [2020-04-07T21:40:03.834843 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.836902 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.837215 #32761]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-07T21:40:03.837293 #32761]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-07T21:40:03.837351 #32761]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-07T21:40:03.838422 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.839935 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "163516944"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.841384 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "163516944"], ["date_of_birth", "2001-04-07"], ["phone", "4417514014"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:03.844899 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:03.846259 #32761]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-07 21:40:03 +0000
I, [2020-04-07T21:40:03.847376 #32761]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-07T21:40:03.847641 #32761]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-07", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-07T21:40:03.848501 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.853865 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.855744 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.857416 #32761] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-07"], ["id", 1]]
D, [2020-04-07T21:40:03.858797 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:03.859717 #32761]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-07T21:40:03.860787 #32761]  INFO -- : Completed 302 Found in 13ms (ActiveRecord: 0.4ms)
D, [2020-04-07T21:40:03.870017 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.874541 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.874858 #32761]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-04-07T21:40:03.874938 #32761]  INFO -- : StoreTest: test_: Store should validate that :name is case-insensitively unique. 
I, [2020-04-07T21:40:03.875015 #32761]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-04-07T21:40:03.875951 #32761] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:03.880127 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.881155 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("phone") VALUES (?)[0m  [["phone", ""]]
D, [2020-04-07T21:40:03.881929 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.882612 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.883539 #32761] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ? WHERE "stores"."id" = ?[0m  [["name", "an arbitrary value"], ["id", 1]]
D, [2020-04-07T21:40:03.884336 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.892132 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.895943 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "AN ARBITRARY VALUE"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.897333 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.902529 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.902859 #32761]  INFO -- : -------------------------------------------------------------
I, [2020-04-07T21:40:03.902934 #32761]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"bad"â€º. 
I, [2020-04-07T21:40:03.902995 #32761]  INFO -- : -------------------------------------------------------------
D, [2020-04-07T21:40:03.908381 #32761] DEBUG -- :   [1m[36mStore Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:03.909086 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.911760 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.912057 #32761]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:40:03.912130 #32761]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-04-07T21:40:03.912217 #32761]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:40:03.919220 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:03.919975 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.928278 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.928632 #32761]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:40:03.928709 #32761]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-04-07T21:40:03.928795 #32761]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:40:03.931925 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:03.932637 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.938794 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.939147 #32761]  INFO -- : -------------------------------------------------------------------
I, [2020-04-07T21:40:03.939255 #32761]  INFO -- : StoreTest: test_: Given context should list stores alphabetically. 
I, [2020-04-07T21:40:03.939323 #32761]  INFO -- : -------------------------------------------------------------------
D, [2020-04-07T21:40:03.940193 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.941578 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.947160 #32761] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0253354839"], ["active", 1]]
D, [2020-04-07T21:40:03.948574 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.953756 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.955087 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.956427 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:03.961933 #32761] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.963124 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.964366 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:03.969655 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9095509210"], ["active", 0]]
D, [2020-04-07T21:40:03.971111 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.972095 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" ORDER BY name[0m
D, [2020-04-07T21:40:03.972968 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.973820 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:03.974607 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.975194 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.975955 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:03.976719 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.977350 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.986335 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:03.987127 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:03.987809 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.989834 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:03.990749 #32761]  INFO -- : ----------------------------------------------------------
I, [2020-04-07T21:40:03.990827 #32761]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"WV"â€º. 
I, [2020-04-07T21:40:03.990904 #32761]  INFO -- : ----------------------------------------------------------
D, [2020-04-07T21:40:03.993670 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:03.994380 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:03.999920 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.000233 #32761]  INFO -- : --------------------------------------------------------------------
I, [2020-04-07T21:40:04.000336 #32761]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-04-07T21:40:04.000401 #32761]  INFO -- : --------------------------------------------------------------------
D, [2020-04-07T21:40:04.004212 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.004884 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.008125 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.008446 #32761]  INFO -- : ---------------------------------------------------------------
I, [2020-04-07T21:40:04.008524 #32761]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"bad"â€º. 
I, [2020-04-07T21:40:04.008606 #32761]  INFO -- : ---------------------------------------------------------------
D, [2020-04-07T21:40:04.011762 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.012474 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.020506 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.020952 #32761]  INFO -- : -------------------------------------------------------------------
I, [2020-04-07T21:40:04.021033 #32761]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-04-07T21:40:04.021150 #32761]  INFO -- : -------------------------------------------------------------------
D, [2020-04-07T21:40:04.026448 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.027602 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.032552 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.037683 #32761]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:40:04.037779 #32761]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-04-07T21:40:04.037863 #32761]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:40:04.041247 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.042095 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.046021 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.046345 #32761]  INFO -- : --------------------------------------------------------------------
I, [2020-04-07T21:40:04.046439 #32761]  INFO -- : StoreTest: test_: Given context should have a make_inactive method. 
I, [2020-04-07T21:40:04.046518 #32761]  INFO -- : --------------------------------------------------------------------
D, [2020-04-07T21:40:04.047331 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.048629 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.050171 #32761] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2422892168"], ["active", 1]]
D, [2020-04-07T21:40:04.051648 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.052617 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.056871 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.058319 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:04.059782 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.060897 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.062146 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.063474 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0346197791"], ["active", 0]]
D, [2020-04-07T21:40:04.065068 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.077344 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.078842 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "CMU"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.080316 #32761] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", 0], ["id", 1]]
D, [2020-04-07T21:40:04.081220 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.082211 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.083156 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.083938 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.084687 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.085307 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.090196 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.090941 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.091550 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.092327 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.093049 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.093777 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.094499 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.094788 #32761]  INFO -- : -----------------------------------------------------------
I, [2020-04-07T21:40:04.094861 #32761]  INFO -- : StoreTest: test_: Store should allow :zip to be â€¹"15213"â€º. 
I, [2020-04-07T21:40:04.094964 #32761]  INFO -- : -----------------------------------------------------------
D, [2020-04-07T21:40:04.097557 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.098229 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.098860 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.099165 #32761]  INFO -- : --------------------------------------------------------------------
I, [2020-04-07T21:40:04.099245 #32761]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-04-07T21:40:04.099312 #32761]  INFO -- : --------------------------------------------------------------------
D, [2020-04-07T21:40:04.105819 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.106525 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.107170 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.107476 #32761]  INFO -- : --------------------------------------------------------------
I, [2020-04-07T21:40:04.107547 #32761]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"1512"â€º. 
I, [2020-04-07T21:40:04.107608 #32761]  INFO -- : --------------------------------------------------------------
D, [2020-04-07T21:40:04.110426 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.111069 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.111702 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.111996 #32761]  INFO -- : ----------------------------------------------------------------------------
I, [2020-04-07T21:40:04.112070 #32761]  INFO -- : StoreTest: test_: Store should validate that :street cannot be empty/falsy. 
I, [2020-04-07T21:40:04.112131 #32761]  INFO -- : ----------------------------------------------------------------------------
D, [2020-04-07T21:40:04.115322 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.115958 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.116574 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.116846 #32761]  INFO -- : -----------------------------------------------------------------------------
I, [2020-04-07T21:40:04.116920 #32761]  INFO -- : StoreTest: test_: Given context should have all active stores accounted for. 
I, [2020-04-07T21:40:04.116993 #32761]  INFO -- : -----------------------------------------------------------------------------
D, [2020-04-07T21:40:04.121756 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.123055 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.124456 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9421474494"], ["active", 1]]
D, [2020-04-07T21:40:04.125834 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.126794 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.127914 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.129169 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:04.130476 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.131409 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.132471 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.133697 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5816312097"], ["active", 0]]
D, [2020-04-07T21:40:04.134982 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.135935 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.136754 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.141720 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.142605 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.143442 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.144144 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.144765 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.145534 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.146282 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.146910 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.147657 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.148390 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.149062 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.149765 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.150079 #32761]  INFO -- : ------------------------------------------------------------------
I, [2020-04-07T21:40:04.150149 #32761]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-04-07T21:40:04.150211 #32761]  INFO -- : ------------------------------------------------------------------
D, [2020-04-07T21:40:04.152880 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.153512 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.154184 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.154502 #32761]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:40:04.154574 #32761]  INFO -- : StoreTest: test_: Store should validate that :city cannot be empty/falsy. 
I, [2020-04-07T21:40:04.154640 #32761]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:40:04.157769 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.158416 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.159019 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.159328 #32761]  INFO -- : ------------------------------------------------------------
I, [2020-04-07T21:40:04.159399 #32761]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹10â€º. 
I, [2020-04-07T21:40:04.159455 #32761]  INFO -- : ------------------------------------------------------------
D, [2020-04-07T21:40:04.162138 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.162770 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.163389 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.163675 #32761]  INFO -- : -------------------------------------------------------------
I, [2020-04-07T21:40:04.163744 #32761]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹nilâ€º. 
I, [2020-04-07T21:40:04.163799 #32761]  INFO -- : -------------------------------------------------------------
D, [2020-04-07T21:40:04.170653 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.171363 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.172080 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.172379 #32761]  INFO -- : ------------------------------------------------------
I, [2020-04-07T21:40:04.172448 #32761]  INFO -- : StoreTest: test_: Store should have many assignments. 
I, [2020-04-07T21:40:04.172501 #32761]  INFO -- : ------------------------------------------------------
D, [2020-04-07T21:40:04.173666 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.174272 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.174584 #32761]  INFO -- : --------------------------------------------------------------------
I, [2020-04-07T21:40:04.174669 #32761]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"15213-0983"â€º. 
I, [2020-04-07T21:40:04.174727 #32761]  INFO -- : --------------------------------------------------------------------
D, [2020-04-07T21:40:04.177478 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.178104 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.178701 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.178979 #32761]  INFO -- : ------------------------------------------------------------------
I, [2020-04-07T21:40:04.179051 #32761]  INFO -- : StoreTest: test_: Given context should have a make_active method. 
I, [2020-04-07T21:40:04.179110 #32761]  INFO -- : ------------------------------------------------------------------
D, [2020-04-07T21:40:04.179850 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.180958 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.186464 #32761] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2887761719"], ["active", 1]]
D, [2020-04-07T21:40:04.187757 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.188817 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.189968 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.191180 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:04.192511 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.193534 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.194658 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.196022 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8411024044"], ["active", 0]]
D, [2020-04-07T21:40:04.197493 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.202290 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.203535 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "Hazelwood"], ["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.204800 #32761] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", 1], ["id", 3]]
D, [2020-04-07T21:40:04.205676 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.206735 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.207729 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.208591 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.209381 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.210075 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.210824 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.211552 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.212168 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.213048 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.213884 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.214610 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.215346 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.215620 #32761]  INFO -- : ----------------------------------------------------------------------
I, [2020-04-07T21:40:04.215691 #32761]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-04-07T21:40:04.215824 #32761]  INFO -- : ----------------------------------------------------------------------
D, [2020-04-07T21:40:04.222689 #32761] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.223402 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.224077 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.224398 #32761]  INFO -- : -------------------------------------------------------------------
I, [2020-04-07T21:40:04.224473 #32761]  INFO -- : StoreTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-04-07T21:40:04.224532 #32761]  INFO -- : -------------------------------------------------------------------
D, [2020-04-07T21:40:04.225264 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.226422 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.227832 #32761] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0280363116"], ["active", 1]]
D, [2020-04-07T21:40:04.229140 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.230160 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.231223 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.232385 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:04.233715 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.234719 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.235805 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.237021 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2131729410"], ["active", 0]]
D, [2020-04-07T21:40:04.238302 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.238915 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.239733 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.240421 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.241042 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.245844 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.246627 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.247294 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.248054 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.248767 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.249440 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.250169 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.250472 #32761]  INFO -- : -----------------------------------------------------------------------
I, [2020-04-07T21:40:04.250545 #32761]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-04-07T21:40:04.250605 #32761]  INFO -- : -----------------------------------------------------------------------
D, [2020-04-07T21:40:04.253563 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.254220 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.254845 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.255131 #32761]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:40:04.255203 #32761]  INFO -- : StoreTest: test_: Store should have many employees through assignments. 
I, [2020-04-07T21:40:04.255269 #32761]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:40:04.256312 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.256888 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.257145 #32761]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:40:04.257218 #32761]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-04-07T21:40:04.257315 #32761]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:40:04.260373 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.260994 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.261591 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.261869 #32761]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-07T21:40:04.261960 #32761]  INFO -- : StoreTest: test_: Given context should have all inactive stores accounted for. 
I, [2020-04-07T21:40:04.262018 #32761]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-07T21:40:04.262715 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.263951 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.265404 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7472732234"], ["active", 1]]
D, [2020-04-07T21:40:04.270885 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.271939 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.273122 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.274410 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:04.275652 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.276678 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.277766 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.278981 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6223497947"], ["active", 0]]
D, [2020-04-07T21:40:04.280172 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.281172 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.286226 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.287285 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.288062 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.288836 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.289594 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.290257 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.290999 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.291702 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.292309 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.293055 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.293836 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.294521 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.295177 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.295477 #32761]  INFO -- : --------------------------------------------------------------
I, [2020-04-07T21:40:04.295549 #32761]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"CA"â€º. 
I, [2020-04-07T21:40:04.295607 #32761]  INFO -- : --------------------------------------------------------------
D, [2020-04-07T21:40:04.302704 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.303394 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.304064 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.304390 #32761]  INFO -- : ----------------------------------------------------------
I, [2020-04-07T21:40:04.304459 #32761]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"OH"â€º. 
I, [2020-04-07T21:40:04.304517 #32761]  INFO -- : ----------------------------------------------------------
D, [2020-04-07T21:40:04.307042 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.307742 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.308366 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.308622 #32761]  INFO -- : --------------------------------------------------------------
I, [2020-04-07T21:40:04.308754 #32761]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"NY"â€º. 
I, [2020-04-07T21:40:04.308813 #32761]  INFO -- : --------------------------------------------------------------
D, [2020-04-07T21:40:04.311488 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.312154 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.312796 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.313079 #32761]  INFO -- : ----------------------------------------------------------
I, [2020-04-07T21:40:04.313150 #32761]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"PA"â€º. 
I, [2020-04-07T21:40:04.313204 #32761]  INFO -- : ----------------------------------------------------------
D, [2020-04-07T21:40:04.315608 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.316262 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.316872 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.317129 #32761]  INFO -- : -------------------------------------------------------------
I, [2020-04-07T21:40:04.317200 #32761]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹nilâ€º. 
I, [2020-04-07T21:40:04.317267 #32761]  INFO -- : -------------------------------------------------------------
D, [2020-04-07T21:40:04.324075 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.324812 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.325471 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.325757 #32761]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:40:04.325829 #32761]  INFO -- : StoreTest: test_: Store should validate that :name cannot be empty/falsy. 
I, [2020-04-07T21:40:04.325924 #32761]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-07T21:40:04.329001 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.329726 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.330391 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.330645 #32761]  INFO -- : ----------------------------------------------------------------
I, [2020-04-07T21:40:04.330715 #32761]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"152134"â€º. 
I, [2020-04-07T21:40:04.330822 #32761]  INFO -- : ----------------------------------------------------------------
D, [2020-04-07T21:40:04.333470 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:04.334271 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.334864 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.335115 #32761]  INFO -- : ---------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:04.335207 #32761]  INFO -- : StoreTest: test_: Given context should shows that Oakland's phone is stripped of non-digits. 
I, [2020-04-07T21:40:04.335283 #32761]  INFO -- : ---------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:04.335979 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.337076 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.338448 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4182690244"], ["active", 1]]
D, [2020-04-07T21:40:04.339616 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.340566 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.341581 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.342733 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:04.343873 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.344767 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.349748 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.351032 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7878864617"], ["active", 0]]
D, [2020-04-07T21:40:04.352475 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.353117 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.353941 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.354706 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.355272 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.356038 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.356726 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.357291 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.358104 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.358822 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.359509 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.360676 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.360937 #32761]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:40:04.361080 #32761]  INFO -- : ApplicationControllerTest: test_should_redirect_to_home_path_on_404_errors
I, [2020-04-07T21:40:04.361141 #32761]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-07T21:40:04.369015 #32761]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-07 21:40:04 +0000
I, [2020-04-07T21:40:04.371796 #32761]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-07T21:40:04.372075 #32761]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-07T21:40:04.373494 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-07T21:40:04.375154 #32761]  INFO -- : Redirected to http://www.example.com/home
I, [2020-04-07T21:40:04.375919 #32761]  INFO -- : Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
D, [2020-04-07T21:40:04.379137 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.386447 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.386816 #32761]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-04-07T21:40:04.386884 #32761]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_employee' that works. 
I, [2020-04-07T21:40:04.386955 #32761]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-04-07T21:40:04.387797 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.389154 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.390560 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3913749204"], ["active", 1]]
D, [2020-04-07T21:40:04.391965 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.392881 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.393932 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.395039 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:04.396157 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.397030 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.398029 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.399229 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3928847976"], ["active", 0]]
D, [2020-04-07T21:40:04.400599 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.401767 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.403057 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "305827857"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.404316 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "305827857"], ["date_of_birth", "2001-04-07"], ["phone", "4311253244"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:04.405610 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.410934 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.412288 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.413671 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "0872182669"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:04.415233 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.416397 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.417532 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "065550032"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.418817 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "065550032"], ["date_of_birth", "2004-04-07"], ["phone", "7000476100"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:04.420067 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.421158 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.422353 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "185510268"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.423594 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "185510268"], ["date_of_birth", "1994-04-07"], ["phone", "3341459996"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:04.424899 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.430114 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.431436 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.432726 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:04.434106 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.435357 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.436520 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.437747 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "2768120888"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:04.439199 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.440319 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.441472 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "124134478"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.442717 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "124134478"], ["date_of_birth", "2001-04-07"], ["phone", "2205155075"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:04.443935 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.445188 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.446522 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.447717 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.448823 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.450364 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.451505 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:04.452492 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.453606 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.458904 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.460024 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.461084 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.462484 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.463517 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:04.464537 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.465829 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.466959 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.468100 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.469157 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.472411 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.473538 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:04.474558 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.475853 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.477017 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.478164 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.479204 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.480563 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.481590 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:04.482658 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.483740 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.484793 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.485951 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.487022 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.488384 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.489398 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:04.494361 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.495576 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.496679 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.497857 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.499015 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.500582 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.501717 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:04.502668 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.503573 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 5)[0m
D, [2020-04-07T21:40:04.504409 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 6)[0m
D, [2020-04-07T21:40:04.505020 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.509879 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.510609 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.511259 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.512027 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.512804 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.513382 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.514152 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.514898 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.515532 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.516217 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:04.516948 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.517561 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.518292 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:04.519026 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.519642 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.520342 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:04.521012 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.521594 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.526508 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.527226 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.527822 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.528554 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.529304 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.529894 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.530565 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.531214 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.531794 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.532495 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:04.533129 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.533721 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.534410 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:04.535074 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.535655 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.536408 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:04.537184 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.537919 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.538674 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:04.539444 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.540087 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.540869 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.545666 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.546277 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.546991 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.547784 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.548399 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.549145 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.549943 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.550636 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.551348 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.551662 #32761]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:04.551734 #32761]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed alphabetically by employee name. 
I, [2020-04-07T21:40:04.551796 #32761]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:04.552657 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.554013 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.555385 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8016377591"], ["active", 1]]
D, [2020-04-07T21:40:04.556678 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.557720 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.558709 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.559878 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:04.561017 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.561947 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.562942 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.564084 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5434830572"], ["active", 0]]
D, [2020-04-07T21:40:04.565478 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.570812 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.572321 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "086585472"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.573810 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "086585472"], ["date_of_birth", "2001-04-07"], ["phone", "7384417857"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:04.575359 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.576595 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.577842 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.579088 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "4108399373"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:04.580416 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.581559 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.582821 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "278627179"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.584057 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "278627179"], ["date_of_birth", "2004-04-07"], ["phone", "4154860451"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:04.585452 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.586653 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.587887 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "249994824"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.589169 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "249994824"], ["date_of_birth", "1994-04-07"], ["phone", "7026759576"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:04.594593 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.595951 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.597299 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.598715 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:04.600019 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.601281 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.602520 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.603846 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "7551125205"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:04.605220 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.610677 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.612058 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "147472661"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.613368 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "147472661"], ["date_of_birth", "2001-04-07"], ["phone", "6807813689"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:04.614851 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.616230 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.617643 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.618941 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.620167 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.625808 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.627192 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:04.628326 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.629765 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.631105 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.632568 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.634021 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.635828 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.637092 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:04.638288 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.639736 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.641037 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.646416 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.647620 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.649099 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.650351 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:04.651439 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.652873 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.654167 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.655298 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.656458 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.662027 #32761] DEBUG -- :   [1m[36mAssignment Exists (4.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.663281 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:04.664397 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.665745 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.667008 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.668291 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.669466 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.671029 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.679761 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:04.680839 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.682227 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.683541 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.684716 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.689895 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.691488 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.692602 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:04.693655 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.701906 #32761] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" ORDER BY last_name, first_name[0m
D, [2020-04-07T21:40:04.703122 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.704283 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.705381 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.706453 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.707540 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.708626 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.709495 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.714589 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.715388 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.715992 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.716752 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.717462 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.718079 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.718862 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.719627 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.720211 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.720949 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:04.721697 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.722343 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.723047 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:04.723724 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.724375 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.725083 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:04.729860 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.730507 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.731360 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.732087 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.732662 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.733419 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.734258 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.734857 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.735595 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.736344 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.736961 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.737713 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:04.738379 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.738967 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.739734 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:04.740454 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.741035 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.741811 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:04.742553 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.743138 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.743902 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:04.744672 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.745299 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.750177 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.750895 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.751547 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.752265 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.753001 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.753640 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.754377 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.755068 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.755763 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.756523 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.756804 #32761]  INFO -- : ------------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:04.756879 #32761]  INFO -- : AssignmentTest: test_: Given context should allow for a end date in the past (or today) but after the start date. 
I, [2020-04-07T21:40:04.756940 #32761]  INFO -- : ------------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:04.757781 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.759088 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.760458 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2138851733"], ["active", 1]]
D, [2020-04-07T21:40:04.761798 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.762768 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.763825 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.765013 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:04.770359 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.771439 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.772730 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.774014 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3807018640"], ["active", 0]]
D, [2020-04-07T21:40:04.775223 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.776435 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.781797 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "365638313"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.783192 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "365638313"], ["date_of_birth", "2001-04-07"], ["phone", "1387497786"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:04.784474 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.785784 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.787051 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.788274 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "6946289315"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:04.789504 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.794842 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.796122 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "114486905"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.797418 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "114486905"], ["date_of_birth", "2004-04-07"], ["phone", "4220464574"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:04.798697 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.799890 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.801041 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "034338951"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.802307 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "034338951"], ["date_of_birth", "1994-04-07"], ["phone", "0229119513"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:04.803606 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.804852 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.806058 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.807344 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:04.808642 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.814016 #32761] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.815408 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.816709 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "3788164477"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:04.818097 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.819368 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.820583 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "178848450"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.821848 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "178848450"], ["date_of_birth", "2001-04-07"], ["phone", "5023710858"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:04.823173 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.824486 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.829774 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.831046 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.832317 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.833884 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.835074 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:04.836083 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.837389 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.838593 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.839816 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.840927 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.846575 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.847742 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:04.848730 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.850051 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.851227 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.852443 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.853604 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.855226 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.856285 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:04.857225 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.858601 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.859780 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.860976 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.866150 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.867684 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.868822 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:04.869941 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.871262 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.872351 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.873555 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.874690 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.876128 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.877231 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:04.878209 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.879514 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.880670 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.885841 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.887064 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.888583 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.889759 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:04.890829 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.892718 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.893909 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.895709 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.896808 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:04.897704 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.898550 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.899321 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.899915 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.900695 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.901431 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.903795 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.904580 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.905344 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.906172 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.906951 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:04.907679 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.908263 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.909041 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:04.909818 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.910412 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.911174 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:04.911907 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.912558 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.913377 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.914118 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.914707 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.915489 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.916219 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.916855 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.917608 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.922401 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.922982 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.923800 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:04.924550 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.925159 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.925952 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:04.926650 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.927286 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.927979 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:04.928669 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.929302 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.930049 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:04.930783 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.931400 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.932163 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:04.932871 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.933457 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.938280 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:04.938994 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.939634 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.940411 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:04.941077 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.941790 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:04.942516 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:04.942802 #32761]  INFO -- : ---------------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:04.942873 #32761]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all assignments for a given date. 
I, [2020-04-07T21:40:04.942933 #32761]  INFO -- : ---------------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:04.943695 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.945062 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.946623 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2043317417"], ["active", 1]]
D, [2020-04-07T21:40:04.948013 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.949075 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.950229 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.951495 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:04.952828 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.953893 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.955003 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.956294 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2344788046"], ["active", 0]]
D, [2020-04-07T21:40:04.957556 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.962795 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.964167 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "274731536"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.965604 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "274731536"], ["date_of_birth", "2001-04-07"], ["phone", "1332010132"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:04.967057 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.968290 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.969536 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.970765 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "5976626292"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:04.972115 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.973264 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.978621 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "144467836"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.979873 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "144467836"], ["date_of_birth", "2004-04-07"], ["phone", "5137774028"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:04.981203 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.982504 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.983690 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "293711191"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.984958 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "293711191"], ["date_of_birth", "1994-04-07"], ["phone", "3250261040"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:04.986320 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.987554 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.988736 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.990041 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:04.991437 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.992653 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:04.997905 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:04.999275 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "5847881604"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:05.000624 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.001852 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.003205 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "148994484"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.004510 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "148994484"], ["date_of_birth", "2001-04-07"], ["phone", "4151787780"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:05.005923 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.007225 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.008554 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.009985 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.011217 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.012706 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.013901 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:05.014960 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.016222 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.017377 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.018589 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.019648 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.021121 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.026307 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:05.027311 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.028608 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.029771 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.030974 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.032111 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.033614 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.034717 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:05.035667 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.037006 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.042295 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.043530 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.044716 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.046273 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.047342 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:05.048404 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.049700 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.050852 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.052013 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.053182 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.058753 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.059882 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:05.060857 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.062186 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.063390 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.064581 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.065760 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.067209 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.068328 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:05.069293 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.070463 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (start_date <= '2019-05-07' AND (end_date > '2019-05-07' OR end_date IS NULL))[0m
D, [2020-04-07T21:40:05.071413 #32761] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE (start_date <= '2019-05-07' AND (end_date > '2019-05-07' OR end_date IS NULL))[0m
D, [2020-04-07T21:40:05.072478 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.077644 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.078814 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.079781 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.080644 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.081365 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.082031 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.082755 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.083483 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.084110 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.084832 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.085576 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.086167 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.086929 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:05.087660 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.088279 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.089050 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:05.089821 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.090401 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.091175 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:05.091899 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.092507 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.093338 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.098029 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.098660 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.099455 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.100183 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.100785 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.101535 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.102304 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.102904 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.103679 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:05.104409 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.104990 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.105821 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:05.106578 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.107195 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.107938 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:05.108688 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.109301 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.110078 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:05.110833 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.111498 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.112287 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.113022 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.113692 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.114477 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.115167 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.115773 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.116482 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.117205 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.117948 #32761] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:05.118653 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:05.118964 #32761]  INFO -- : ----------------------------------------------------------------------------
I, [2020-04-07T21:40:05.119036 #32761]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹nilâ€º. 
I, [2020-04-07T21:40:05.119093 #32761]  INFO -- : ----------------------------------------------------------------------------
D, [2020-04-07T21:40:05.126982 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.128030 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.128850 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:05.129554 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:05.129877 #32761]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:05.129948 #32761]  INFO -- : AssignmentTest: test_: Assignment should validate that :employee_id cannot be empty/falsy. 
I, [2020-04-07T21:40:05.130019 #32761]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:05.133898 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.134931 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.135658 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:05.136321 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:05.136657 #32761]  INFO -- : ---------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:05.136726 #32761]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all past assignments for a store or employee. 
I, [2020-04-07T21:40:05.136782 #32761]  INFO -- : ---------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:05.137603 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.143147 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.144664 #32761] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9461750893"], ["active", 1]]
D, [2020-04-07T21:40:05.146112 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.147179 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.148195 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.149451 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:05.154918 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.155951 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.157060 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.162379 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8183940406"], ["active", 0]]
D, [2020-04-07T21:40:05.163706 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.164921 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.166371 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "236659027"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.167836 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "236659027"], ["date_of_birth", "2001-04-07"], ["phone", "6715934219"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.169373 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.174709 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.176110 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.177515 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "4568304225"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.178939 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.180009 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.181261 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "160330959"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.184349 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "160330959"], ["date_of_birth", "2004-04-07"], ["phone", "2762761408"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.185747 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.186885 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.188190 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "289587912"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.189455 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "289587912"], ["date_of_birth", "1994-04-07"], ["phone", "8737920180"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:05.190838 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.191996 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.193232 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.198675 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:05.200066 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.201374 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.202705 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.204040 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "2292765057"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:05.205385 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.210705 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.212099 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "028006873"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.213482 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "028006873"], ["date_of_birth", "2001-04-07"], ["phone", "4752666529"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:05.214896 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.216156 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.217473 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.222873 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.224073 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.225709 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.226955 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:05.228115 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.229380 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.234735 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.236001 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.237179 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.238756 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.239870 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:05.240904 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.242266 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.243439 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.244676 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.245837 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.247329 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.248448 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:05.249524 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.255080 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.256462 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.257804 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.258964 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.260528 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.261691 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:05.262835 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.264086 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.265271 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.270617 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.271824 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.273426 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.274686 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:05.284445 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.285937 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.287299 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.288507 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.289637 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.291104 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.292216 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:05.293162 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.294162 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (store_id = 1)[0m
D, [2020-04-07T21:40:05.295064 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (store_id = 2)[0m
D, [2020-04-07T21:40:05.296032 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (employee_id = 5)[0m
D, [2020-04-07T21:40:05.296932 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (employee_id = 2)[0m
D, [2020-04-07T21:40:05.297560 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.302467 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.303210 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.303818 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.304571 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.305291 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.305893 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.306651 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.307383 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.307997 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.308736 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:05.309476 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.310129 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.310868 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:05.311594 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.312217 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.313015 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:05.317779 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.318481 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.319288 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.320041 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.320684 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.321407 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.322156 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.322793 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.323531 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.324261 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.324899 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.325642 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:05.326379 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.327006 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.327723 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:05.328478 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.329102 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.333919 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:05.334704 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.335344 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.336063 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:05.336824 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.337483 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.338281 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.339036 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.339675 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.340402 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.341148 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.341786 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.342504 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.343273 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.343958 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:05.346171 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:05.346458 #32761]  INFO -- : ----------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:05.346530 #32761]  INFO -- : AssignmentTest: test_: Given context should identify a non-active store as part of an invalid assignment. 
I, [2020-04-07T21:40:05.346586 #32761]  INFO -- : ----------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:05.347414 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.348719 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.350205 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3589103096"], ["active", 1]]
D, [2020-04-07T21:40:05.351572 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.352554 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.353595 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.358893 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:05.360140 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.361180 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.362355 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.363526 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1295113763"], ["active", 0]]
D, [2020-04-07T21:40:05.364733 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.365922 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.367230 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "045462076"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.368519 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "045462076"], ["date_of_birth", "2001-04-07"], ["phone", "0080554688"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.369784 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.370961 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.372172 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.373389 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "2639381513"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.374693 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.375845 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.376983 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "086517319"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.382131 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "086517319"], ["date_of_birth", "2004-04-07"], ["phone", "1303362995"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.383426 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.384720 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.386001 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "197181902"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.387210 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "197181902"], ["date_of_birth", "1994-04-07"], ["phone", "7348927061"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:05.388542 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.389810 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.391022 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.392168 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:05.393505 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.394770 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.395965 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.397127 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "5697888847"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:05.398490 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.399652 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.400839 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "380108278"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.406011 #32761] DEBUG -- :   [1m[36mEmployee Create (4.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "380108278"], ["date_of_birth", "2001-04-07"], ["phone", "2584959977"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:05.407397 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.408730 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.410025 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.411192 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.412308 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.413870 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.415065 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:05.416164 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.417431 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.422966 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.424169 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.425325 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.426870 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.428021 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:05.428959 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.430264 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.431408 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.432561 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.437711 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.439279 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.440359 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:05.441365 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.442742 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.443987 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.445113 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.446287 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.447692 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.448812 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:05.449920 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.451094 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.452210 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.453357 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.454451 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.455868 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.456954 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:05.461953 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.463231 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.464442 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.465575 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.466793 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.468262 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.469356 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:05.470329 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.471890 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.472976 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.477726 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.478598 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.479361 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.479955 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.480715 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.481461 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.482065 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.482854 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.483580 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.484169 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.484933 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:05.485733 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.486415 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.487204 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:05.487970 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.488591 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.489321 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:05.490089 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.490725 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.491501 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.492252 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.492870 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.493674 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.494420 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.495000 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.495764 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.496504 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.497093 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.501887 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:05.502649 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.503225 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.503997 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:05.504749 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.505367 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.506114 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:05.506857 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.507477 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.508191 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:05.508930 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.509573 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.510384 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.511110 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.511734 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.512468 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.513186 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.517840 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.518586 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.519325 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.519989 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:05.520680 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:05.520989 #32761]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-04-07T21:40:05.521058 #32761]  INFO -- : AssignmentTest: test_: Assignment should allow :start_date to be â€¹Tue, 18 Feb 2020â€º. 
I, [2020-04-07T21:40:05.521116 #32761]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-04-07T21:40:05.523970 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.524974 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.525777 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:05.526451 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:05.526704 #32761]  INFO -- : -------------------------------------------------------------
I, [2020-04-07T21:40:05.526771 #32761]  INFO -- : AssignmentTest: test_: Assignment should belong to employee. 
I, [2020-04-07T21:40:05.526881 #32761]  INFO -- : -------------------------------------------------------------
D, [2020-04-07T21:40:05.527271 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:05.527849 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:05.528142 #32761]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:40:05.528210 #32761]  INFO -- : AssignmentTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-04-07T21:40:05.528275 #32761]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:40:05.529013 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.530268 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.531688 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8650105253"], ["active", 1]]
D, [2020-04-07T21:40:05.532991 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.534054 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.535118 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.536316 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:05.541686 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.542837 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.544019 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.545218 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3546169116"], ["active", 0]]
D, [2020-04-07T21:40:05.546555 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.547685 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.549026 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "113431387"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.550339 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "113431387"], ["date_of_birth", "2001-04-07"], ["phone", "7569004271"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.551696 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.552952 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.557122 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.558357 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "2901096359"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.559705 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.560898 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.562156 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "300980023"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.563322 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "300980023"], ["date_of_birth", "2004-04-07"], ["phone", "5060922806"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.564639 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.565827 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.567094 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "328620249"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.568271 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "328620249"], ["date_of_birth", "1994-04-07"], ["phone", "4284293282"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:05.569634 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.570855 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.572083 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.573250 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:05.578692 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.579993 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.581303 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.582570 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "6479799000"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:05.583901 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.585041 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.586310 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "223329586"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.587478 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "223329586"], ["date_of_birth", "2001-04-07"], ["phone", "3043923224"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:05.588815 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.590107 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.591375 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.592578 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.597828 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.599418 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.600654 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:05.601751 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.603072 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.604225 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.605377 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.606506 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.607839 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.608935 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:05.618013 #32761] DEBUG -- :   [1m[35m (8.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.619404 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.620689 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.621836 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.622966 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.624395 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.625520 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:05.629119 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.630501 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.631721 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.632857 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.633962 #32761] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.635392 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.636473 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:05.637522 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.638709 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.639825 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.640943 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.650201 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.651850 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.652975 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:05.653993 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.655290 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.656428 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.657566 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.658659 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.660015 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.661099 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:05.662094 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.662979 #32761] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:05.663745 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.664505 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.665248 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.669899 #32761] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.670653 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.671392 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.671995 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.672714 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.673433 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.674051 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.674821 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:05.675538 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.676101 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.676883 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:05.677614 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.678247 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.679004 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:05.679754 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.680350 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.681166 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.681951 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.682533 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.683288 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.683988 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.684638 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.685377 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.686113 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.686739 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.687525 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:05.688230 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.688818 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.689587 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:05.690328 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.690910 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.691647 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:05.692381 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.692982 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.697766 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:05.698531 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.699206 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.700009 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.700737 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.701394 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.702168 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.702884 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.703514 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.704274 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.704986 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.705729 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:05.706451 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:05.706791 #32761]  INFO -- : ----------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:05.706861 #32761]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed alphabetically by store name. 
I, [2020-04-07T21:40:05.706918 #32761]  INFO -- : ----------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:05.707641 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.708901 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.710283 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6575897841"], ["active", 1]]
D, [2020-04-07T21:40:05.711631 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.712617 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.713695 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.714907 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:05.716288 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.717229 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.722047 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.723335 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8684697561"], ["active", 0]]
D, [2020-04-07T21:40:05.724602 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.725855 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.727221 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "179815392"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.728562 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "179815392"], ["date_of_birth", "2001-04-07"], ["phone", "1019624628"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.729898 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.731166 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.732373 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.733561 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "3777323783"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.734897 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.736104 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.737371 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "249048777"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.742724 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "249048777"], ["date_of_birth", "2004-04-07"], ["phone", "2790393386"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.744266 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.745604 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.746976 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "384102288"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.748113 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "384102288"], ["date_of_birth", "1994-04-07"], ["phone", "5640996153"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:05.749533 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.750786 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.751970 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.753162 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:05.758663 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.760029 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.761381 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.762735 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "6359712773"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:05.764152 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.765388 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.766647 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "334537266"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.767900 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "334537266"], ["date_of_birth", "2001-04-07"], ["phone", "1817785355"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:05.769308 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.770619 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.771879 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.773048 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.778294 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.779937 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.781129 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:05.782167 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.783519 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.784728 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.790046 #32761] DEBUG -- :   [1m[36mStore Load (4.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.791247 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.792764 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.793940 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:05.794952 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.796310 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.797528 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.798769 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.799891 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.801343 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.802492 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:05.803484 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.804831 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.806060 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.807274 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.808408 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.809835 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.810991 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:05.812126 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.813403 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.818675 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.819955 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.821148 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.822728 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.823867 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:05.824898 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.826207 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.827411 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.828600 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.829802 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.831300 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.832561 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:05.846989 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.848361 #32761] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" ORDER BY name[0m
D, [2020-04-07T21:40:05.849559 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.850732 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.851854 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.852918 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.858093 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.859194 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.860109 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.861032 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.861847 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.862505 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.863229 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.863956 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.864584 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.865357 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.866076 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.866676 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.867431 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:05.868144 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.868769 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.869505 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:05.870449 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.871123 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.871967 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:05.872704 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.873328 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.874156 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.874915 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.875587 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.876330 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.877063 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.877731 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.878463 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.879188 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.879818 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.880610 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:05.881303 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.886008 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.886781 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:05.887542 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.888151 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.888902 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:05.889689 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.890312 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.891079 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:05.891856 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.892540 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.893352 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:05.894190 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.894835 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.895559 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:05.896315 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.896952 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.897783 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:05.898552 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.899272 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:05.899974 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:05.900300 #32761]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:05.900373 #32761]  INFO -- : AssignmentTest: test_: Given context should identify a non-active employee as part of an invalid assignment. 
I, [2020-04-07T21:40:05.900432 #32761]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:05.901214 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.906656 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.908137 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8348729330"], ["active", 1]]
D, [2020-04-07T21:40:05.909432 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.910500 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.911608 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.912819 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:05.914092 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.915035 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.916080 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.917305 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2608028274"], ["active", 0]]
D, [2020-04-07T21:40:05.922623 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.923783 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.925147 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "384659414"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.926546 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "384659414"], ["date_of_birth", "2001-04-07"], ["phone", "8516855431"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.927821 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.929026 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.930297 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.931554 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "6980827531"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.932789 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.934058 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.935356 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "253649350"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.936584 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "253649350"], ["date_of_birth", "2004-04-07"], ["phone", "0779228298"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:05.937833 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.939072 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.940387 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "351783759"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.941600 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "351783759"], ["date_of_birth", "1994-04-07"], ["phone", "9658372949"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:05.946977 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.948372 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.949799 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.951081 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:05.952326 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.953591 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.954943 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.956218 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "7495215153"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:05.957436 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.958654 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.959965 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "321714133"], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.961202 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "321714133"], ["date_of_birth", "2001-04-07"], ["phone", "1753218978"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:05.966188 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.967529 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.968919 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.970141 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.971318 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.972783 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.973952 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:05.975009 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.976267 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.977403 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.978571 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.979699 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.981109 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.986282 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:05.987211 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.988497 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.989689 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.990904 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:05.992029 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.993481 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:05.994616 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:05.995583 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:05.996955 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.002258 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.003498 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.004638 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.006173 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.007337 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:06.008423 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.009807 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.011025 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.012250 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.013385 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.014903 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.016103 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:06.017127 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.018488 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.019641 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.020858 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.026069 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.027597 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.028722 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:06.029778 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.032566 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.033788 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.034732 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.035578 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.036364 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.036985 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.041829 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.042623 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.043230 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.044031 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.044814 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.045493 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.046335 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:06.047118 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.047727 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.048512 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:06.049297 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.049955 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.050727 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:06.051469 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.052106 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.052988 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.057801 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.058440 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.059212 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.059957 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.060650 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.061383 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.062158 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.062836 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.063615 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:06.064375 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.064983 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.065772 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:06.066533 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.067196 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.067917 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:06.068725 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.069401 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.070191 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:06.070962 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.071621 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.072397 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.073173 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.073865 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.074682 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.075436 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.076008 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.076827 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.077538 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.078296 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:06.079046 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:06.079318 #32761]  INFO -- : --------------------------------------------------------------------------------
I, [2020-04-07T21:40:06.079440 #32761]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_role' that works. 
I, [2020-04-07T21:40:06.079509 #32761]  INFO -- : --------------------------------------------------------------------------------
D, [2020-04-07T21:40:06.080305 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.085702 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.087268 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2330757502"], ["active", 1]]
D, [2020-04-07T21:40:06.088650 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.089815 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.090980 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.092228 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:06.093688 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.094715 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.095783 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.097080 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7746308741"], ["active", 0]]
D, [2020-04-07T21:40:06.102562 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.103760 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.105127 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "218208382"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.106558 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "218208382"], ["date_of_birth", "2001-04-07"], ["phone", "3717033774"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.107890 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.109021 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.110327 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.111615 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "4776899848"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.112939 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.118350 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.119759 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "366805943"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.121164 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "366805943"], ["date_of_birth", "2004-04-07"], ["phone", "3307368636"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.122553 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.123764 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.125066 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "244625205"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.126410 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "244625205"], ["date_of_birth", "1994-04-07"], ["phone", "1845381522"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:06.127806 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.129002 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.130319 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.131604 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:06.132979 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.138271 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.139574 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.140893 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "7151495945"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:06.142327 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.143515 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.144752 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "100189847"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.146044 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "100189847"], ["date_of_birth", "2001-04-07"], ["phone", "8466043387"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:06.147396 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.148610 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.149983 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.151286 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.152402 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.158105 #32761] DEBUG -- :   [1m[36mAssignment Exists (4.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.159307 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:06.160413 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.161717 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.162911 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.164131 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.165305 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.166880 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.167974 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:06.168951 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.170199 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.171386 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.172586 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.173827 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.175422 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.176552 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:06.177549 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.178904 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.180146 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.181353 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.186549 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.188037 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.189150 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:06.190225 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.191490 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.192680 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.193895 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.195000 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.196418 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.197471 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:06.199282 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.200507 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.201707 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.202897 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.203968 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.205364 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.206514 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:06.207503 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.208656 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'employee')[0m
D, [2020-04-07T21:40:06.213735 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'manager')[0m
D, [2020-04-07T21:40:06.214401 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.215271 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.216033 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.216643 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.217453 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.218224 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.218847 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.219611 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.220398 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.221015 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.221790 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:06.222567 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.223195 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.223991 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:06.224812 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.225404 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.226190 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:06.226933 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.227580 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.228372 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.229124 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.233769 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.234585 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.235359 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.235918 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.236696 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.237458 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.238096 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.238908 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:06.239630 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.240223 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.241006 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:06.241762 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.242387 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.243160 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:06.243879 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.244485 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.245295 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:06.250038 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.250667 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.251499 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.252275 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.252916 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.253715 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.254460 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.255066 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.255823 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.256537 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.257256 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:06.257991 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:06.258310 #32761]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-04-07T21:40:06.258396 #32761]  INFO -- : AssignmentTest: test_: Assignment should allow :start_date to be â€¹Sat, 07 Apr 2018â€º. 
I, [2020-04-07T21:40:06.258458 #32761]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-04-07T21:40:06.261229 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.266317 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.267078 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:06.267764 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:06.268092 #32761]  INFO -- : -----------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:06.268165 #32761]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed chronologically by start date. 
I, [2020-04-07T21:40:06.268228 #32761]  INFO -- : -----------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:06.269047 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.270419 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.271770 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1657419903"], ["active", 1]]
D, [2020-04-07T21:40:06.273244 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.274271 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.275363 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.276501 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:06.277892 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.278866 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.279934 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.281041 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6272159150"], ["active", 0]]
D, [2020-04-07T21:40:06.286508 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.287741 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.289137 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "362922102"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.290470 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "362922102"], ["date_of_birth", "2001-04-07"], ["phone", "7044996288"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.291939 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.293259 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.294577 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.295788 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "8695015212"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.297277 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.298484 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.299702 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "052324485"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.300875 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "052324485"], ["date_of_birth", "2004-04-07"], ["phone", "9683059747"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.302680 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.303885 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.305120 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "201916391"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.306329 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "201916391"], ["date_of_birth", "1994-04-07"], ["phone", "5127893952"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:06.307756 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.309002 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.314405 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.315664 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:06.317087 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.318537 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.319766 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.321025 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "9283359252"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:06.322462 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.323686 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.324941 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "065882278"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.330322 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "065882278"], ["date_of_birth", "2001-04-07"], ["phone", "2085101397"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:06.331724 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.333160 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.334588 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.335859 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.337058 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.338667 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.339937 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:06.341072 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.346378 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.347631 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.348869 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.350060 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.351566 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.352750 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:06.353776 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.355045 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.356255 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.357484 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.362714 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.364297 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.365452 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:06.366588 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.368049 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.369359 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.370641 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.371786 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.373298 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.374477 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:06.375656 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.376929 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.382140 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.383450 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.384627 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.386317 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.395193 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:06.396266 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.398161 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.399490 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.400696 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.401878 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.403402 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.404525 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:06.405589 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.410578 #32761] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" ORDER BY start_date DESC, end_date DESC[0m
D, [2020-04-07T21:40:06.411718 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.412925 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.414106 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.415220 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.416382 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.417500 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.418445 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.419311 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.420058 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.420708 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.421456 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.426265 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.426921 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.427724 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.428491 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.429055 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.429874 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:06.430643 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.431283 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.432067 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:06.432828 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.433424 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.434232 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:06.434991 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.435586 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.436470 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.437220 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.441913 #32761] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.442705 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.443493 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.444082 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.444839 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.445568 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.446233 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.446960 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:06.447691 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.448326 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.449096 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:06.449841 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.450427 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.451186 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:06.451926 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.452552 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.453250 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:06.458046 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.458653 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.459415 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.460156 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.460807 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.461556 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.462381 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.462966 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.463722 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.464404 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.465075 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:06.465920 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:06.466228 #32761]  INFO -- : ------------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:06.466312 #32761]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all current assignments for a store or employee. 
I, [2020-04-07T21:40:06.466374 #32761]  INFO -- : ------------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:06.467131 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.468480 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.469852 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9290412269"], ["active", 1]]
D, [2020-04-07T21:40:06.471074 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.472063 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.473100 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.474358 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:06.475567 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.476549 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.477601 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.482715 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7974671900"], ["active", 0]]
D, [2020-04-07T21:40:06.483924 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.485127 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.486729 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "202150734"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.488095 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "202150734"], ["date_of_birth", "2001-04-07"], ["phone", "1288527963"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.489377 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.490671 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.491992 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.493310 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "9858807901"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.494592 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.495783 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.497018 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "013783098"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.502367 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "013783098"], ["date_of_birth", "2004-04-07"], ["phone", "4211903221"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.503658 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.504938 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.506366 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "198960453"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.507660 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "198960453"], ["date_of_birth", "1994-04-07"], ["phone", "6412318836"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:06.508927 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.514220 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.515603 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.516902 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:06.522422 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.523772 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.525124 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.530547 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "5971917698"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:06.531927 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.533189 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.534558 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "116005070"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.535853 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "116005070"], ["date_of_birth", "2001-04-07"], ["phone", "6895233853"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:06.537200 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.538595 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.539859 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.541051 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.546307 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.547896 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.549123 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:06.550253 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.551502 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.552717 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.553904 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.555032 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.556506 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.557614 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:06.562688 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.563997 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.565276 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.566484 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.567650 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.569137 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.570293 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:06.571292 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.572606 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.573903 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.575076 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.576217 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.577695 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.578817 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:06.579900 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.581113 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.582272 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.583437 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.584553 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.590067 #32761] DEBUG -- :   [1m[36mAssignment Exists (4.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.591184 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:06.592269 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.593557 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.594830 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.596031 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.597244 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.598741 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.599863 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:06.600880 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.605985 #32761] DEBUG -- :   [1m[35m (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 1)[0m
D, [2020-04-07T21:40:06.606964 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 2)[0m
D, [2020-04-07T21:40:06.607880 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (employee_id = 5)[0m
D, [2020-04-07T21:40:06.608757 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (employee_id = 1)[0m
D, [2020-04-07T21:40:06.609459 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.610330 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.611142 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.611756 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.612544 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.613283 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.613972 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.614757 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.615512 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.616111 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.616879 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:06.617669 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.618332 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.619107 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:06.619876 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.620479 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.621262 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:06.622029 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.622712 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.623504 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.624318 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.624944 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.629768 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.630789 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.631530 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.632512 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.633310 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.633971 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.634743 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:06.635515 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.636141 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.636866 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:06.637657 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.638291 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.639059 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:06.639733 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.640327 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.641119 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:06.642008 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.642634 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.643440 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.644182 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.644791 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.645485 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.646269 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.646913 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.647695 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.648449 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.649132 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:06.655900 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:06.656205 #32761]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-07T21:40:06.656292 #32761]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹Tue, 14 Apr 2020â€º. 
I, [2020-04-07T21:40:06.656414 #32761]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-07T21:40:06.659633 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.660674 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.661436 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:06.663289 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:06.663604 #32761]  INFO -- : ----------------------------------------------------------
I, [2020-04-07T21:40:06.663675 #32761]  INFO -- : AssignmentTest: test_: Assignment should belong to store. 
I, [2020-04-07T21:40:06.663733 #32761]  INFO -- : ----------------------------------------------------------
D, [2020-04-07T21:40:06.664176 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:06.667787 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:06.668064 #32761]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-07T21:40:06.668141 #32761]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹"bad"â€º. 
I, [2020-04-07T21:40:06.668197 #32761]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-07T21:40:06.671582 #32761] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.672670 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.673411 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:06.679461 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:06.679738 #32761]  INFO -- : ------------------------------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:06.679858 #32761]  INFO -- : AssignmentTest: test_: Given context should end the current assignment if it exists before adding a new assignment for an employee. 
I, [2020-04-07T21:40:06.679917 #32761]  INFO -- : ------------------------------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:06.680674 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.682006 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.683487 #32761] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3084451067"], ["active", 1]]
D, [2020-04-07T21:40:06.684932 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.685958 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.687009 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.688344 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:06.689693 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.690704 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.691728 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.692957 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2280176196"], ["active", 0]]
D, [2020-04-07T21:40:06.694298 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.695455 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.696706 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "176899966"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.702039 #32761] DEBUG -- :   [1m[36mEmployee Create (4.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "176899966"], ["date_of_birth", "2001-04-07"], ["phone", "1415235157"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.703518 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.704842 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.706134 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.707413 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "6547698947"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.708784 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.713985 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.715245 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "153646977"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.716546 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "153646977"], ["date_of_birth", "2004-04-07"], ["phone", "0789202601"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.717943 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.719227 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.720453 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "360693552"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.721711 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "360693552"], ["date_of_birth", "1994-04-07"], ["phone", "5464103872"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:06.723035 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.724205 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.725398 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.726703 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:06.728006 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.729206 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.734542 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.735866 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "8246993089"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:06.737293 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.738500 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.739679 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "072425814"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.740896 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "072425814"], ["date_of_birth", "2001-04-07"], ["phone", "2640353903"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:06.742321 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.743565 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.744854 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.746094 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.747232 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.748721 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.753949 #32761] DEBUG -- :   [1m[36mAssignment Create (4.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:06.755132 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.756482 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.757778 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.758964 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.760056 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.761551 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.762711 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:06.763705 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.764934 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.767219 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.768400 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.769564 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.775731 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.776898 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:06.777923 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.779360 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.780672 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.783614 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.784841 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.786447 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.787628 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:06.788717 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.794180 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.795608 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.796852 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.798034 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.799599 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.800757 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:06.801780 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.803100 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.804347 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.805546 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.806764 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.808293 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.809444 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:06.814579 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.816039 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.817375 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.818617 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.819766 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.821271 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.822457 #32761] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.823988 #32761] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2020-04-06"], ["id", 6]]
D, [2020-04-07T21:40:06.825175 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2020-04-06"]]
D, [2020-04-07T21:40:06.826200 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.827539 #32761] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.828479 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.829327 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:06.830215 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.830886 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.831673 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.832418 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.833002 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.837786 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.838563 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.839218 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.840044 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.840819 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.841445 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.842258 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:06.842933 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.843517 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.844317 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:06.845106 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.845713 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.846499 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:06.847262 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.847869 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.848624 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.849439 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.850058 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.850840 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.851556 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.852185 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.852941 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.857699 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.858375 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.859178 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:06.860010 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.860675 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.861449 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:06.862261 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.862868 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.863609 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:06.864384 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.865012 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.865826 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:06.866610 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.867208 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.868073 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:06.868793 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.869401 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.874256 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:06.874999 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.875642 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.876435 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:06.877167 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.877912 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:06.881303 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:06.881610 #32761]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:06.881725 #32761]  INFO -- : AssignmentTest: test_: Given context should not allow for a end date in the future or before the start date. 
I, [2020-04-07T21:40:06.881794 #32761]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:06.882553 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.883940 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.885405 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3138130062"], ["active", 1]]
D, [2020-04-07T21:40:06.890920 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.891955 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.893153 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.898558 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:06.899977 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.901033 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.902191 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.903457 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4421424694"], ["active", 0]]
D, [2020-04-07T21:40:06.904821 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.910051 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.911441 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "170241469"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.912855 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "170241469"], ["date_of_birth", "2001-04-07"], ["phone", "9508915676"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.914378 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.915683 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.916907 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.918209 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "2605658396"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.919565 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.920768 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.924853 #32761] DEBUG -- :   [1m[36mEmployee Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "186977955"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.926219 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "186977955"], ["date_of_birth", "2004-04-07"], ["phone", "2524563643"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:06.927584 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.928887 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.934286 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "293428106"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.935677 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "293428106"], ["date_of_birth", "1994-04-07"], ["phone", "6854509225"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:06.937113 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.939604 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.940942 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.942458 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:06.944029 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.945418 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.946755 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.948068 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "7692480251"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:06.949440 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.954825 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.956253 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "266152666"], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.957684 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "266152666"], ["date_of_birth", "2001-04-07"], ["phone", "1604608771"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:06.971350 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.972978 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.978516 #32761] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.979841 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.981069 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.982669 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.983875 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:06.984966 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.990321 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:06.991655 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.992859 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:06.994008 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.995491 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:06.996573 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:06.997514 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.002883 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.004145 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.005359 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.006540 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.008056 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.009193 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:07.014263 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.015667 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.016986 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.018478 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.019595 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.021107 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.025517 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:07.026732 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.028047 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.029264 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.030491 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.031652 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.033153 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.034308 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:07.035312 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.036527 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.037738 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.038940 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.040046 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.041518 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.046702 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:07.047755 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.050280 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.051410 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.053761 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.054812 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.055672 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.056495 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:07.057285 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.061969 #32761] DEBUG -- :   [1m[35m (4.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.062737 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:07.063515 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.064079 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.064782 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:07.065532 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.066178 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.066959 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:07.067677 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.068267 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.069004 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:07.069694 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.070357 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.071065 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:07.071804 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.072452 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.073244 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:07.077991 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.078577 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.079325 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:07.080099 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.080701 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.081476 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:07.082436 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.083037 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.083792 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:07.084456 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.085049 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.085827 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:07.086583 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.087153 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.087909 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:07.088636 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.089199 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.089916 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:07.090652 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.091248 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.092069 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:07.092802 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.093424 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.098203 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:07.098944 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.099512 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.100260 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:07.101003 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.101722 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.102503 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.102775 #32761]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-04-07T21:40:07.102849 #32761]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_store' that works. 
I, [2020-04-07T21:40:07.102953 #32761]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-04-07T21:40:07.103732 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.104983 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.106418 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9641611423"], ["active", 1]]
D, [2020-04-07T21:40:07.107733 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.108720 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.109794 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.110981 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:07.112253 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.113212 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.117778 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.119005 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8993424848"], ["active", 0]]
D, [2020-04-07T21:40:07.120275 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.121480 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.122777 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "071141519"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.124090 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "071141519"], ["date_of_birth", "2001-04-07"], ["phone", "9612493059"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:07.125413 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.126618 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.127790 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.129009 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "7511811684"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:07.130353 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.131497 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.132699 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "165884831"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.134045 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "165884831"], ["date_of_birth", "2004-04-07"], ["phone", "6736382036"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:07.135386 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.136541 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.141814 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "194121505"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.143122 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "194121505"], ["date_of_birth", "1994-04-07"], ["phone", "7426642708"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:07.144483 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.145840 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.147138 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.148365 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:07.149724 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.150912 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.152076 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.153324 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "5820070624"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:07.158771 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.160011 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.161235 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "104520622"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.162518 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "104520622"], ["date_of_birth", "2001-04-07"], ["phone", "5823416728"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:07.163863 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.165122 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.166376 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.167579 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.168697 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.170131 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.171336 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:07.172381 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.173595 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.178860 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.180068 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.181193 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.182747 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.183870 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:07.184869 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.186175 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.187366 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.188558 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.193688 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.195268 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.196407 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:07.197471 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.198944 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.200172 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.201364 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.202546 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.204012 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.205112 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:07.209979 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.211341 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.212559 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.213823 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.215007 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.216499 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.217650 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:07.218699 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.219957 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.221131 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.222381 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.223519 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.224945 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.226043 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:07.227067 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.227997 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 1)[0m
D, [2020-04-07T21:40:07.228885 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 2)[0m
D, [2020-04-07T21:40:07.229472 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.234376 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:07.235146 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.235791 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.236593 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:07.237341 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.237966 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.238754 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:07.239486 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.240100 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.240872 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:07.241596 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.246223 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.247090 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:07.247855 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.248464 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.249266 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:07.249994 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.250638 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.251415 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:07.252143 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.252782 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.253574 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:07.254333 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.254907 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.255683 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:07.256383 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.256980 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.257744 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:07.258536 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.259122 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.259855 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:07.260594 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.261187 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.265967 #32761] DEBUG -- :   [1m[36mEmployee Destroy (4.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:07.266738 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.267376 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.268119 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:07.268854 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.269505 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.270373 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:07.271084 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.271673 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.272425 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:07.273142 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.273796 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.274573 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:07.275251 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.275954 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.276673 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.276957 #32761]  INFO -- : ----------------------------------------------------------------------------------------
I, [2020-04-07T21:40:07.277028 #32761]  INFO -- : AssignmentTest: test_: Assignment should validate that :store_id cannot be empty/falsy. 
I, [2020-04-07T21:40:07.277099 #32761]  INFO -- : ----------------------------------------------------------------------------------------
D, [2020-04-07T21:40:07.281054 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.282109 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.282847 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.286011 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.286285 #32761]  INFO -- : ----------------------------------------------------------------------------------
I, [2020-04-07T21:40:07.286359 #32761]  INFO -- : AssignmentTest: test_: Given context should not terminate a completed assignment. 
I, [2020-04-07T21:40:07.286418 #32761]  INFO -- : ----------------------------------------------------------------------------------
D, [2020-04-07T21:40:07.287177 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.288399 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.289907 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6130587833"], ["active", 1]]
D, [2020-04-07T21:40:07.291227 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.292163 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.293151 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.298450 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:07.299828 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.300868 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.301933 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.303116 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7638527749"], ["active", 0]]
D, [2020-04-07T21:40:07.304418 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.305575 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.306825 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "375514077"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.308142 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "375514077"], ["date_of_birth", "2001-04-07"], ["phone", "3187577468"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:07.309482 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.310829 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.312102 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.313332 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "0146729572"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:07.314665 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.315863 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.317076 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "223973911"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.322452 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "223973911"], ["date_of_birth", "2004-04-07"], ["phone", "4683645347"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:07.323792 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.325073 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.326429 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "088892514"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.327698 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "088892514"], ["date_of_birth", "1994-04-07"], ["phone", "8078928436"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:07.329043 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.332423 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.333734 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.335009 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:07.336393 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.341749 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.343218 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.344592 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "4025116839"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:07.345929 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.347246 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.348566 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "158208003"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.349944 #32761] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "158208003"], ["date_of_birth", "2001-04-07"], ["phone", "3569492300"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:07.351350 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.352747 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.354097 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.355311 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.356475 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.358041 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.359227 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:07.360292 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.361482 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.364974 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.366219 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.367360 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.368814 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.370018 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:07.370948 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.372218 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.373336 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.374538 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.375648 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.377113 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.378215 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:07.379306 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.380692 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.385999 #32761] DEBUG -- :   [1m[36mEmployee Load (4.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.387297 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.388499 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.390118 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.391318 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:07.392466 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.393788 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.395011 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.396216 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.397417 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.403038 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.404220 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:07.405302 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.406726 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.407996 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.409345 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.410561 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.412171 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.413369 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:07.414486 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.415463 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.416347 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:07.417132 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.421839 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.422675 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:07.423472 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.424099 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.424926 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:07.425704 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.426389 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.427188 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:07.427954 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.428655 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.429456 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:07.430405 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.431053 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.431792 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:07.432621 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.433227 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.434104 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:07.434905 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.435564 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.436364 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:07.437138 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.437860 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.438656 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:07.439392 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.440039 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.440851 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:07.445771 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.446477 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.447287 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:07.448063 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.448688 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.449478 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:07.450309 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.450953 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.451725 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:07.452488 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.453200 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.454080 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:07.454833 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.455523 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.456325 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:07.457121 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.457827 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.458584 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:07.459400 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.460099 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.467148 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.467494 #32761]  INFO -- : ---------------------------------------------------------------------------------------------
I, [2020-04-07T21:40:07.467593 #32761]  INFO -- : AssignmentTest: test_: Given context should terminate an assignment effectively as of today. 
I, [2020-04-07T21:40:07.467657 #32761]  INFO -- : ---------------------------------------------------------------------------------------------
D, [2020-04-07T21:40:07.468579 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.470045 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.471596 #32761] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7425050282"], ["active", 1]]
D, [2020-04-07T21:40:07.473018 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.474061 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.475172 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.476523 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-04-07T21:40:07.477926 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.478922 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.480055 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.481398 #32761] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8840078347"], ["active", 0]]
D, [2020-04-07T21:40:07.482976 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.484180 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.485707 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "247776704"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.487179 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "247776704"], ["date_of_birth", "2001-04-07"], ["phone", "6160829679"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:07.488704 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.493993 #32761] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.495439 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.496874 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-04-07"], ["phone", "6857770180"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:07.498443 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.499722 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.513520 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "130571493"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.515014 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "130571493"], ["date_of_birth", "2004-04-07"], ["phone", "5183173234"], ["role", "employee"], ["active", 1]]
D, [2020-04-07T21:40:07.516509 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.517928 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.519173 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "043508219"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.520486 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "043508219"], ["date_of_birth", "1994-04-07"], ["phone", "7600911968"], ["role", "employee"], ["active", 0]]
D, [2020-04-07T21:40:07.525954 #32761] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.527378 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.528800 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.530121 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-04-07"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:07.531508 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.532771 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.534258 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.535539 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-04-07"], ["phone", "1759108988"], ["role", "manager"], ["active", 1]]
D, [2020-04-07T21:40:07.536863 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.538116 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.539325 #32761] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "229644558"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.540649 #32761] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "229644558"], ["date_of_birth", "2001-04-07"], ["phone", "0994790406"], ["role", "admin"], ["active", 1]]
D, [2020-04-07T21:40:07.542012 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.543401 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.544719 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.550097 #32761] DEBUG -- :   [1m[36mStore Load (4.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.551370 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.552978 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.554383 #32761] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-07"], ["end_date", "2020-03-07"]]
D, [2020-04-07T21:40:07.555568 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.556936 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.558177 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.559423 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.560565 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.562181 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.563326 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:07.564351 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.565587 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.570928 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.572169 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.573347 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.574914 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.576083 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-02-07"]]
D, [2020-04-07T21:40:07.577106 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.578536 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.579753 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.580993 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.582961 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.584522 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.585835 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-04-07"], ["end_date", "2019-10-07"]]
D, [2020-04-07T21:40:07.586984 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.588338 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.589586 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.590859 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.592043 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.593605 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.598894 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-10-07"]]
D, [2020-04-07T21:40:07.599991 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.601434 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.602710 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.603970 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.605162 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.606794 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.607944 #32761] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-06-07"]]
D, [2020-04-07T21:40:07.608992 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.613914 #32761] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.615405 #32761] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.616555 #32761] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.617632 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.618783 #32761] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2020-04-07"], ["id", 6]]
D, [2020-04-07T21:40:07.619722 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.620719 #32761] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.621834 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.622643 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:07.623501 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.624119 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.624954 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:07.625732 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.626405 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.627182 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:07.627934 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.628557 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.629381 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:07.634164 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.634786 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.635606 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:07.636364 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.637057 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.637894 #32761] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:07.638661 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.639315 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.640074 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:07.640866 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.641511 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.642334 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:07.643117 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.643712 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.644532 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:07.645214 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.645835 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.646667 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-04-07T21:40:07.647454 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.648112 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.648851 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-04-07T21:40:07.649663 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.650260 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.650972 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-04-07T21:40:07.651770 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.652379 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.653188 #32761] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-04-07T21:40:07.658054 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.658679 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.659634 #32761] DEBUG -- :   [1m[36mStore Destroy (0.2ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-04-07T21:40:07.660442 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.661107 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.661948 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-04-07T21:40:07.662732 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.663361 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.664172 #32761] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-04-07T21:40:07.664955 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.669717 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.672676 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.672988 #32761]  INFO -- : -----------------------------------------
I, [2020-04-07T21:40:07.673076 #32761]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-07T21:40:07.673138 #32761]  INFO -- : -----------------------------------------
I, [2020-04-07T21:40:07.674123 #32761]  INFO -- : Started GET "/home/about" for 127.0.0.1 at 2020-04-07 21:40:07 +0000
I, [2020-04-07T21:40:07.676557 #32761]  INFO -- : Processing by HomeController#about as HTML
I, [2020-04-07T21:40:07.678846 #32761]  INFO -- :   Rendering home/about.html.erb within layouts/application
I, [2020-04-07T21:40:07.679524 #32761]  INFO -- :   Rendered home/about.html.erb within layouts/application (0.4ms)
I, [2020-04-07T21:40:07.682108 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-07T21:40:07.682771 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:40:07.683403 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:40:07.684088 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:40:07.685145 #32761]  INFO -- : Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
D, [2020-04-07T21:40:07.688553 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.694013 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.694405 #32761]  INFO -- : -------------------------------------------
I, [2020-04-07T21:40:07.694480 #32761]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-07T21:40:07.694539 #32761]  INFO -- : -------------------------------------------
I, [2020-04-07T21:40:07.695476 #32761]  INFO -- : Started GET "/home/contact" for 127.0.0.1 at 2020-04-07 21:40:07 +0000
I, [2020-04-07T21:40:07.696481 #32761]  INFO -- : Processing by HomeController#contact as HTML
I, [2020-04-07T21:40:07.702382 #32761]  INFO -- :   Rendering home/contact.html.erb within layouts/application
I, [2020-04-07T21:40:07.703127 #32761]  INFO -- :   Rendered home/contact.html.erb within layouts/application (0.4ms)
I, [2020-04-07T21:40:07.705392 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-07T21:40:07.706049 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-07T21:40:07.706669 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:40:07.707379 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:40:07.708309 #32761]  INFO -- : Completed 200 OK in 11ms (Views: 5.8ms | ActiveRecord: 0.0ms)
D, [2020-04-07T21:40:07.711923 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.712662 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.712960 #32761]  INFO -- : -----------------------------------------
I, [2020-04-07T21:40:07.713040 #32761]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-07T21:40:07.713109 #32761]  INFO -- : -----------------------------------------
I, [2020-04-07T21:40:07.717881 #32761]  INFO -- : Started GET "/home" for 127.0.0.1 at 2020-04-07 21:40:07 +0000
I, [2020-04-07T21:40:07.718872 #32761]  INFO -- : Processing by HomeController#index as HTML
I, [2020-04-07T21:40:07.720491 #32761]  INFO -- :   Rendering home/index.html.erb within layouts/application
I, [2020-04-07T21:40:07.721161 #32761]  INFO -- :   Rendered home/index.html.erb within layouts/application (0.3ms)
I, [2020-04-07T21:40:07.723407 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:40:07.724023 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:40:07.724646 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:40:07.725376 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:40:07.729909 #32761]  INFO -- : Completed 200 OK in 11ms (Views: 5.6ms | ActiveRecord: 0.0ms)
D, [2020-04-07T21:40:07.733398 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.734175 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.734498 #32761]  INFO -- : -------------------------------------------
I, [2020-04-07T21:40:07.734576 #32761]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-07T21:40:07.734629 #32761]  INFO -- : -------------------------------------------
I, [2020-04-07T21:40:07.735482 #32761]  INFO -- : Started GET "/home/privacy" for 127.0.0.1 at 2020-04-07 21:40:07 +0000
I, [2020-04-07T21:40:07.736398 #32761]  INFO -- : Processing by HomeController#privacy as HTML
I, [2020-04-07T21:40:07.742369 #32761]  INFO -- :   Rendering home/privacy.html.erb within layouts/application
I, [2020-04-07T21:40:07.743063 #32761]  INFO -- :   Rendered home/privacy.html.erb within layouts/application (0.4ms)
I, [2020-04-07T21:40:07.745366 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.4ms)
I, [2020-04-07T21:40:07.746015 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.2ms)
I, [2020-04-07T21:40:07.746701 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:40:07.747383 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-07T21:40:07.748412 #32761]  INFO -- : Completed 200 OK in 12ms (Views: 5.9ms | ActiveRecord: 0.0ms)
D, [2020-04-07T21:40:07.755749 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.756957 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.757252 #32761]  INFO -- : --------------------------------------------
I, [2020-04-07T21:40:07.757362 #32761]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-07T21:40:07.757421 #32761]  INFO -- : --------------------------------------------
D, [2020-04-07T21:40:07.758384 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.759906 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.761377 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5682819192"], ["active", 1]]
D, [2020-04-07T21:40:07.766972 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:07.768159 #32761]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-07 21:40:07 +0000
I, [2020-04-07T21:40:07.769143 #32761]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-07T21:40:07.769398 #32761]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-07T21:40:07.774439 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.776359 #32761] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (store_id = 1) AND (role = 'manager')[0m
D, [2020-04-07T21:40:07.777386 #32761] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 1)[0m
I, [2020-04-07T21:40:07.783047 #32761]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-07T21:40:07.784597 #32761]  INFO -- :   Rendered stores/show.html.erb within layouts/application (1.2ms)
I, [2020-04-07T21:40:07.786665 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:40:07.787311 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:40:07.787974 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:40:07.788637 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:40:07.793780 #32761]  INFO -- : Completed 200 OK in 20ms (Views: 7.1ms | ActiveRecord: 0.4ms)
D, [2020-04-07T21:40:07.798704 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.799470 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.799783 #32761]  INFO -- : -----------------------------------------
I, [2020-04-07T21:40:07.799852 #32761]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-07T21:40:07.799910 #32761]  INFO -- : -----------------------------------------
D, [2020-04-07T21:40:07.800800 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.806077 #32761] DEBUG -- :   [1m[36mStore Exists (4.0ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.807657 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7729676411"], ["active", 1]]
D, [2020-04-07T21:40:07.809113 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:07.810341 #32761]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-07 21:40:07 +0000
I, [2020-04-07T21:40:07.811409 #32761]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-07T21:40:07.813115 #32761]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-07T21:40:07.822620 #32761]  INFO -- :   Rendered stores/_form.html.erb (8.1ms)
I, [2020-04-07T21:40:07.823035 #32761]  INFO -- :   Rendered stores/new.html.erb within layouts/application (9.6ms)
I, [2020-04-07T21:40:07.825120 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:40:07.829672 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:40:07.830385 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:40:07.831043 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.3ms)
I, [2020-04-07T21:40:07.832117 #32761]  INFO -- : Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.0ms)
D, [2020-04-07T21:40:07.835914 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.836632 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.836932 #32761]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-07T21:40:07.837003 #32761]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-07T21:40:07.837062 #32761]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-07T21:40:07.837972 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.839344 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.840794 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1134049291"], ["active", 1]]
D, [2020-04-07T21:40:07.846261 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:07.847390 #32761]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-07 21:40:07 +0000
F, [2020-04-07T21:40:07.866158 #32761] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-07T21:40:07.869724 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.870448 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.870723 #32761]  INFO -- : ---------------------------------------------------------------
I, [2020-04-07T21:40:07.870794 #32761]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-07T21:40:07.870903 #32761]  INFO -- : ---------------------------------------------------------------
D, [2020-04-07T21:40:07.871719 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.872971 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.878318 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6013706316"], ["active", 1]]
D, [2020-04-07T21:40:07.879781 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.880768 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-07T21:40:07.882033 #32761]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-07 21:40:07 +0000
I, [2020-04-07T21:40:07.883051 #32761]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-07T21:40:07.883384 #32761]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-07T21:40:07.884571 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.885906 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.887361 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-07T21:40:07.888658 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:07.889652 #32761]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-07T21:40:07.890725 #32761]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-04-07T21:40:07.899566 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-07T21:40:07.900499 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:07.901588 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.902365 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.902672 #32761]  INFO -- : -------------------------------------------
I, [2020-04-07T21:40:07.902744 #32761]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-07T21:40:07.902806 #32761]  INFO -- : -------------------------------------------
D, [2020-04-07T21:40:07.903633 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.904861 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.906281 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5974964503"], ["active", 1]]
D, [2020-04-07T21:40:07.907550 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:07.908635 #32761]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-07 21:40:07 +0000
I, [2020-04-07T21:40:07.909586 #32761]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-07T21:40:07.914314 #32761]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-07T21:40:07.915888 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-07T21:40:07.917065 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
D, [2020-04-07T21:40:07.918839 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
I, [2020-04-07T21:40:07.919684 #32761]  INFO -- :   Rendered stores/index.html.erb within layouts/application (5.0ms)
I, [2020-04-07T21:40:07.921746 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:40:07.922364 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:40:07.922938 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-07T21:40:07.923646 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:40:07.924602 #32761]  INFO -- : Completed 200 OK in 15ms (Views: 9.7ms | ActiveRecord: 0.3ms)
D, [2020-04-07T21:40:07.930567 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.931271 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.931580 #32761]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-07T21:40:07.931654 #32761]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-07T21:40:07.931710 #32761]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-07T21:40:07.932559 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.933973 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.935376 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2167079177"], ["active", 1]]
D, [2020-04-07T21:40:07.936744 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:07.938041 #32761]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-07 21:40:07 +0000
I, [2020-04-07T21:40:07.939035 #32761]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-07T21:40:07.939353 #32761]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-07T21:40:07.940565 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.946565 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-07T21:40:07.948008 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:07.949003 #32761]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-07T21:40:07.956606 #32761]  INFO -- :   Rendered stores/_form.html.erb (7.1ms)
I, [2020-04-07T21:40:07.957057 #32761]  INFO -- :   Rendered stores/new.html.erb within layouts/application (7.7ms)
I, [2020-04-07T21:40:07.963182 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:40:07.963797 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:40:07.964438 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.1ms)
I, [2020-04-07T21:40:07.965104 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:40:07.966466 #32761]  INFO -- : Completed 200 OK in 27ms (Views: 16.9ms | ActiveRecord: 0.3ms)
D, [2020-04-07T21:40:07.971680 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:07.974060 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:07.974382 #32761]  INFO -- : ---------------------------------------------------------------
I, [2020-04-07T21:40:07.974465 #32761]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-07T21:40:07.974558 #32761]  INFO -- : ---------------------------------------------------------------
D, [2020-04-07T21:40:07.975474 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.976905 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.982507 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7743037498"], ["active", 1]]
D, [2020-04-07T21:40:07.984067 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:07.985316 #32761]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-07 21:40:07 +0000
I, [2020-04-07T21:40:07.986645 #32761]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-07T21:40:07.986980 #32761]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-07T21:40:07.987854 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.989223 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:07.991024 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:07.992751 #32761] DEBUG -- :   [1m[36mStore Update (0.2ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-07T21:40:07.994308 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:07.995232 #32761]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-07T21:40:07.996469 #32761]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
D, [2020-04-07T21:40:08.006374 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:08.007175 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:08.007495 #32761]  INFO -- : ------------------------------------------
I, [2020-04-07T21:40:08.007592 #32761]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-07T21:40:08.007658 #32761]  INFO -- : ------------------------------------------
D, [2020-04-07T21:40:08.008585 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:08.010030 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:08.011617 #32761] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1821873031"], ["active", 1]]
D, [2020-04-07T21:40:08.013150 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:08.014354 #32761]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-07 21:40:08 +0000
I, [2020-04-07T21:40:08.015420 #32761]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-07T21:40:08.015718 #32761]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-07T21:40:08.016569 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-07T21:40:08.021176 #32761]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-07T21:40:08.029381 #32761]  INFO -- :   Rendered stores/_form.html.erb (7.3ms)
I, [2020-04-07T21:40:08.029839 #32761]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (8.3ms)
I, [2020-04-07T21:40:08.031966 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:40:08.032604 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:40:08.033224 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:40:08.033942 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:40:08.035005 #32761]  INFO -- : Completed 200 OK in 19ms (Views: 13.6ms | ActiveRecord: 0.1ms)
D, [2020-04-07T21:40:08.043657 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-07T21:40:08.044456 #32761] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-07T21:40:08.044796 #32761]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-07T21:40:08.044890 #32761]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-07T21:40:08.044954 #32761]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-07T21:40:08.045922 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:08.047342 #32761] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-07T21:40:08.048888 #32761] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0292800191"], ["active", 1]]
D, [2020-04-07T21:40:08.050443 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:08.063675 #32761]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-07 21:40:08 +0000
I, [2020-04-07T21:40:08.064911 #32761]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-07T21:40:08.065267 #32761]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-07T21:40:08.066214 #32761] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:08.067553 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-07T21:40:08.073842 #32761] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-07T21:40:08.075878 #32761] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-07T21:40:08.076831 #32761]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-07T21:40:08.084464 #32761]  INFO -- :   Rendered stores/_form.html.erb (7.1ms)
I, [2020-04-07T21:40:08.084876 #32761]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (7.7ms)
I, [2020-04-07T21:40:08.087026 #32761]  INFO -- :   Rendered partials/_topbar.html.erb (0.3ms)
I, [2020-04-07T21:40:08.087644 #32761]  INFO -- :   Rendered partials/_nav.html.erb (0.1ms)
I, [2020-04-07T21:40:08.088286 #32761]  INFO -- :   Rendered partials/_quick_links.html.erb (0.2ms)
I, [2020-04-07T21:40:08.088903 #32761]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-07T21:40:08.094334 #32761]  INFO -- : Completed 200 OK in 29ms (Views: 12.8ms | ActiveRecord: 0.4ms)
D, [2020-04-07T21:40:08.099703 #32761] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
